(self.webpackChunktwilio_send=self.webpackChunktwilio_send||[]).push([[179],{8255:Ze=>{function De(j){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+j+"'");throw u.code="MODULE_NOT_FOUND",u})}De.keys=()=>[],De.resolve=De,De.id=8255,Ze.exports=De},7716:(Ze,De,j)=>{"use strict";j.d(De,{deG:()=>Ag,tb:()=>da,AFp:()=>zD,ip1:()=>f0,CZH:()=>Vd,hGG:()=>k1,z2F:()=>su,sBO:()=>zR,Sil:()=>pp,_Vd:()=>ao,EJc:()=>YD,SBq:()=>ra,qLn:()=>Il,vpe:()=>ca,gxx:()=>pf,tBr:()=>El,XFs:()=>$e,OlP:()=>Pn,zs3:()=>wn,ZZ4:()=>n_,aQg:()=>i_,soG:()=>cp,YKP:()=>kx,v3s:()=>_1,h0i:()=>Wi,PXZ:()=>N_,R0b:()=>lr,FiY:()=>jo,Lbi:()=>I_,g9A:()=>T_,n_E:()=>op,Qsj:()=>Uf,FYo:()=>cs,JOm:()=>Os,Tiy:()=>Jm,q3G:()=>Xt,tp0:()=>Ts,EAV:()=>V_,Rgc:()=>Hf,dDg:()=>nA,DyG:()=>zc,q4F:()=>bx,GfV:()=>Xm,s_b:()=>a_,ifc:()=>We,eFA:()=>aA,G48:()=>c1,Gpc:()=>re,f3M:()=>Ig,X6Q:()=>y0,_c5:()=>M1,VLi:()=>u1,c2e:()=>p0,zSh:()=>ym,wAp:()=>ct,vHH:()=>Ce,EiD:()=>Yu,mCW:()=>os,qzn:()=>Yo,JVY:()=>hv,pB0:()=>nd,eBb:()=>Gg,L6k:()=>fv,LAX:()=>pv,cg1:()=>ew,Tjo:()=>D1,kL8:()=>zm,yhl:()=>Hh,dqk:()=>un,sIi:()=>wm,CqO:()=>Am,QGY:()=>Ob,F4k:()=>zl,RDi:()=>Fc,AaK:()=>ne,z3N:()=>zo,qOj:()=>ro,TTD:()=>ji,_Bn:()=>hx,xp6:()=>jv,uIk:()=>iS,Gre:()=>kS,ekj:()=>wr,Suo:()=>CD,Xpm:()=>si,lG2:()=>yh,Yz7:()=>Wt,cJS:()=>Bn,oAB:()=>_h,Yjl:()=>rg,Y36:()=>Fs,_UZ:()=>xm,BQk:()=>Dm,ynx:()=>_S,qZA:()=>Sm,TgZ:()=>br,EpF:()=>Rb,n5z:()=>jc,Ikx:()=>Jb,LFG:()=>bn,$8M:()=>to,$Z:()=>Mb,NdJ:()=>Sf,CRH:()=>ED,kcU:()=>Vc,O4$:()=>Bc,oxw:()=>Pb,ALo:()=>pD,lcZ:()=>Kw,Hsn:()=>Nb,F$t:()=>yS,Q6J:()=>Cf,VKq:()=>uD,WLB:()=>SO,iGM:()=>wD,MAs:()=>_I,CHM:()=>Su,LSH:()=>rd,kYT:()=>ig,Udp:()=>Lm,WFA:()=>kb,d8E:()=>Hm,YNc:()=>mI,_uU:()=>kf,Oqu:()=>zb,hij:()=>Gm,lnq:()=>Yb,Gf:()=>nu});var u=j(9765),he=j(5319),k=j(7574),te=j(6682),_e=j(8819);function se(a){for(let l in a)if(a[l]===se)return l;throw Error("Could not find renamed property on target object.")}function J(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function ne(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ne).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function Z(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const H=se({__forward_ref__:se});function re(a){return a.__forward_ref__=re,a.toString=function(){return ne(this())},a}function Y(a){return ee(a)?a():a}function ee(a){return"function"==typeof a&&a.hasOwnProperty(H)&&a.__forward_ref__===re}class Ce extends Error{constructor(l,d){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,d)),this.code=l}}function Oe(a){return"string"==typeof a?a:null==a?"":String(a)}function Le(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Oe(a)}function nn(a,l){const d=l?` in ${l}`:"";throw new Ce("201",`No provider for ${Le(a)} found${d}`)}function it(a,l){null==a&&function(a,l,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Wt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bn(a){return{providers:a.providers||[],imports:a.imports||[]}}function di(a){return ts(a,jt)||ts(a,yi)}function ts(a,l){return a.hasOwnProperty(l)?a[l]:null}function mu(a){return a&&(a.hasOwnProperty(Rt)||a.hasOwnProperty(vi))?a[Rt]:null}const jt=se({\u0275prov:se}),Rt=se({\u0275inj:se}),yi=se({ngInjectableDef:se}),vi=se({ngInjectorDef:se});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let vn;function qn(a){const l=vn;return vn=a,l}function ws(a,l,d){const h=di(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&$e.Optional?null:void 0!==l?l:void nn(ne(a),"Injector")}function kr(a){return{toString:a}.toString()}var ri=(()=>((ri=ri||{})[ri.OnPush=0]="OnPush",ri[ri.Default=1]="Default",ri))(),We=(()=>((We=We||{})[We.Emulated=0]="Emulated",We[We.None=2]="None",We[We.ShadowDom=3]="ShadowDom",We))();const wt="undefined"!=typeof globalThis&&globalThis,mh="undefined"!=typeof window&&window,wo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fr="undefined"!=typeof global&&global,un=wt||Fr||mh||wo,K={},W=[],ie=se({\u0275cmp:se}),be=se({\u0275dir:se}),oe=se({\u0275pipe:se}),Be=se({\u0275mod:se}),ft=se({\u0275loc:se}),Lt=se({\u0275fac:se}),Zt=se({__NG_ELEMENT_ID__:se});let en=0;function si(a){return kr(()=>{const d={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||W,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||We.Emulated,id:"c",styles:a.styles||W,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,v=a.features,w=a.pipes;return h.id+=en++,h.inputs=Mc(a.inputs,d),h.outputs=Mc(a.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(Zi):null,h.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ws):null,h})}function Zi(a){return Mi(a)||function(a){return a[be]||null}(a)}function Ws(a){return function(a){return a[oe]||null}(a)}const Ac={};function _h(a){return kr(()=>{const l={type:a.type,bootstrap:a.bootstrap||W,declarations:a.declarations||W,imports:a.imports||W,exports:a.exports||W,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ac[a.id]=a.type),l})}function ig(a,l){return kr(()=>{const d=Nr(a,!0);d.declarations=l.declarations||W,d.imports=l.imports||W,d.exports=l.exports||W})}function Mc(a,l){if(null==a)return K;const d={};for(const h in a)if(a.hasOwnProperty(h)){let m=a[h],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),d[m]=h,l&&(l[m]=v)}return d}const yh=si;function rg(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Mi(a){return a[ie]||null}function Nr(a,l){const d=a[Be]||null;if(!d&&!0===l)throw new Error(`Type ${ne(a)} does not have '\u0275mod' property.`);return d}function Rn(a){return Array.isArray(a)&&"object"==typeof a[1]}function Lr(a){return Array.isArray(a)&&!0===a[1]}function yu(a){return 0!=(8&a.flags)}function hi(a){return 2==(2&a.flags)}function Ic(a){return 1==(1&a.flags)}function Ss(a){return null!==a.template}function ns(a){return 0!=(512&a[2])}function Ks(a,l){return a.hasOwnProperty(Lt)?a[Lt]:null}class wh{constructor(l,d,h){this.previousValue=l,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function ji(){return Oc}function Oc(a){return a.type.prototype.ngOnChanges&&(a.setInput=ag),og}function og(){const a=Zs(this),l=null==a?void 0:a.current;if(l){const d=a.previous;if(d===K)a.previous=l;else for(let h in l)d[h]=l[h];a.current=null,this.ngOnChanges(l)}}function ag(a,l,d,h){const m=Zs(a)||function(a,l){return a[wa]=l}(a,{previous:K,current:null}),v=m.current||(m.current={}),w=m.previous,E=this.declaredInputs[d],D=w[E];v[E]=new wh(D&&D.currentValue,l,w===K),a[h]=l}ji.ngInherit=!0;const wa="__ngSimpleChanges__";function Zs(a){return a[wa]||null}const dn="http://www.w3.org/2000/svg";let kc;function Fc(a){kc=a}function Cn(a){return!!a.listen}const _t={createRenderer:(a,l)=>void 0!==kc?kc:"undefined"!=typeof document?document:void 0};function _n(a){for(;Array.isArray(a);)a=a[0];return a}function pl(a,l){return _n(l[a])}function Br(a,l){return _n(l[a.index])}function So(a,l){return a.data[l]}function xo(a,l){return a[l]}function tr(a,l){const d=l[a];return Rn(d)?d:d[0]}function cg(a){return 4==(4&a[2])}function dg(a){return 128==(128&a[2])}function Do(a,l){return null==l?null:a[l]}function Ch(a){a[18]=0}function Ao(a,l){a[5]+=l;let d=a,h=a[3];for(;null!==h&&(1===l&&1===d[5]||-1===l&&0===d[5]);)h[5]+=l,d=h,h=h[3]}const pt={lFrame:Mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qy(){return pt.bindingsEnabled}function Te(){return pt.lFrame.lView}function Gt(){return pt.lFrame.tView}function Su(a){return pt.lFrame.contextLView=a,a[8]}function kn(){let a=xu();for(;null!==a&&64===a.type;)a=a.parent;return a}function xu(){return pt.lFrame.currentTNode}function Hi(a,l){const d=pt.lFrame;d.currentTNode=a,d.isParent=l}function Du(){return pt.lFrame.isParent}function Au(){pt.lFrame.isParent=!1}function Ea(){return pt.isInCheckNoChangesMode}function Xs(a){pt.isInCheckNoChangesMode=a}function Jn(){const a=pt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function gr(){return pt.lFrame.bindingIndex}function As(){return pt.lFrame.bindingIndex++}function Vr(a){const l=pt.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function gg(a,l){const d=pt.lFrame;d.bindingIndex=d.bindingRootIndex=a,nr(l)}function nr(a){pt.lFrame.currentDirectiveIndex=a}function Mu(a){const l=pt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Nc(){return pt.lFrame.currentQueryIndex}function Sa(a){pt.lFrame.currentQueryIndex=a}function mg(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Sh(a,l,d){if(d&$e.SkipSelf){let m=l,v=a;for(;!(m=m.parent,null!==m||d&$e.Host||(m=mg(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;l=m,a=v}const h=pt.lFrame=Lc();return h.currentTNode=l,h.lView=a,!0}function xa(a){const l=Lc(),d=a[1];pt.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Lc(){const a=pt.lFrame,l=null===a?null:a.child;return null===l?Mo(a):l}function Mo(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function _g(){const a=pt.lFrame;return pt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Xy=_g;function eo(){const a=_g();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ai(){return pt.lFrame.selectedIndex}function rs(a){pt.lFrame.selectedIndex=a}function Un(){const a=pt.lFrame;return So(a.tView,a.selectedIndex)}function Bc(){pt.lFrame.currentNamespace=dn}function Vc(){pt.lFrame.currentNamespace=null}function To(a,l){for(let d=l.directiveStart,h=l.directiveEnd;d<h;d++){const v=a.data[d].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:O}=v;w&&(a.contentHooks||(a.contentHooks=[])).push(-d,w),E&&((a.contentHooks||(a.contentHooks=[])).push(d,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,E)),D&&(a.viewHooks||(a.viewHooks=[])).push(-d,D),T&&((a.viewHooks||(a.viewHooks=[])).push(d,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,T)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(d,O)}}function Io(a,l,d){Ro(a,l,3,d)}function Tu(a,l,d,h){(3&a[2])===d&&Ro(a,l,d,h)}function Iu(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function Ro(a,l,d,h){const v=null!=h?h:-1,w=l.length-1;let E=0;for(let D=void 0!==h?65535&a[18]:0;D<w;D++)if("number"==typeof l[D+1]){if(E=l[D],null!=h&&E>=h)break}else l[D]<0&&(a[18]+=65536),(E<v||-1==v)&&(yg(a,d,l,D),a[18]=(4294901760&a[18])+D+2),D++}function yg(a,l,d,h){const m=d[h]<0,v=d[h+1],E=a[m?-d[h]:d[h]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(E)}finally{}}}else try{v.call(E)}finally{}}class ml{constructor(l,d,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Ah(a,l,d){const h=Cn(a);let m=0;for(;m<d.length;){const v=d[m];if("number"==typeof v){if(0!==v)break;m++;const w=d[m++],E=d[m++],D=d[m++];h?a.setAttribute(l,E,D,w):l.setAttributeNS(w,E,D)}else{const w=v,E=d[++m];ss(w)?h&&a.setProperty(l,w,E):h?a.setAttribute(l,w,E):l.setAttribute(w,E),m++}}return m}function bg(a){return 3===a||4===a||6===a}function ss(a){return 64===a.charCodeAt(0)}function Ou(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let h=0;h<l.length;h++){const m=l[h];"number"==typeof m?d=m:0===d||wg(a,d,m,null,-1===d||2===d?l[++h]:null)}}return a}function wg(a,l,d,h,m){let v=0,w=a.length;if(-1===l)w=-1;else for(;v<a.length;){const E=a[v++];if("number"==typeof E){if(E===l){w=-1;break}if(E>l){w=v-1;break}}}for(;v<a.length;){const E=a[v];if("number"==typeof E)break;if(E===d){if(null===h)return void(null!==m&&(a[v+1]=m));if(h===a[v+1])return void(a[v+2]=m)}v++,null!==h&&v++,null!==m&&v++}-1!==w&&(a.splice(w,0,l),v=w+1),a.splice(v++,0,d),null!==h&&a.splice(v++,0,h),null!==m&&a.splice(v++,0,m)}function Gc(a){return-1!==a}function Da(a){return 32767&a}function ku(a,l){let d=function(a){return a>>16}(a),h=l;for(;d>0;)h=h[15],d--;return h}let Cg=!0;function Aa(a){const l=Cg;return Cg=a,l}let XC=0;function _l(a,l){const d=ze(a,l);if(-1!==d)return d;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Th(h.data,a),Th(l,null),Th(h.blueprint,null));const m=Fu(a,l),v=a.injectorIndex;if(Gc(m)){const w=Da(m),E=ku(m,l),D=E[1].data;for(let T=0;T<8;T++)l[v+T]=E[w+T]|D[w+T]}return l[v+8]=m,v}function Th(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ze(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Fu(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,m=l;for(;null!==m;){const v=m[1],w=v.type;if(h=2===w?v.declTNode:1===w?m[6]:null,null===h)return-1;if(d++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function wi(a,l,d){!function(a,l,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Zt)&&(h=d[Zt]),null==h&&(h=d[Zt]=XC++);const m=255&h;l.data[a+(m>>5)]|=1<<m}(a,l,d)}function fi(a,l,d){if(d&$e.Optional)return a;nn(l,"NodeInjector")}function pi(a,l,d,h){if(d&$e.Optional&&void 0===h&&(h=null),0==(d&($e.Self|$e.Host))){const m=a[9],v=qn(void 0);try{return m?m.get(l,h,d&$e.Optional):ws(l,h,d&$e.Optional)}finally{qn(v)}}return fi(h,l,d)}function rn(a,l,d,h=$e.Default,m){if(null!==a){const v=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Zt)?a[Zt]:void 0;return"number"==typeof l?l>=0?255&l:xg:l}(d);if("function"==typeof v){if(!Sh(l,a,h))return h&$e.Host?fi(m,d,h):pi(l,d,h,m);try{const w=v(h);if(null!=w||h&$e.Optional)return w;nn(d)}finally{Xy()}}else if("number"==typeof v){let w=null,E=ze(a,l),D=-1,T=h&$e.Host?l[16][6]:null;for((-1===E||h&$e.SkipSelf)&&(D=-1===E?Fu(a,l):l[E+8],-1!==D&&Ms(h,!1)?(w=l[1],E=Da(D),l=ku(D,l)):E=-1);-1!==E;){const O=l[1];if(Pu(v,E,O.data)){const N=$n(E,l,d,w,h,T);if(N!==Sg)return N}D=l[E+8],-1!==D&&Ms(h,l[1].data[E+8]===T)&&Pu(v,E,l)?(w=O,E=Da(D),l=ku(D,l)):E=-1}}}return pi(l,d,h,m)}const Sg={};function xg(){return new Ma(kn(),Te())}function $n(a,l,d,h,m,v){const w=l[1],E=w.data[a+8],O=yl(E,w,d,null==h?hi(E)&&Cg:h!=w&&0!=(3&E.type),m&$e.Host&&v===E);return null!==O?vl(l,w,O,E):Sg}function yl(a,l,d,h,m){const v=a.providerIndexes,w=l.data,E=1048575&v,D=a.directiveStart,O=v>>20,B=m?E+O:a.directiveEnd;for(let $=h?E:E+O;$<B;$++){const X=w[$];if($<D&&d===X||$>=D&&X.type===d)return $}if(m){const $=w[D];if($&&Ss($)&&$.type===d)return D}return null}function vl(a,l,d,h){let m=a[d];const v=l.data;if(function(a){return a instanceof ml}(m)){const w=m;w.resolving&&function(a,l){throw new Ce("200",`Circular dependency in DI detected for ${a}`)}(Le(v[d]));const E=Aa(w.canSeeViewProviders);w.resolving=!0;const D=w.injectImpl?qn(w.injectImpl):null;Sh(a,h,$e.Default);try{m=a[d]=w.factory(void 0,v,a,h),l.firstCreatePass&&d>=h.directiveStart&&function(a,l,d){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:v}=l.type.prototype;if(h){const w=Oc(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,w),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,w)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,m),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,v))}(d,v[d],l)}finally{null!==D&&qn(D),Aa(E),w.resolving=!1,Xy()}}return m}function Pu(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function Ms(a,l){return!(a&$e.Self||a&$e.Host&&l)}class Ma{constructor(l,d){this._tNode=l,this._lView=d}get(l,d){return rn(this._tNode,this._lView,l,void 0,d)}}function jc(a){return kr(()=>{const l=a.prototype.constructor,d=l[Lt]||_r(l),h=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==h;){const v=m[Lt]||_r(m);if(v&&v!==d)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function _r(a){return ee(a)?()=>{const l=_r(Y(a));return l&&l()}:Ks(a)}function to(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const h=d.length;let m=0;for(;m<h;){const v=d[m];if(bg(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<h&&"string"==typeof d[m];)m++;else{if(v===l)return d[m+1];m+=2}}}return null}(kn(),a)}const Ta="__parameters__";function Po(a,l,d){return kr(()=>{const h=function(a){return function(...d){if(a){const h=a(...d);for(const m in h)this[m]=h[m]}}}(l);function m(...v){if(this instanceof m)return h.apply(this,v),this;const w=new m(...v);return E.annotation=w,E;function E(D,T,O){const N=D.hasOwnProperty(Ta)?D[Ta]:Object.defineProperty(D,Ta,{value:[]})[Ta];for(;N.length<=O;)N.push(null);return(N[O]=N[O]||[]).push(w),D}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Pn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Wt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ag=new Pn("AnalyzeForEntryComponents"),zc=Function;function Gr(a,l){void 0===l&&(l=a);for(let d=0;d<a.length;d++){let h=a[d];Array.isArray(h)?(l===a&&(l=a.slice(0,d)),Gr(h,l)):l!==a&&l.push(h)}return l}function Ci(a,l){a.forEach(d=>Array.isArray(d)?Ci(d,l):l(d))}function Vo(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function ka(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Fa(a,l){const d=[];for(let h=0;h<a;h++)d.push(l);return d}function Ur(a,l,d){let h=bl(a,l);return h>=0?a[1|h]=d:(h=~h,function(a,l,d,h){let m=a.length;if(m==l)a.push(d,h);else if(1===m)a.push(h,a[0]),a[0]=d;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=d,a[l+1]=h}}(a,h,l,d)),h}function Na(a,l){const d=bl(a,l);if(d>=0)return a[1|d]}function bl(a,l){return function(a,l,d){let h=0,m=a.length>>d;for(;m!==h;){const v=h+(m-h>>1),w=a[v<<d];if(l===w)return v<<d;w>l?m=v:h=v+1}return~(m<<d)}(a,l,1)}const Go={},jn="__NG_DI_FLAG__",ir="ngTempTokenPath",yr=/\n/gm,Nh="__source",Nu=se({provide:String,useValue:se});let La;function Uo(a){const l=La;return La=a,l}function Zc(a,l=$e.Default){if(void 0===La)throw new Error("inject() must be called from an injection context");return null===La?ws(a,void 0,l):La.get(a,l&$e.Optional?null:void 0,l)}function bn(a,l=$e.Default){return(vn||Zc)(Y(a),l)}const Ig=bn;function Ba(a){const l=[];for(let d=0;d<a.length;d++){const h=Y(a[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let m,v=$e.Default;for(let w=0;w<h.length;w++){const E=h[w],D=Rg(E);"number"==typeof D?-1===D?m=E.token:v|=D:m=E}l.push(bn(m,v))}else l.push(bn(h))}return l}function Va(a,l){return a[jn]=l,a.prototype[jn]=l,a}function Rg(a){return a[jn]}function Og(a,l,d,h){const m=a[ir];throw l[Nh]&&m.unshift(l[Nh]),a.message=function(a,l,d,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=ne(l);if(Array.isArray(l))m=l.map(ne).join(" -> ");else if("object"==typeof l){let v=[];for(let w in l)if(l.hasOwnProperty(w)){let E=l[w];v.push(w+":"+("string"==typeof E?JSON.stringify(E):ne(E)))}m=`{${v.join(", ")}}`}return`${d}${h?"("+h+")":""}[${m}]: ${a.replace(yr,"\n  ")}`}("\n"+a.message,m,d,h),a.ngTokenPath=m,a[ir]=null,a}const El=Va(Po("Inject",a=>({token:a})),-1),jo=Va(Po("Optional"),8),Ts=Va(Po("SkipSelf"),4);let zr;function Xn(a){var l;return(null===(l=function(){if(void 0===zr&&(zr=null,un.trustedTypes))try{zr=un.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return zr}())||void 0===l?void 0:l.createHTML(a))||a}class Ho{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Uh extends Ho{getTypeName(){return"HTML"}}class Bg extends Ho{getTypeName(){return"Style"}}class Vg extends Ho{getTypeName(){return"Script"}}class jh extends Ho{getTypeName(){return"URL"}}class td extends Ho{getTypeName(){return"ResourceURL"}}function zo(a){return a instanceof Ho?a.changingThisBreaksApplicationSecurity:a}function Yo(a,l){const d=Hh(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===l}function Hh(a){return a instanceof Ho&&a.getTypeName()||null}function hv(a){return new Uh(a)}function fv(a){return new Bg(a)}function Gg(a){return new Vg(a)}function pv(a){return new jh(a)}function nd(a){return new td(a)}class zh{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(Xn(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Yh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Xn(l),d;const h=this.inertDocument.createElement("body");return h.innerHTML=Xn(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const d=l.attributes;for(let m=d.length-1;0<m;m--){const w=d.item(m).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const qo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function os(a){return(a=String(a)).match(qo)||a.match(Dl)?a:"unsafe:"+a}function rr(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function $o(...a){const l={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(l[h]=!0);return l}const Hg=rr("area,br,col,hr,img,wbr"),ja=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zg=rr("rp,rt"),Al=$o(Hg,$o(ja,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$o(zg,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$o(zg,ja)),Hu=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zu=rr("srcset"),qh=$o(Hu,zu,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yv=rr("script,style,template");class Yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!Al.hasOwnProperty(d))return this.sanitizedSomething=!0,!yv.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=l.attributes;for(let m=0;m<h.length;m++){const v=h.item(m),w=v.name,E=w.toLowerCase();if(!qh.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=v.value;Hu[E]&&(D=os(D)),zu[E]&&(a=D,D=(a=String(a)).split(",").map(l=>os(l.trim())).join(", ")),this.buf.push(" ",w,'="',Wg(D),'"')}var a;return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();Al.hasOwnProperty(d)&&!Hg.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(Wg(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const qg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$g=/([^\#-~ |!])/g;function Wg(a){return a.replace(/&/g,"&amp;").replace(qg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace($g,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qi;function Yu(a,l){let d=null;try{qi=qi||function(a){const l=new Yh(a);return function(){try{return!!(new window.DOMParser).parseFromString(Xn(""),"text/html")}catch(a){return!1}}()?new zh(l):l}(a);let h=l?String(l):"";d=qi.getInertBodyElement(h);let m=5,v=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=v,v=d.innerHTML,d=qi.getInertBodyElement(h)}while(h!==v);return Xn((new Yg).sanitizeChildren(Is(d)||d))}finally{if(d){const h=Is(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Is(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function rd(a){const l=function(){const a=Te();return a&&a[12]}();return l?l.sanitize(Xt.URL,a)||"":Yo(a,"URL")?zo(a):os(Oe(a))}const Qh="__ngContext__";function Ei(a,l){a[Qh]=l}function od(a){const l=function(a){return a[Qh]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function ud(a){return a.ngOriginalError}function gE(a,...l){a.error(...l)}class Il{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l),h=this._findContext(l),m=(a=l)&&a.ngErrorLogger||gE;var a;m(this._console,"ERROR",l),d&&m(this._console,"ORIGINAL ERROR",d),h&&m(this._console,"ERROR CONTEXT",h)}_findContext(l){return l?l.ngDebugContext||this._findContext(ud(l)):null}_findOriginalError(l){let d=l&&ud(l);for(;d&&ud(d);)d=ud(d);return d||null}}const rm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(un))();function Rs(a){return a instanceof Function?a():a}var Os=(()=>((Os=Os||{})[Os.Important=1]="Important",Os[Os.DashCase=2]="DashCase",Os))();function za(a,l){return undefined(a,l)}function Ko(a){const l=a[3];return Lr(l)?l[3]:l}function ef(a){return lm(a[13])}function tf(a){return lm(a[4])}function lm(a){for(;null!==a&&!Lr(a);)a=a[4];return a}function Rl(a,l,d,h,m){if(null!=h){let v,w=!1;Lr(h)?v=h:Rn(h)&&(w=!0,h=h[0]);const E=_n(h);0===a&&null!==d?null==m?P(l,d,E):I(l,d,E,m||null,!0):1===a&&null!==d?I(l,d,E,m||null,!0):2===a?function(a,l,d){const h=q(a,l);h&&function(a,l,d,h){Cn(a)?a.removeChild(l,d,h):l.removeChild(d)}(a,h,l,d)}(l,E,w):3===a&&l.destroyNode(E),null!=v&&function(a,l,d,h,m){const v=d[7];v!==_n(d)&&Rl(l,a,h,v,m);for(let E=10;E<d.length;E++){const D=d[E];Wu(D[1],D,a,l,h,v)}}(l,a,v,d,m)}}function rf(a,l,d){return Cn(a)?a.createElement(l,d):null===d?a.createElement(l):a.createElementNS(d,l)}function dm(a,l){const d=a[9],h=d.indexOf(l),m=l[3];1024&l[2]&&(l[2]&=-1025,Ao(m,-1)),d.splice(h,1)}function sf(a,l){if(a.length<=10)return;const d=10+l,h=a[d];if(h){const m=h[17];null!==m&&m!==a&&dm(m,h),l>0&&(a[d-1][4]=h[4]);const v=ka(a,10+l);!function(a,l){Wu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const w=v[19];null!==w&&w.detachView(v[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function g(a,l){if(!(256&l[2])){const d=l[11];Cn(d)&&d.destroyNode&&Wu(a,l,d,3,null,null),function(a){let l=a[13];if(!l)return p(a[1],a);for(;l;){let d=null;if(Rn(l))d=l[13];else{const h=l[10];h&&(d=h)}if(!d){for(;l&&!l[4]&&l!==a;)Rn(l)&&p(l[1],l),l=l[3];null===l&&(l=a),Rn(l)&&p(l[1],l),d=l&&l[4]}l=d}}(l)}}function p(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const m=l[d[h]];if(!(m instanceof ml)){const v=d[h+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const E=m[v[w]],D=v[w+1];try{D.call(E)}finally{}}else try{v.call(m)}finally{}}}}(a,l),function(a,l){const d=a.cleanup,h=l[7];let m=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const w=d[v+1],E="function"==typeof w?w(l):_n(l[w]),D=h[m=d[v+2]],T=d[v+3];"boolean"==typeof T?E.removeEventListener(d[v],D,T):T>=0?h[m=T]():h[m=-T].unsubscribe(),v+=2}else{const w=h[m=d[v+1]];d[v].call(w)}if(null!==h){for(let v=m+1;v<h.length;v++)h[v]();l[7]=null}}(a,l),1===l[1].type&&Cn(l[11])&&l[11].destroy();const d=l[17];if(null!==d&&Lr(l[3])){d!==l[3]&&dm(d,l);const h=l[19];null!==h&&h.detachView(a)}}}function S(a,l,d){return function(a,l,d){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return d[0];if(2&h.flags){const m=a.data[h.directiveStart].encapsulation;if(m===We.None||m===We.Emulated)return null}return Br(h,d)}(a,l.parent,d)}function I(a,l,d,h,m){Cn(a)?a.insertBefore(l,d,h,m):l.insertBefore(d,h,m)}function P(a,l,d){Cn(a)?a.appendChild(l,d):l.appendChild(d)}function L(a,l,d,h,m){null!==h?I(a,l,d,h,m):P(a,l,d)}function q(a,l){return Cn(a)?a.parentNode(l):l.parentNode}function Ee(a,l,d){return Ve(a,l,d)}let Ve=function(a,l,d){return 40&a.type?Br(a,d):null};function Dt(a,l,d,h){const m=S(a,h,l),v=l[11],E=Ee(h.parent||l[6],h,l);if(null!=m)if(Array.isArray(d))for(let D=0;D<d.length;D++)L(v,m,d[D],E,!1);else L(v,m,d,E,!1)}function Hn(a,l){if(null!==l){const d=l.type;if(3&d)return Br(l,a);if(4&d)return Ya(-1,a[l.index]);if(8&d){const h=l.child;if(null!==h)return Hn(a,h);{const m=a[l.index];return Lr(m)?Ya(-1,m):_n(m)}}if(32&d)return za(l,a)()||_n(a[l.index]);{const h=ls(a,l);return null!==h?Array.isArray(h)?h[0]:Hn(Ko(a[16]),h):Hn(a,l.next)}}return null}function ls(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Ya(a,l){const d=10+a+1;if(d<l.length){const h=l[d],m=h[1].firstChild;if(null!==m)return Hn(h,m)}return l[7]}function $u(a,l,d,h,m,v,w){for(;null!=d;){const E=h[d.index],D=d.type;if(w&&0===l&&(E&&Ei(_n(E),h),d.flags|=4),64!=(64&d.flags))if(8&D)$u(a,l,d.child,h,m,v,!1),Rl(l,a,m,E,v);else if(32&D){const T=za(d,h);let O;for(;O=T();)Rl(l,a,m,O,v);Rl(l,a,m,E,v)}else 16&D?CE(a,l,h,d,m,v):Rl(l,a,m,E,v);d=w?d.projectionNext:d.next}}function Wu(a,l,d,h,m,v){$u(d,h,a.firstChild,l,m,v,!1)}function CE(a,l,d,h,m,v){const w=d[16],D=w[6].projection[h.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Rl(l,a,m,D[T],v);else $u(a,l,D,w[3],m,v,!0)}function CT(a,l,d){Cn(a)?a.setAttribute(l,"style",d):l.style.cssText=d}function hm(a,l,d){Cn(a)?""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d):l.className=d}function ET(a,l,d){let h=a.length;for(;;){const m=a.indexOf(l,d);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const v=l.length;if(m+v===h||a.charCodeAt(m+v)<=32)return m}d=m+1}}const EE="ng-template";function ST(a,l,d){let h=0;for(;h<a.length;){let m=a[h++];if(d&&"class"===m){if(m=a[h],-1!==ET(m.toLowerCase(),l,0))return!0}else if(1===m){for(;h<a.length&&"string"==typeof(m=a[h++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function fm(a){return 4===a.type&&a.value!==EE}function Ut(a,l,d){return l===(4!==a.type||d?a.value:EE)}function hd(a,l,d){let h=4;const m=a.attrs||[],v=function(a){for(let l=0;l<a.length;l++)if(bg(a[l]))return l;return a.length}(m);let w=!1;for(let E=0;E<l.length;E++){const D=l[E];if("number"!=typeof D){if(!w)if(4&h){if(h=2|1&h,""!==D&&!Ut(a,D,d)||""===D&&1===l.length){if(or(h))return!1;w=!0}}else{const T=8&h?D:l[++E];if(8&h&&null!==a.attrs){if(!ST(a.attrs,T,d)){if(or(h))return!1;w=!0}continue}const N=SE(8&h?"class":D,m,fm(a),d);if(-1===N){if(or(h))return!1;w=!0;continue}if(""!==T){let B;B=N>v?"":m[N+1].toLowerCase();const $=8&h?B:null;if($&&-1!==ET($,T,0)||2&h&&T!==B){if(or(h))return!1;w=!0}}}}else{if(!w&&!or(h)&&!or(D))return!1;if(w&&or(D))continue;w=!1,h=D|1&h}}return or(h)||w}function or(a){return 0==(1&a)}function SE(a,l,d,h){if(null===l)return-1;let m=0;if(h||!d){let v=!1;for(;m<l.length;){const w=l[m];if(w===a)return m;if(3===w||6===w)v=!0;else{if(1===w||2===w){let E=l[++m];for(;"string"==typeof E;)E=l[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=v?1:2}return-1}return function(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===l)return d;d++}return-1}(l,a)}function Gv(a,l,d=!1){for(let h=0;h<l.length;h++)if(hd(a,l[h],d))return!0;return!1}function pm(a,l){e:for(let d=0;d<l.length;d++){const h=l[d];if(a.length===h.length){for(let m=0;m<a.length;m++)if(a[m]!==h[m])continue e;return!0}}return!1}function Ol(a,l){return a?":not("+l.trim()+")":l}function xE(a){let l=a[0],d=1,h=2,m="",v=!1;for(;d<a.length;){let w=a[d];if("string"==typeof w)if(2&h){const E=a[++d];m+="["+w+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?m+="."+w:4&h&&(m+=" "+w);else""!==m&&!or(w)&&(l+=Ol(v,m),m=""),h=w,v=v||!or(h);d++}return""!==m&&(l+=Ol(v,m)),l}const At={};function jv(a){DE(Gt(),Te(),ai()+a,Ea())}function DE(a,l,d,h){if(!h)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&Io(l,v,d)}else{const v=a.preOrderHooks;null!==v&&Tu(l,v,0,d)}rs(d)}function qa(a,l){return a<<17|l<<2}function Ye(a){return a>>17&32767}function et(a){return 2|a}function kl(a){return(131068&a)>>2}function ks(a,l){return-131069&a|l<<2}function zv(a){return 1|a}function OE(a,l){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const m=d[h],v=d[h+1];if(-1!==v){const w=a.data[v];Sa(m),w.contentQueries(2,l[v],v)}}}function cf(a,l,d,h,m,v,w,E,D,T){const O=l.blueprint.slice();return O[0]=m,O[2]=140|h,Ch(O),O[3]=O[15]=a,O[8]=d,O[10]=w||a&&a[10],O[11]=E||a&&a[11],O[12]=D||a&&a[12]||null,O[9]=T||a&&a[9]||null,O[6]=v,O[16]=2==l.type?a[16]:O,O}function Ll(a,l,d,h,m){let v=a.data[l];if(null===v)v=function(a,l,d,h,m){const v=xu(),w=Du(),D=a.data[l]=function(a,l,d,h,m,v){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,d,l,h,m);return null===a.firstChild&&(a.firstChild=D),null!==v&&(w?null==v.child&&null!==D.parent&&(v.child=D):null===v.next&&(v.next=D)),D}(a,l,d,h,m),pt.lFrame.inI18n&&(v.flags|=64);else if(64&v.type){v.type=d,v.value=h,v.attrs=m;const w=function(){const a=pt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return Hi(v,!0),v}function df(a,l,d,h){if(0===d)return-1;const m=l.length;for(let v=0;v<d;v++)l.push(h),a.blueprint.push(h),a.data.push(null);return m}function pd(a,l,d){xa(l);try{const h=a.viewQuery;null!==h&&YE(1,h,d);const m=a.template;null!==m&&ib(a,l,m,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&OE(a,l),a.staticViewQueries&&YE(2,a.viewQuery,d);const v=a.components;null!==v&&function(a,l){for(let d=0;d<l.length;d++)KP(a,l[d])}(l,v)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,eo()}}function gd(a,l,d,h){const m=l[2];if(256==(256&m))return;xa(l);const v=Ea();try{Ch(l),function(a){pt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&ib(a,l,d,2,h);const w=3==(3&m);if(!v)if(w){const T=a.preOrderCheckHooks;null!==T&&Io(l,T,null)}else{const T=a.preOrderHooks;null!==T&&Tu(l,T,0,null),Iu(l,0)}if(function(a){for(let l=ef(a);null!==l;l=tf(l)){if(!l[2])continue;const d=l[9];for(let h=0;h<d.length;h++){const m=d[h],v=m[3];0==(1024&m[2])&&Ao(v,1),m[2]|=1024}}}(l),function(a){for(let l=ef(a);null!==l;l=tf(l))for(let d=10;d<l.length;d++){const h=l[d],m=h[1];dg(h)&&gd(m,h,m.template,h[8])}}(l),null!==a.contentQueries&&OE(a,l),!v)if(w){const T=a.contentCheckHooks;null!==T&&Io(l,T)}else{const T=a.contentHooks;null!==T&&Tu(l,T,1),Iu(l,1)}!function(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const m=d[h];if(m<0)rs(~m);else{const v=m,w=d[++h],E=d[++h];gg(w,v),E(2,l[v])}}}finally{rs(-1)}}(a,l);const E=a.components;null!==E&&function(a,l){for(let d=0;d<l.length;d++)QP(a,l[d])}(l,E);const D=a.viewQuery;if(null!==D&&YE(2,D,h),!v)if(w){const T=a.viewCheckHooks;null!==T&&Io(l,T)}else{const T=a.viewHooks;null!==T&&Tu(l,T,2),Iu(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),v||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Ao(l[3],-1))}finally{eo()}}function FT(a,l,d,h){const m=l[10],v=!Ea(),w=cg(l);try{v&&!w&&m.begin&&m.begin(),w&&pd(a,l,h),gd(a,l,d,h)}finally{v&&!w&&m.end&&m.end()}}function ib(a,l,d,h,m){const v=ai(),w=2&h;try{rs(-1),w&&l.length>20&&DE(a,l,20,Ea()),d(h,m)}finally{rs(v)}}function FE(a,l,d){if(yu(l)){const m=l.directiveEnd;for(let v=l.directiveStart;v<m;v++){const w=a.data[v];w.contentQueries&&w.contentQueries(1,d[v],v)}}}function rb(a,l,d){!Qy()||(function(a,l,d,h){const m=d.directiveStart,v=d.directiveEnd;a.firstCreatePass||_l(d,l),Ei(h,l);const w=d.initialInputs;for(let E=m;E<v;E++){const D=a.data[E],T=Ss(D);T&&ff(l,d,D);const O=vl(l,a,E,d);Ei(O,l),null!==w&&zP(0,E-m,O,D,0,w),T&&(tr(d.index,l)[8]=O)}}(a,l,d,Br(d,l)),128==(128&d.flags)&&function(a,l,d){const h=d.directiveStart,m=d.directiveEnd,w=d.index,E=pt.lFrame.currentDirectiveIndex;try{rs(w);for(let D=h;D<m;D++){const T=a.data[D],O=l[D];nr(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&BT(T,O)}}finally{rs(-1),nr(E)}}(a,l,d))}function PE(a,l,d=Br){const h=l.localNames;if(null!==h){let m=l.index+1;for(let v=0;v<h.length;v+=2){const w=h[v+1],E=-1===w?d(l,a):a[w];a[m++]=E}}}function NE(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Wa(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Wa(a,l,d,h,m,v,w,E,D,T){const O=20+h,N=O+m,B=function(a,l){const d=[];for(let h=0;h<l;h++)d.push(h<a?null:At);return d}(O,N),$="function"==typeof T?T():T;return B[1]={type:a,blueprint:B,template:d,queries:null,viewQuery:E,declTNode:l,data:B.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:D,consts:$,incompleteFirstPass:!1}}function VE(a,l,d,h){const m=jT(l);null===d?m.push(h):(m.push(d),a.firstCreatePass&&HT(a).push(h,m.length-1))}function sb(a,l,d){for(let h in a)if(a.hasOwnProperty(h)){const m=a[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(l,m):d[h]=[l,m]}return d}function qr(a,l,d,h,m,v,w,E){const D=Br(l,d);let O,T=l.inputs;!E&&null!=T&&(O=T[h])?(qT(a,d,O,h,m),hi(l)&&function(a,l){const d=tr(l,a);16&d[2]||(d[2]|=64)}(d,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),m=null!=w?w(m,l.value||"",h):m,Cn(v)?v.setProperty(D,h,m):ss(h)||(D.setProperty?D.setProperty(h,m):D[h]=m))}function ob(a,l,d,h){let m=!1;if(Qy()){const v=function(a,l,d){const h=a.directiveRegistry;let m=null;if(h)for(let v=0;v<h.length;v++){const w=h[v];Gv(d,w.selectors,!1)&&(m||(m=[]),wi(_l(d,l),a,w.type),Ss(w)?(GE(a,d),m.unshift(w)):m.push(w))}return m}(a,l,d),w=null===h?null:{"":-1};if(null!==v){m=!0,vd(d,a.data.length,v.length);for(let O=0;O<v.length;O++){const N=v[O];N.providersResolver&&N.providersResolver(N)}let E=!1,D=!1,T=df(a,l,v.length,null);for(let O=0;O<v.length;O++){const N=v[O];d.mergedAttrs=Ou(d.mergedAttrs,N.hostAttrs),hf(a,d,l,T,N),_m(T,N,w),null!==N.contentQueries&&(d.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=128);const B=N.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),E=!0),!D&&(B.ngOnChanges||B.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),D=!0),T++}!function(a,l){const h=l.directiveEnd,m=a.data,v=l.attrs,w=[];let E=null,D=null;for(let T=l.directiveStart;T<h;T++){const O=m[T],N=O.inputs,B=null===v||fm(l)?null:YP(N,v);w.push(B),E=sb(N,T,E),D=sb(O.outputs,T,D)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=E,l.outputs=D}(a,d)}w&&function(a,l,d){if(l){const h=a.localNames=[];for(let m=0;m<l.length;m+=2){const v=d[l[m+1]];if(null==v)throw new Ce("301",`Export of name '${l[m+1]}' not found!`);h.push(l[m],v)}}}(d,h,w)}return d.mergedAttrs=Ou(d.mergedAttrs,d.attrs),m}function LT(a,l,d,h,m,v){const w=v.hostBindings;if(w){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const D=~l.index;(function(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(E)!=D&&E.push(D),E.push(h,m,w)}}function BT(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function GE(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function _m(a,l,d){if(d){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)d[l.exportAs[h]]=a;Ss(l)&&(d[""]=a)}}function vd(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}function hf(a,l,d,h,m){a.data[h]=m;const v=m.factory||(m.factory=Ks(m.type)),w=new ml(v,Ss(m),null);a.blueprint[h]=w,d[h]=w,LT(a,l,0,h,df(a,d,m.hostVars,At),m)}function ff(a,l,d){const h=Br(l,a),m=NE(d),v=a[10],w=lb(a,cf(a,m,null,d.onPush?64:16,h,l,v,v.createRenderer(h,d),null,null));a[l.index]=w}function Qa(a,l,d,h,m,v){const w=Br(a,l);!function(a,l,d,h,m,v,w){if(null==v)Cn(a)?a.removeAttribute(l,m,d):l.removeAttribute(m);else{const E=null==w?Oe(v):w(v,h||"",m);Cn(a)?a.setAttribute(l,m,E,d):d?l.setAttributeNS(d,m,E):l.setAttribute(m,E)}}(l[11],w,v,a.value,d,h,m)}function zP(a,l,d,h,m,v){const w=v[l];if(null!==w){const E=h.setInput;for(let D=0;D<w.length;){const T=w[D++],O=w[D++],N=w[D++];null!==E?h.setInput(d,N,T,O):d[O]=N}}}function YP(a,l){let d=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,a[m],l[h+1])),h+=2}else h+=2;else h+=4}return d}function GT(a,l,d,h){return new Array(a,!0,!1,l,null,0,h,d,null,null)}function QP(a,l){const d=tr(l,a);if(dg(d)){const h=d[1];80&d[2]?gd(h,d,h.template,d[8]):d[5]>0&&jE(d)}}function jE(a){for(let h=ef(a);null!==h;h=tf(h))for(let m=10;m<h.length;m++){const v=h[m];if(1024&v[2]){const w=v[1];gd(w,v,w.template,v[8])}else v[5]>0&&jE(v)}const d=a[1].components;if(null!==d)for(let h=0;h<d.length;h++){const m=tr(d[h],a);dg(m)&&m[5]>0&&jE(m)}}function KP(a,l){const d=tr(l,a),h=d[1];(function(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(h,d),pd(h,d,d[8])}function lb(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function ub(a){for(;a;){a[2]|=64;const l=Ko(a);if(ns(a)&&!l)return a;a=l}return null}function zE(a,l,d){const h=l[10];h.begin&&h.begin();try{gd(a,l,a.template,d)}catch(m){throw YT(l,m),m}finally{h.end&&h.end()}}function UT(a){!function(a){for(let l=0;l<a.components.length;l++){const d=a.components[l],h=od(d),m=h[1];FT(m,h,m.template,d)}}(a[8])}function YE(a,l,d){Sa(0),l(a,d)}const eN=(()=>Promise.resolve(null))();function jT(a){return a[7]||(a[7]=[])}function HT(a){return a.cleanup||(a.cleanup=[])}function zT(a,l,d){return(null===a||Ss(a))&&(d=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(d[l.index])),d[11]}function YT(a,l){const d=a[9],h=d?d.get(Il,null):null;h&&h.handleError(l)}function qT(a,l,d,h,m){for(let v=0;v<d.length;){const w=d[v++],E=d[v++],D=l[w],T=a.data[w];null!==T.setInput?T.setInput(D,m,h,E):D[E]=m}}function Bl(a,l,d){const h=pl(l,a);!function(a,l,d){Cn(a)?a.setValue(l,d):l.textContent=d}(a[11],h,d)}function db(a,l,d){let h=d?a.styles:null,m=d?a.classes:null,v=0;if(null!==l)for(let w=0;w<l.length;w++){const E=l[w];"number"==typeof E?v=E:1==v?m=Z(m,E):2==v&&(h=Z(h,E+": "+l[++w]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=m:a.classesWithoutHost=m}const pf=new Pn("INJECTOR",-1);class $T{get(l,d=Go){if(d===Go){const h=new Error(`NullInjectorError: No provider for ${ne(l)}!`);throw h.name="NullInjectorError",h}return d}}const ym=new Pn("Set Injector scope."),vm={},iN={};let qE;function WT(){return void 0===qE&&(qE=new $T),qE}function QT(a,l=null,d=null,h){return new sN(a,d,l||WT(),h)}class sN{constructor(l,d,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const v=[];d&&Ci(d,E=>this.processProvider(E,l,d)),Ci([l],E=>this.processInjectorType(E,[],v)),this.records.set(pf,gf(void 0,this));const w=this.records.get(ym);this.scope=null!=w?w.value:null,this.source=m||("object"==typeof l?null:ne(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,d=Go,h=$e.Default){this.assertNotDestroyed();const m=Uo(this),v=qn(void 0);try{if(!(h&$e.SkipSelf)){let E=this.records.get(l);if(void 0===E){const D=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Pn)&&di(l);E=D&&this.injectableDefInScope(D)?gf(hb(l),vm):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&$e.Self?WT():this.parent).get(l,d=h&$e.Optional&&d===Go?null:d)}catch(w){if("NullInjectorError"===w.name){if((w[ir]=w[ir]||[]).unshift(ne(l)),m)throw w;return Og(w,l,"R3InjectorError",this.source)}throw w}finally{qn(v),Uo(m)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,m)=>l.push(ne(m))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,d,h){if(!(l=Y(l)))return!1;let m=mu(l);const v=null==m&&l.ngModule||void 0,w=void 0===v?l:v,E=-1!==h.indexOf(w);if(void 0!==v&&(m=mu(v)),null==m)return!1;if(null!=m.imports&&!E){let O;h.push(w);try{Ci(m.imports,N=>{this.processInjectorType(N,d,h)&&(void 0===O&&(O=[]),O.push(N))})}finally{}if(void 0!==O)for(let N=0;N<O.length;N++){const{ngModule:B,providers:$}=O[N];Ci($,X=>this.processProvider(X,B,$||W))}}this.injectorDefTypes.add(w);const D=Ks(w)||(()=>new w);this.records.set(w,gf(D,vm));const T=m.providers;if(null!=T&&!E){const O=l;Ci(T,N=>this.processProvider(N,O,T))}return void 0!==v&&void 0!==l.providers}processProvider(l,d,h){let m=mf(l=Y(l))?l:Y(l&&l.provide);const v=JT(a=l)?gf(void 0,a.useValue):gf(ZT(a),vm);var a;if(mf(l)||!0!==l.multi)this.records.get(m);else{let w=this.records.get(m);w||(w=gf(void 0,vm,!0),w.factory=()=>Ba(w.multi),this.records.set(m,w)),m=l,w.multi.push(l)}this.records.set(m,v)}hydrate(l,d){return d.value===vm&&(d.value=iN,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(a=d.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const d=Y(l.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function hb(a){const l=di(a),d=null!==l?l.factory:Ks(a);if(null!==d)return d;if(a instanceof Pn)throw new Error(`Token ${ne(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=Fa(l,"?");throw new Error(`Can't resolve all parameters for ${ne(a)}: (${h.join(", ")}).`)}const d=function(a){const l=a&&(a[jt]||a[yi]);if(l){const d=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new Error("unreachable")}function ZT(a,l,d){let h;if(mf(a)){const m=Y(a);return Ks(m)||hb(m)}if(JT(a))h=()=>Y(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Ba(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>bn(Y(a.useExisting));else{const m=Y(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Ks(m)||hb(m);h=()=>new m(...Ba(a.deps))}return h}function gf(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function JT(a){return null!==a&&"object"==typeof a&&Nu in a}function mf(a){return"function"==typeof a}const XT=function(a,l,d){return function(a,l=null,d=null,h){const m=QT(a,l,d,h);return m._resolveInjectorDefTypes(),m}({name:d},l,a,d)};class wn{static create(l,d){return Array.isArray(l)?XT(l,d,""):XT(l.providers,l.parent,l.name||"")}}function hI(a,l){To(od(a)[1],kn())}function ro(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;l;){let m;if(Ss(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");m=l.\u0275dir}if(m){if(d){h.push(m);const w=a;w.inputs=pb(a.inputs),w.declaredInputs=pb(a.declaredInputs),w.outputs=pb(a.outputs);const E=m.hostBindings;E&&pI(a,E);const D=m.viewQuery,T=m.contentQueries;if(D&&fI(a,D),T&&eS(a,T),J(a.inputs,m.inputs),J(a.declaredInputs,m.declaredInputs),J(a.outputs,m.outputs),Ss(m)&&m.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let w=0;w<v.length;w++){const E=v[w];E&&E.ngInherit&&E(a),E===ro&&(d=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,d=null;for(let h=a.length-1;h>=0;h--){const m=a[h];m.hostVars=l+=m.hostVars,m.hostAttrs=Ou(m.hostAttrs,d=Ou(d,m.hostAttrs))}}(h)}function pb(a){return a===K?{}:a===W?[]:a}function fI(a,l){const d=a.viewQuery;a.viewQuery=d?(h,m)=>{l(h,m),d(h,m)}:l}function eS(a,l){const d=a.contentQueries;a.contentQueries=d?(h,m,v)=>{l(h,m,v),d(h,m,v)}:l}function pI(a,l){const d=a.hostBindings;a.hostBindings=d?(h,m)=>{l(h,m),d(h,m)}:l}wn.THROW_IF_NOT_FOUND=Go,wn.NULL=new $T,wn.\u0275prov=Wt({token:wn,providedIn:"any",factory:()=>bn(pf)}),wn.__NG_ELEMENT_ID__=-1;let bd=null;function Gl(){if(!bd){const a=un.Symbol;if(a&&a.iterator)bd=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const h=l[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(bd=h)}}}return bd}class Jo{constructor(l){this.wrapped=l}static wrap(l){return new Jo(l)}static unwrap(l){return Jo.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof Jo}}function wm(a){return!!_b(a)&&(Array.isArray(a)||!(a instanceof Map)&&Gl()in a)}function _b(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Za(a,l,d){return a[l]=d}function vr(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function wd(a,l,d,h){const m=vr(a,l,d);return vr(a,l+1,h)||m}function iS(a,l,d,h){const m=Te();return vr(m,As(),l)&&(Gt(),Qa(Un(),m,a,l,d,h)),iS}function Cd(a,l,d,h){return vr(a,As(),d)?l+Oe(d)+h:At}function vf(a,l,d,h,m,v,w,E){const T=function(a,l,d,h,m){const v=wd(a,l,d,h);return vr(a,l+2,m)||v}(a,gr(),d,m,w);return Vr(3),T?l+Oe(d)+h+Oe(m)+v+Oe(w)+E:At}function mI(a,l,d,h,m,v,w,E){const D=Te(),T=Gt(),O=a+20,N=T.firstCreatePass?function(a,l,d,h,m,v,w,E,D){const T=l.consts,O=Ll(l,a,4,w||null,Do(T,E));ob(l,d,O,Do(T,D)),To(l,O);const N=O.tViews=Wa(2,O,h,m,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,O),N.queries=l.queries.embeddedTView(O)),O}(O,T,D,l,d,h,m,v,w):T.data[O];Hi(N,!1);const B=D[11].createComment("");Dt(T,D,B,N),Ei(B,D),lb(D,D[O]=GT(B,D,B,N)),Ic(N)&&rb(T,D,N),null!=w&&PE(D,N,E)}function _I(a){return xo(pt.lFrame.contextLView,20+a)}function Fs(a,l=$e.Default){const d=Te();return null===d?bn(a,l):rn(kn(),d,Y(a),l)}function Mb(){throw new Error("invalid")}function Cf(a,l,d){const h=Te();return vr(h,As(),l)&&qr(Gt(),Un(),h,a,l,h[11],d,!1),Cf}function Ef(a,l,d,h,m){const w=m?"class":"style";qT(a,d,l.inputs[w],w,h)}function br(a,l,d,h){const m=Te(),v=Gt(),w=20+a,E=m[11],D=m[w]=rf(E,l,pt.lFrame.currentNamespace),T=v.firstCreatePass?function(a,l,d,h,m,v,w){const E=l.consts,T=Ll(l,a,2,m,Do(E,v));return ob(l,d,T,Do(E,w)),null!==T.attrs&&db(T,T.attrs,!1),null!==T.mergedAttrs&&db(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(w,v,m,0,l,d,h):v.data[w];Hi(T,!0);const O=T.mergedAttrs;null!==O&&Ah(E,D,O);const N=T.classes;null!==N&&hm(E,D,N);const B=T.styles;null!==B&&CT(E,D,B),64!=(64&T.flags)&&Dt(v,m,D,T),0===pt.lFrame.elementDepthCount&&Ei(D,m),pt.lFrame.elementDepthCount++,Ic(T)&&(rb(v,m,T),FE(v,T,m)),null!==h&&PE(m,T)}function Sm(){let a=kn();Du()?Au():(a=a.parent,Hi(a,!1));const l=a;pt.lFrame.elementDepthCount--;const d=Gt();d.firstCreatePass&&(To(d,a),yu(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Ef(d,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Ef(d,l,Te(),l.stylesWithoutHost,!1)}function xm(a,l,d,h){br(a,l,d,h),Sm()}function _S(a,l,d){const h=Te(),m=Gt(),v=a+20,w=m.firstCreatePass?function(a,l,d,h,m){const v=l.consts,w=Do(v,h),E=Ll(l,a,8,"ng-container",w);return null!==w&&db(E,w,!0),ob(l,d,E,Do(v,m)),null!==l.queries&&l.queries.elementStart(l,E),E}(v,m,h,l,d):m.data[v];Hi(w,!0);const E=h[v]=h[11].createComment("");Dt(m,h,E,w),Ei(E,h),Ic(w)&&(rb(m,h,w),FE(m,w,h)),null!=d&&PE(h,w)}function Dm(){let a=kn();const l=Gt();Du()?Au():(a=a.parent,Hi(a,!1)),l.firstCreatePass&&(To(l,a),yu(a)&&l.queries.elementEnd(a))}function Rb(){return Te()}function Ob(a){return!!a&&"function"==typeof a.then}function zl(a){return!!a&&"function"==typeof a.subscribe}const Am=zl;function Sf(a,l,d,h){const m=Te(),v=Gt(),w=kn();return Mm(v,m,m[11],w,a,l,!!d,h),Sf}function kb(a,l){const d=kn(),h=Te(),m=Gt();return Mm(m,h,zT(Mu(m.data),d,h),d,a,l,!1),kb}function Mm(a,l,d,h,m,v,w,E){const D=Ic(h),O=a.firstCreatePass&&HT(a),N=l[8],B=jT(l);let $=!0;if(3&h.type||E){const ae=Br(h,l),Re=E?E(ae):ae,xe=B.length,tt=E?vt=>E(_n(vt[h.index])):h.index;if(Cn(d)){let vt=null;if(!E&&D&&(vt=function(a,l,d,h){const m=a.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const w=m[v];if(w===d&&m[v+1]===h){const E=l[7],D=m[v+2];return E.length>D?E[D]:null}"string"==typeof w&&(v+=2)}return null}(a,l,m,h.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=v,vt.__ngLastListenerFn__=v,$=!1;else{v=Im(h,l,N,v,!1);const zt=d.listen(Re,m,v);B.push(v,zt),O&&O.push(m,tt,xe,xe+1)}}else v=Im(h,l,N,v,!0),Re.addEventListener(m,v,w),B.push(v),O&&O.push(m,tt,xe,w)}else v=Im(h,l,N,v,!1);const X=h.outputs;let ve;if($&&null!==X&&(ve=X[m])){const ae=ve.length;if(ae)for(let Re=0;Re<ae;Re+=2){const Di=l[ve[Re]][ve[Re+1]].subscribe(v),js=B.length;B.push(v,Di),O&&O.push(m,h.index,js,-(js+1))}}}function Tm(a,l,d,h){try{return!1!==d(h)}catch(m){return YT(a,m),!1}}function Im(a,l,d,h,m){return function v(w){if(w===Function)return h;const E=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&ub(E);let D=Tm(l,0,h,w),T=v.__ngNextListenerFn__;for(;T;)D=Tm(l,0,T,w)&&D,T=T.__ngNextListenerFn__;return m&&!1===D&&(w.preventDefault(),w.returnValue=!1),D}}function Pb(a=1){return function(a){return(pt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,pt.lFrame.contextLView))[8]}(a)}function Rm(a,l){let d=null;const h=function(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(a);for(let m=0;m<l.length;m++){const v=l[m];if("*"!==v){if(null===h?Gv(a,v,!0):pm(h,v))return m}else d=m}return d}function yS(a){const l=Te()[16][6];if(!l.projection){const h=l.projection=Fa(a?a.length:1,null),m=h.slice();let v=l.child;for(;null!==v;){const w=a?Rm(v,a):0;null!==w&&(m[w]?m[w].projectionNext=v:h[w]=v,m[w]=v),v=v.next}}}function Nb(a,l=0,d){const h=Te(),m=Gt(),v=Ll(m,20+a,16,null,d||null);null===v.projection&&(v.projection=l),Au(),64!=(64&v.flags)&&function(a,l,d){CE(l[11],0,l,d,S(a,d,l),Ee(d.parent||l[6],d,l))}(m,h,v)}function tc(a,l,d,h,m){const v=a[d+1],w=null===l;let E=h?Ye(v):kl(v),D=!1;for(;0!==E&&(!1===D||w);){const O=a[E+1];wS(a[E],l)&&(D=!0,a[E+1]=h?zv(O):et(O)),E=h?Ye(O):kl(O)}D&&(a[d+1]=h?et(v):zv(v))}function wS(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&bl(a,l)>=0}const In={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bb(a){return a.substring(In.key,In.keyEnd)}function ql(a,l){const d=In.textEnd;return d===l?-1:(l=In.keyEnd=function(a,l,d){for(;l<d&&a.charCodeAt(l)>32;)l++;return l}(a,In.key=l,d),nc(a,l,d))}function nc(a,l,d){for(;l<d&&a.charCodeAt(l)<=32;)l++;return l}function Lm(a,l,d){return oo(a,l,d,!1),Lm}function wr(a,l){return oo(a,l,null,!0),wr}function ta(a,l){for(let d=function(a){return function(a){In.key=0,In.keyEnd=0,In.value=0,In.valueEnd=0,In.textEnd=a.length}(a),ql(a,nc(a,0,In.textEnd))}(l);d>=0;d=ql(l,d))Ur(a,Bb(l),!0)}function oo(a,l,d,h){const m=Te(),v=Gt(),w=Vr(2);v.firstUpdatePass&&Gb(v,a,w,h),l!==At&&vr(m,w,l)&&Of(v,v.data[ai()],m,m[11],a,m[w+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ne(zo(a)))),a}(l,d),h,w)}function If(a,l){return l>=a.expandoStartIndex}function Gb(a,l,d,h){const m=a.data;if(null===m[d+1]){const v=m[ai()],w=If(a,d);Vm(v,h)&&null===l&&!w&&(l=!1),l=function(a,l,d,h){const m=Mu(a);let v=h?l.residualClasses:l.residualStyles;if(null===m)0===(h?l.classBindings:l.styleBindings)&&(d=Rf(d=jb(null,a,l,d,h),l.attrs,h),v=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==m)if(d=jb(m,a,l,d,h),null===v){let D=function(a,l,d){const h=d?l.classBindings:l.styleBindings;if(0!==kl(h))return a[Ye(h)]}(a,l,h);void 0!==D&&Array.isArray(D)&&(D=jb(null,a,l,D[1],h),D=Rf(D,l.attrs,h),function(a,l,d,h){a[Ye(d?l.classBindings:l.styleBindings)]=h}(a,l,h,D))}else v=function(a,l,d){let h;const m=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<m;v++)h=Rf(h,a[v].hostAttrs,d);return Rf(h,l.attrs,d)}(a,l,h)}return void 0!==v&&(h?l.residualClasses=v:l.residualStyles=v),d}(m,v,l,h),function(a,l,d,h,m,v){let w=v?l.classBindings:l.styleBindings,E=Ye(w),D=kl(w);a[h]=d;let O,T=!1;if(Array.isArray(d)){const N=d;O=N[1],(null===O||bl(N,O)>0)&&(T=!0)}else O=d;if(m)if(0!==D){const B=Ye(a[E+1]);a[h+1]=qa(B,E),0!==B&&(a[B+1]=ks(a[B+1],h)),a[E+1]=function(a,l){return 131071&a|l<<17}(a[E+1],h)}else a[h+1]=qa(E,0),0!==E&&(a[E+1]=ks(a[E+1],h)),E=h;else a[h+1]=qa(D,0),0===E?E=h:a[D+1]=ks(a[D+1],h),D=h;T&&(a[h+1]=et(a[h+1])),tc(a,O,h,!0),tc(a,O,h,!1),function(a,l,d,h,m){const v=m?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&bl(v,l)>=0&&(d[h+1]=zv(d[h+1]))}(l,O,a,h,v),w=qa(E,D),v?l.classBindings=w:l.styleBindings=w}(m,v,l,d,w,h)}}function jb(a,l,d,h,m){let v=null;const w=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<w&&(v=l[E],h=Rf(h,v.hostAttrs,m),v!==a);)E++;return null!==a&&(d.directiveStylingLast=E),h}function Rf(a,l,d){const h=d?1:2;let m=-1;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?m=w:m===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ur(a,w,!!d||l[++v]))}return void 0===a?null:a}function Of(a,l,d,h,m,v,w,E){if(!(3&l.type))return;const D=a.data,T=D[E+1];na(function(a){return 1==(1&a)}(T)?TS(D,l,d,m,kl(T),w):void 0)||(na(v)||function(a){return 2==(2&a)}(T)&&(v=TS(D,null,d,m,E,w)),function(a,l,d,h,m){const v=Cn(a);if(l)m?v?a.addClass(d,h):d.classList.add(h):v?a.removeClass(d,h):d.classList.remove(h);else{let w=-1===h.indexOf("-")?void 0:Os.DashCase;if(null==m)v?a.removeStyle(d,h,w):d.style.removeProperty(h);else{const E="string"==typeof m&&m.endsWith("!important");E&&(m=m.slice(0,-10),w|=Os.Important),v?a.setStyle(d,h,m,w):d.style.setProperty(h,m,E?"important":"")}}}(h,w,pl(ai(),d),m,v))}function TS(a,l,d,h,m,v){const w=null===l;let E;for(;m>0;){const D=a[m],T=Array.isArray(D),O=T?D[1]:D,N=null===O;let B=d[m+1];B===At&&(B=N?W:void 0);let $=N?Na(B,h):O===h?B:void 0;if(T&&!na($)&&($=Na(D,h)),na($)&&(E=$,w))return E;const X=a[m+1];m=w?Ye(X):kl(X)}if(null!==l){let D=v?l.residualClasses:l.residualStyles;null!=D&&(E=Na(D,h))}return E}function na(a){return void 0!==a}function Vm(a,l){return 0!=(a.flags&(l?16:32))}function kf(a,l=""){const d=Te(),h=Gt(),m=a+20,v=h.firstCreatePass?Ll(h,m,1,l,null):h.data[m],w=d[m]=function(a,l){return Cn(a)?a.createText(l):a.createTextNode(l)}(d[11],l);Dt(h,d,w,v),Hi(v,!1)}function zb(a){return Gm("",a,""),zb}function Gm(a,l,d){const h=Te(),m=Cd(h,a,l,d);return m!==At&&Bl(h,ai(),m),Gm}function Yb(a,l,d,h,m,v,w){const E=Te(),D=vf(E,a,l,d,h,m,v,w);return D!==At&&Bl(E,ai(),D),Yb}function kS(a,l,d){!function(a,l,d,h){const m=Gt(),v=Vr(2);m.firstUpdatePass&&Gb(m,null,v,h);const w=Te();if(d!==At&&vr(w,v,d)){const E=m.data[ai()];if(Vm(E,h)&&!If(m,v)){let D=h?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(d=Z(D,d||"")),Ef(m,E,w,d,h)}else!function(a,l,d,h,m,v,w,E){m===At&&(m=W);let D=0,T=0,O=0<m.length?m[0]:null,N=0<v.length?v[0]:null;for(;null!==O||null!==N;){const B=D<m.length?m[D+1]:void 0,$=T<v.length?v[T+1]:void 0;let ve,X=null;O===N?(D+=2,T+=2,B!==$&&(X=N,ve=$)):null===N||null!==O&&O<N?(D+=2,X=O):(T+=2,X=N,ve=$),null!==X&&Of(a,l,d,h,X,ve,w,E),O=D<m.length?m[D]:null,N=T<v.length?v[T]:null}}(m,E,w,w[11],w[v+1],w[v+1]=function(a,l,d){if(null==d||""===d)return W;const h=[],m=zo(d);if(Array.isArray(m))for(let v=0;v<m.length;v++)a(h,m[v],!0);else if("object"==typeof m)for(const v in m)m.hasOwnProperty(v)&&a(h,v,m[v]);else"string"==typeof m&&l(h,m);return h}(a,l,d),h,v)}}(Ur,ta,Cd(Te(),a,l,d),!0)}function Jb(a,l,d){const h=Te();return vr(h,As(),l)&&qr(Gt(),Un(),h,a,l,h[11],d,!0),Jb}function Hm(a,l,d){const h=Te();if(vr(h,As(),l)){const v=Gt(),w=Un();qr(v,w,h,a,l,zT(Mu(v.data),w,h),d,!0)}return Hm}const ic=void 0;var Xb=["en",[["a","p"],["AM","PM"],ic],[["AM","PM"],ic,ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ic,"{1} 'at' {0}",ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let ia={};function ew(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=HS(l);if(d)return d;const h=l.split("-")[0];if(d=HS(h),d)return d;if("en"===h)return Xb;throw new Error(`Missing locale data for the locale "${a}".`)}function zm(a){return ew(a)[ct.PluralCase]}function HS(a){return a in ia||(ia[a]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[a]),ia[a]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Nf="en-US";let qS=Nf;function qm(a){it(a,"Expected localeId to be defined"),"string"==typeof a&&(qS=a.toLowerCase().replace(/_/g,"-"))}function mw(a,l,d,h,m){if(a=Y(a),Array.isArray(a))for(let v=0;v<a.length;v++)mw(a[v],l,d,h,m);else{const v=Gt(),w=Te();let E=mf(a)?a:Y(a.provide),D=ZT(a);const T=kn(),O=1048575&T.providerIndexes,N=T.directiveStart,B=T.providerIndexes>>20;if(mf(a)||!a.multi){const $=new ml(D,m,Fs),X=_w(E,l,m?O:O+B,N);-1===X?(wi(_l(T,w),v,E),cx(v,a,l.length),l.push(E),T.directiveStart++,T.directiveEnd++,m&&(T.providerIndexes+=1048576),d.push($),w.push($)):(d[X]=$,w[X]=$)}else{const $=_w(E,l,O+B,N),X=_w(E,l,O,O+B),ve=$>=0&&d[$],ae=X>=0&&d[X];if(m&&!ae||!m&&!ve){wi(_l(T,w),v,E);const Re=function(a,l,d,h,m){const v=new ml(a,d,Fs);return v.multi=[],v.index=l,v.componentProviders=0,dx(v,m,h&&!d),v}(m?Km:AR,d.length,m,h,D);!m&&ae&&(d[X].providerFactory=Re),cx(v,a,l.length,0),l.push(E),T.directiveStart++,T.directiveEnd++,m&&(T.providerIndexes+=1048576),d.push(Re),w.push(Re)}else cx(v,a,$>-1?$:X,dx(d[m?X:$],D,!m&&h));!m&&h&&ae&&d[X].componentProviders++}}}function cx(a,l,d,h){const m=mf(l);if(m||function(a){return!!a.useClass}(l)){const w=(l.useClass||l).prototype.ngOnDestroy;if(w){const E=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const D=E.indexOf(d);-1===D?E.push(d,[h,w]):E[D+1].push(h,w)}else E.push(d,w)}}}function dx(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function _w(a,l,d,h){for(let m=d;m<h;m++)if(l[m]===a)return m;return-1}function AR(a,l,d,h){return yw(this.multi,[])}function Km(a,l,d,h){const m=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,E=vl(d,d[1],this.providerFactory.index,h);v=E.slice(0,w),yw(m,v);for(let D=w;D<E.length;D++)v.push(E[D])}else v=[],yw(m,v);return v}function yw(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function hx(a,l=[]){return d=>{d.providersResolver=(h,m)=>function(a,l,d){const h=Gt();if(h.firstCreatePass){const m=Ss(a);mw(d,h.data,h.blueprint,m,!0),mw(l,h.data,h.blueprint,m,!1)}}(h,m?m(a):a,l)}}class IR{}const Zm="ngComponent";class fx{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${ne(a)}. Did you add it to @NgModule.entryComponents?`);return l[Zm]=a,l}(l)}}class ao{}function Gf(...a){}function Ql(a,l){return new ra(Br(a,l))}ao.NULL=new fx;const gx=function(){return Ql(kn(),Te())};let ra=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=gx,a})();function mx(a){return a instanceof ra?a.nativeElement:a}class cs{}let Uf=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>bw(),a})();const bw=function(){const a=Te(),d=tr(kn().index,a);return function(a){return a[11]}(Rn(d)?d:a)};let Jm=(()=>{class a{}return a.\u0275prov=Wt({token:a,providedIn:"root",factory:()=>null}),a})();class Xm{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const bx=new Xm("12.2.2");class wx{constructor(){}supports(l){return wm(l)}create(l){return new e_(l)}}const BR=(a,l)=>l;class e_{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||BR}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,h=this._removalsHead,m=0,v=null;for(;d||h;){const w=!h||d&&d.currentIndex<Cw(h,m,v)?d:h,E=Cw(w,m,v),D=w.currentIndex;if(w===h)m--,h=h._nextRemoved;else if(d=d._next,null==w.previousIndex)m++;else{v||(v=[]);const T=E-m,O=D-m;if(T!=O){for(let B=0;B<T;B++){const $=B<v.length?v[B]:v[B]=0,X=$+B;O<=X&&X<T&&(v[B]=$+1)}v[w.previousIndex]=O-T}}E!==D&&l(w,E,D)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!wm(l))throw new Error(`Error trying to diff '${ne(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,v,w,d=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)v=l[E],w=this._trackByFn(E,v),null!==d&&Object.is(d.trackById,w)?(h&&(d=this._verifyReinsertion(d,v,w,E)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,w,E),h=!0),d=d._next}else m=0,function(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Gl()]();let h;for(;!(h=d.next()).done;)l(h.value)}}(l,E=>{w=this._trackByFn(m,E),null!==d&&Object.is(d.trackById,w)?(h&&(d=this._verifyReinsertion(d,E,w,m)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,w,m),h=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,h,m){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,v,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,v,m)):l=this._addAfter(new Cx(d,h),v,m),l}_verifyReinsertion(l,d,h,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==v?l=this._reinsertAfter(v,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,v=l._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(l,d,h),this._addToMoves(l,h),l}_moveAfter(l,d,h){return this._unlink(l),this._insertAfter(l,d,h),this._addToMoves(l,h),l}_addAfter(l,d,h){return this._insertAfter(l,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,h){const m=null===d?this._itHead:d._next;return l._next=m,l._prev=d,null===m?this._itTail=l:m._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new ww),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,h=l._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ww),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Cx{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VR{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const d=l._prevDup,h=l._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class ww{constructor(){this.map=new Map}put(l){const d=l.trackById;let h=this.map.get(d);h||(h=new VR,this.map.set(d,h)),h.add(l)}get(l,d){const m=this.map.get(l);return m?m.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cw(a,l,d){const h=a.previousIndex;if(null===h)return h;let m=0;return d&&h<d.length&&(m=d[h]),h+l+m}class Ex{constructor(){}supports(l){return l instanceof Map||_b(l)}create(){return new GR}}class GR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||_b(l)))throw new Error(`Error trying to diff '${ne(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(m,h);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const h=l._prev;return d._next=l,d._prev=h,l._prev=d,h&&(h._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,d);const v=m._prev,w=m._next;return v&&(v._next=w),w&&(w._prev=v),m._next=null,m._prev=null,m}const h=new t_(l);return this._records.set(l,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(h=>d(l[h],h))}}class t_{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sx(){return new n_([new wx])}let n_=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const m=h.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||Sx()),deps:[[a,new Ts,new jo]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(a){return a.name||typeof a}(d)}'`)}}return a.\u0275prov=Wt({token:a,providedIn:"root",factory:Sx}),a})();function xx(){return new i_([new Ex])}let i_=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const m=h.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||xx()),deps:[[a,new Ts,new jo]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return a.\u0275prov=Wt({token:a,providedIn:"root",factory:xx}),a})();function r_(a,l,d,h,m=!1){for(;null!==d;){const v=l[d.index];if(null!==v&&h.push(_n(v)),Lr(v))for(let E=10;E<v.length;E++){const D=v[E],T=D[1].firstChild;null!==T&&r_(D[1],D,T,h)}const w=d.type;if(8&w)r_(a,l,d.child,h);else if(32&w){const E=za(d,l);let D;for(;D=E();)h.push(D)}else if(16&w){const E=ls(l,d);if(Array.isArray(E))h.push(...E);else{const D=Ko(l[16]);r_(D[1],D,E,h,!0)}}d=m?d.projectionNext:d.next}return h}class jf{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return r_(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Lr(l)){const d=l[8],h=d?d.indexOf(this):-1;h>-1&&(sf(l,h),ka(d,h))}this._attachedToViewContainer=!1}g(this._lView[1],this._lView)}onDestroy(l){VE(this._lView[1],this._lView,null,l)}markForCheck(){ub(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,d){Xs(!0);try{zE(a,l,d)}finally{Xs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Wu(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class jR extends jf{constructor(l){super(l),this._view=l}detectChanges(){UT(this._view)}checkNoChanges(){!function(a){Xs(!0);try{UT(a)}finally{Xs(!1)}}(this._view)}get context(){return null}}const WN=function(a){return function(a,l,d){if(hi(a)&&!d){const h=tr(a.index,l);return new jf(h,h)}return 47&a.type?new jf(l[16],l):null}(kn(),Te(),16==(16&a))};let zR=(()=>{class a{}return a.__NG_ELEMENT_ID__=WN,a})();const s_=[new Ex],Mx=new n_([new wx]),Sw=new i_(s_),Ix=function(){return sa(kn(),Te())};let Hf=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ix,a})();const Rx=Hf,o_=class extends Rx{constructor(l,d,h){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(l){const d=this._declarationTContainer.tViews,h=cf(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),pd(d,h,l),new jf(h)}};function sa(a,l){return 4&a.type?new o_(l,a,Ql(a,l)):null}class Wi{}class kx{}const $R=function(){return Px(kn(),Te())};let a_=(()=>{class a{}return a.__NG_ELEMENT_ID__=$R,a})();const Kl=a_,xw=class extends Kl{constructor(l,d,h){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=h}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){const l=Fu(this._hostTNode,this._hostLView);if(Gc(l)){const d=ku(l,this._hostLView),h=Da(l);return new Ma(d[1].data[h+8],d)}return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=Qi(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,h){const m=l.createEmbeddedView(d||{});return this.insert(m,h),m}createComponent(l,d,h,m,v){const w=h||this.parentInjector;if(!v&&null==l.ngModule&&w){const D=w.get(Wi,null);D&&(v=D)}const E=l.create(w,m,void 0,v);return this.insert(E.hostView,d),E}insert(l,d){const h=l._lView,m=h[1];if(Lr(h[3])){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const N=h[3],B=new xw(N,N[6],N[3]);B.detach(B.indexOf(l))}}const v=this._adjustIndex(d),w=this._lContainer;!function(a,l,d,h){const m=10+h,v=d.length;h>0&&(d[m-1][4]=l),h<v-10?(l[4]=d[m],Vo(d,10+h,l)):(d.push(l),l[4]=null),l[3]=d;const w=l[17];null!==w&&d!==w&&function(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(w,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=128}(m,h,w,v);const E=Ya(v,w),D=h[11],T=q(D,w[7]);return null!==T&&function(a,l,d,h,m,v){h[0]=m,h[6]=l,Wu(a,h,d,1,m,v)}(m,w[6],D,h,T,E),l.attachToViewContainerRef(),Vo(oa(w),v,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=Qi(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),h=sf(this._lContainer,d);h&&(ka(oa(this._lContainer),d),g(h[1],h))}detach(l){const d=this._adjustIndex(l,-1),h=sf(this._lContainer,d);return h&&null!=ka(oa(this._lContainer),d)?new jf(h):null}_adjustIndex(l,d=0){return null==l?this.length+d:l}};function Qi(a){return a[8]}function oa(a){return a[8]||(a[8]=[])}function Px(a,l){let d;const h=l[a.index];if(Lr(h))d=h;else{let m;if(8&a.type)m=_n(h);else{const v=l[11];m=v.createComment("");const w=Br(a,l);I(v,q(v,w),m,function(a,l){return Cn(a)?a.nextSibling(l):l.nextSibling}(v,w),!1)}l[a.index]=d=GT(h,l,m,a),lb(l,d)}return new xw(d,a,l)}const ip={};class sD extends ao{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=Mi(l);return new qw(d,this.ngModule)}}function zw(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}const _O=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rm});class qw extends IR{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=l.selectors.map(xE).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return zw(this.componentDef.inputs)}get outputs(){return zw(this.componentDef.outputs)}create(l,d,h,m){const v=(m=m||this.ngModule)?function(a,l){return{get:(d,h,m)=>{const v=a.get(d,ip,m);return v!==ip||h===ip?v:l.get(d,h,m)}}}(l,m.injector):l,w=v.get(cs,_t),E=v.get(Jm,null),D=w.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",O=h?function(a,l,d){if(Cn(a))return a.selectRootElement(l,d===We.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(D,h,this.componentDef.encapsulation):rf(w.createRenderer(null,this.componentDef),T,function(a){const l=a.toLowerCase();return"svg"===l?dn:"math"===l?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,B=function(a,l){return{components:[],scheduler:a||rm,clean:eN,playerHandler:l||null,flags:0}}(),$=Wa(0,null,null,1,0,null,null,null,null,null),X=cf(null,$,B,N,null,null,w,D,E,v);let ve,ae;xa(X);try{const Re=function(a,l,d,h,m,v){const w=d[1];d[20]=a;const D=Ll(w,20,2,"#host",null),T=D.mergedAttrs=l.hostAttrs;null!==T&&(db(D,T,!0),null!==a&&(Ah(m,a,T),null!==D.classes&&hm(m,a,D.classes),null!==D.styles&&CT(m,a,D.styles)));const O=h.createRenderer(a,l),N=cf(d,NE(l),null,l.onPush?64:16,d[20],D,h,O,v||null,null);return w.firstCreatePass&&(wi(_l(D,d),w,l.type),GE(w,D),vd(D,d.length,1)),lb(d,N),d[20]=N}(O,this.componentDef,X,w,D);if(O)if(h)Ah(D,O,["ng-version",bx.full]);else{const{attrs:xe,classes:tt}=function(a){const l=[],d=[];let h=1,m=2;for(;h<a.length;){let v=a[h];if("string"==typeof v)2===m?""!==v&&l.push(v,a[++h]):8===m&&d.push(v);else{if(!or(m))break;m=v}h++}return{attrs:l,classes:d}}(this.componentDef.selectors[0]);xe&&Ah(D,O,xe),tt&&tt.length>0&&hm(D,O,tt.join(" "))}if(ae=So($,20),void 0!==d){const xe=ae.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const vt=d[tt];xe.push(null!=vt?Array.from(vt):null)}}ve=function(a,l,d,h,m){const v=d[1],w=function(a,l,d){const h=kn();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),hf(a,h,l,df(a,l,1,null),d));const m=vl(l,a,h.directiveStart,h);Ei(m,l);const v=Br(h,l);return v&&Ei(v,l),m}(v,d,l);if(h.components.push(w),a[8]=w,m&&m.forEach(D=>D(w,l)),l.contentQueries){const D=kn();l.contentQueries(1,w,D.directiveStart)}const E=kn();return!v.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(rs(E.index),LT(d[1],E,0,E.directiveStart,E.directiveEnd,l),BT(l,w)),w}(Re,this.componentDef,X,B,[hI]),pd($,X,null)}finally{eo()}return new bO(this.componentType,ve,Ql(ae,X),X,ae)}}class bO extends class{}{constructor(l,d,h,m,v){super(),this.location=h,this._rootLView=m,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new jR(m),this.componentType=l}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Fd=new Map;class nL extends Wi{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sD(this);const h=Nr(l),m=l[ft]||null;m&&qm(m),this._bootstrapComponents=Rs(h.bootstrap),this._r3Injector=QT(l,d,[{provide:Wi,useValue:this},{provide:ao,useValue:this.componentFactoryResolver}],ne(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,d=wn.THROW_IF_NOT_FOUND,h=$e.Default){return l===wn||l===Wi||l===pf?this:this._r3Injector.get(l,d,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class m_ extends kx{constructor(l){super(),this.moduleType=l,null!==Nr(l)&&function(a){const l=new Set;!function d(h){const m=Nr(h,!0),v=m.id;null!==v&&(function(a,l,d){if(l&&l!==d)throw new Error(`Duplicate module registered for ${a} - ${ne(l)} vs ${ne(l.name)}`)}(v,Fd.get(v),h),Fd.set(v,h));const w=Rs(m.imports);for(const E of w)l.has(E)||(l.add(E),d(E))}(a)}(l)}create(l){return new nL(this.moduleType,l)}}function uD(a,l,d,h){return cD(Te(),Jn(),a,l,d,h)}function SO(a,l,d,h,m){return function(a,l,d,h,m,v,w){const E=l+d;return wd(a,E,m,v)?Za(a,E+2,w?h.call(w,m,v):h(m,v)):rp(a,E+2)}(Te(),Jn(),a,l,d,h,m)}function rp(a,l){const d=a[l];return d===At?void 0:d}function cD(a,l,d,h,m,v){const w=l+d;return vr(a,w,m)?Za(a,w+1,v?h.call(v,m):h(m)):rp(a,w+1)}function pD(a,l){const d=Gt();let h;const m=a+20;d.firstCreatePass?(h=function(a,l){if(l)for(let d=l.length-1;d>=0;d--){const h=l[d];if(a===h.name)return h}throw new Ce("302",`The pipe '${a}' could not be found!`)}(l,d.pipeRegistry),d.data[m]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,h.onDestroy)):h=d.data[m];const v=h.factory||(h.factory=Ks(h.type)),w=qn(Fs);try{const E=Aa(!1),D=v();return Aa(E),function(a,l,d,h){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=h}(d,Te(),m,D),D}finally{qn(w)}}function Kw(a,l,d){const h=a+20,m=Te(),v=xo(m,h);return function(a,l){Jo.isWrapped(l)&&(l=Jo.unwrap(l),a[gr()]=At);return l}(m,function(a,l){return a[1].data[l].pure}(m,h)?cD(m,Jn(),l,v.transform,d,v):v.transform(d))}function Zw(a){return l=>{setTimeout(a,void 0,l)}}const ca=class extends u.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,h){var m,v,w;let E=l,D=d||(()=>null),T=h;if(l&&"object"==typeof l){const N=l;E=null===(m=N.next)||void 0===m?void 0:m.bind(N),D=null===(v=N.error)||void 0===v?void 0:v.bind(N),T=null===(w=N.complete)||void 0===w?void 0:w.bind(N)}this.__isAsync&&(D=Zw(D),E&&(E=Zw(E)),T&&(T=Zw(T)));const O=super.subscribe({next:E,error:D,complete:T});return l instanceof he.w&&l.add(O),O}};function TO(){return this._results[Gl()]()}class op{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Gl(),h=op.prototype;h[d]||(h[d]=TO)}get changes(){return this._changes||(this._changes=new ca)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const h=this;h.dirty=!1;const m=Gr(l);(this._changesDetected=!function(a,l,d){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let m=a[h],v=l[h];if(d&&(m=d(m),v=d(v)),v!==m)return!1}return!0}(h._results,m,d))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Jw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const h=null!==l.contentQueries?l.contentQueries[0]:d.length,m=[];for(let v=0;v<h;v++){const w=d.getByIndex(v);m.push(this.queries[w.indexInDeclarationView].clone())}return new Xw(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==dc(l,d).matches&&this.queries[d].setDirty()}}class e0{constructor(l,d,h=null){this.predicate=l,this.flags=d,this.read=h}}class t0{constructor(l=[]){this.queries=l}elementStart(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let h=0;h<this.length;h++){const m=null!==d?d.length:0,v=this.getByIndex(h).embeddedTView(l,m);v&&(v.indexInDeclarationView=h,null!==d?d.push(v):d=[v])}return null!==d?new t0(d):null}template(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class y_{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new y_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const v=h[m];this.matchTNodeWithReadOption(l,d,bD(d,v)),this.matchTNodeWithReadOption(l,d,yl(d,l,v,!1,!1))}else h===Hf?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,yl(d,l,h,!1,!1))}matchTNodeWithReadOption(l,d,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===ra||m===a_||m===Hf&&4&d.type)this.addMatch(d.index,-2);else{const v=yl(d,l,m,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,h)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function bD(a,l){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===l)return d[h+1];return null}function OO(a,l,d,h){return-1===d?function(a,l){return 11&a.type?Ql(a,l):4&a.type?sa(a,l):null}(l,a):-2===d?function(a,l,d){return d===ra?Ql(l,a):d===Hf?sa(l,a):d===a_?Px(l,a):void 0}(a,l,h):vl(a,a[1],d,l)}function ap(a,l,d,h){const m=l[19].queries[h];if(null===m.matches){const v=a.data,w=d.matches,E=[];for(let D=0;D<w.length;D+=2){const T=w[D];E.push(T<0?null:OO(l,v[T],w[D+1],d.metadata.read))}m.matches=E}return m.matches}function lp(a,l,d,h){const m=a.queries.getByIndex(d),v=m.matches;if(null!==v){const w=ap(a,l,m,d);for(let E=0;E<v.length;E+=2){const D=v[E];if(D>0)h.push(w[E/2]);else{const T=v[E+1],O=l[-D];for(let N=10;N<O.length;N++){const B=O[N];B[17]===B[3]&&lp(B[1],B,T,h)}if(null!==O[9]){const N=O[9];for(let B=0;B<N.length;B++){const $=N[B];lp($[1],$,T,h)}}}}}return h}function wD(a){const l=Te(),d=Gt(),h=Nc();Sa(h+1);const m=dc(d,h);if(a.dirty&&cg(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const v=m.crossesNgTemplate?lp(d,l,h,[]):ap(d,l,m,h);a.reset(v,mx),a.notifyOnChanges()}return!0}return!1}function nu(a,l,d){const h=Gt();h.firstCreatePass&&(xD(h,new e0(a,l,d),-1),2==(2&l)&&(h.staticViewQueries=!0)),SD(h,Te(),l)}function CD(a,l,d,h){const m=Gt();if(m.firstCreatePass){const v=kn();xD(m,new e0(l,d,h),v.index),function(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(m,a),2==(2&d)&&(m.staticContentQueries=!0)}SD(m,Te(),d)}function ED(){return a=Te(),l=Nc(),a[19].queries[l].queryList;var a,l}function SD(a,l,d){const h=new op(4==(4&d));VE(a,l,h,h.destroy),null===l[19]&&(l[19]=new Xw),l[19].queries.push(new Jw(h))}function xD(a,l,d){null===a.queries&&(a.queries=new t0),a.queries.track(new y_(l,d))}function dc(a,l){return a.queries.getByIndex(l)}const f0=new Pn("Application Initializer");let Vd=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Gf,this.reject=Gf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(Ob(v))d.push(v);else if(Am(v)){const w=new Promise((E,D)=>{v.subscribe({complete:E,error:D})});d.push(w)}}Promise.all(d).then(()=>{h()}).catch(m=>{this.reject(m)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(bn(f0,8))},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();const zD=new Pn("AppId"),XO={provide:zD,useFactory:function(){return`${M_()}${M_()}${M_()}`},deps:[]};function M_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const T_=new Pn("Platform Initializer"),I_=new Pn("Platform ID"),da=new Pn("appBootstrapListener");let p0=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();const cp=new Pn("LocaleId"),YD=new Pn("DefaultCurrencyCode");class qD{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}const g0=function(a){return new m_(a)},k_=g0,i1=function(a){return Promise.resolve(g0(a))},hp=function(a){const l=g0(a),h=Rs(Nr(a).declarations).reduce((m,v)=>{const w=Mi(v);return w&&m.push(new qw(w)),m},[]);return new qD(l,h)},fp=hp,KD=function(a){return Promise.resolve(hp(a))};let pp=(()=>{class a{constructor(){this.compileModuleSync=k_,this.compileModuleAsync=i1,this.compileModuleAndAllComponentsSync=fp,this.compileModuleAndAllComponentsAsync=KD}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();const o1=(()=>Promise.resolve(0))();function _0(a){"undefined"==typeof Zone?o1.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class lr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ca(!1),this.onMicrotaskEmpty=new ca(!1),this.onStable=new ca(!1),this.onError=new ca(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&d,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let a=un.requestAnimationFrame,l=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(un,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,F_(a),a.isCheckStableRunning=!0,gp(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),F_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,m,v,w,E)=>{try{return XD(a),d.invokeTask(m,v,w,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),eA(a)}},onInvoke:(d,h,m,v,w,E,D)=>{try{return XD(a),d.invoke(m,v,w,E,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),eA(a)}},onHasTask:(d,h,m,v)=>{d.hasTask(m,v),h===m&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,F_(a),gp(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,h,m,v)=>(d.handleError(m,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,d,h){return this._inner.run(l,d,h)}runTask(l,d,h,m){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+m,l,a1,Gf,Gf);try{return v.runTask(w,d,h)}finally{v.cancelTask(w)}}runGuarded(l,d,h){return this._inner.runGuarded(l,d,h)}runOutsideAngular(l){return this._outer.run(l)}}const a1={};function gp(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function F_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function XD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function eA(a){a._nesting--,gp(a)}class tA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ca,this.onMicrotaskEmpty=new ca,this.onStable=new ca,this.onError=new ca}run(l,d,h){return l.apply(d,h)}runGuarded(l,d,h){return l.apply(d,h)}runOutsideAngular(l){return l()}runTask(l,d,h,m){return l.apply(d,h)}}let nA=(()=>{class a{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lr.assertNotInAngularZone(),_0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_0(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,m){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,m){return[]}}return a.\u0275fac=function(d){return new(d||a)(bn(lr))},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})(),P_=(()=>{class a{constructor(){this._applications=new Map,il.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return il.findTestabilityInTree(this,d,h)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();class ru{addToWindow(l){}findTestabilityInTree(l,d,h){return null}}function u1(a){il=a}let il=new ru,iA=!0,rA=!1;function y0(){return rA=!0,iA}function c1(){if(rA)throw new Error("Cannot enable prod mode after platform setup.");iA=!1}let xr;const _p=new Pn("AllowMultipleToken");class N_{constructor(l,d){this.name=l,this.token=d}}function aA(a,l,d=[]){const h=`Platform: ${l}`,m=new Pn(h);return(v=[])=>{let w=yp();if(!w||w.injector.get(_p,!1))if(a)a(d.concat(v).concat({provide:m,useValue:!0}));else{const E=d.concat(v).concat({provide:m,useValue:!0},{provide:ym,useValue:"platform"});!function(a){if(xr&&!xr.destroyed&&!xr.injector.get(_p,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xr=a.get(b0);const l=a.get(T_,null);l&&l.forEach(d=>d())}(wn.create({providers:E,name:h}))}return function(a){const l=yp();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(m)}}function yp(){return xr&&!xr.destroyed?xr:null}let b0=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const E=function(a,l){let d;return d="noop"===a?new tA:("zone.js"===a?void 0:a)||new lr({enableLongStackTrace:y0(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),D=[{provide:lr,useValue:E}];return E.run(()=>{const T=wn.create({providers:D,parent:this.injector,name:d.moduleType.name}),O=d.create(T),N=O.injector.get(Il,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const B=E.onError.subscribe({next:$=>{N.handleError($)}});O.onDestroy(()=>{L_(this._modules,O),B.unsubscribe()})}),function(a,l,d){try{const h=d();return Ob(h)?h.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(N,E,()=>{const B=O.injector.get(Vd);return B.runInitializers(),B.donePromise.then(()=>(qm(O.injector.get(cp,Nf)||Nf),this._moduleDoBootstrap(O),O))})})}bootstrapModule(d,h=[]){const m=w0({},h);return function(a,l,d){const h=new m_(d);return Promise.resolve(h)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const h=d.injector.get(su);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${ne(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(bn(wn))},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();function w0(a,l){return Array.isArray(l)?l.reduce(w0,a):Object.assign(Object.assign({},a),l)}let su=(()=>{class a{constructor(d,h,m,v,w){this._zone=d,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=v,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new k.y(T=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{lr.assertNotInAngularZone(),_0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{O.unsubscribe(),N.unsubscribe()}});this.isStable=(0,te.T)(E,D.pipe((0,_e.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=d instanceof IR?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const v=function(a){return a.isBoundToModule}(m)?void 0:this._injector.get(Wi),E=m.create(wn.NULL,[],h||m.selector,v),D=E.location.nativeElement,T=E.injector.get(nA,null),O=T&&E.injector.get(P_);return T&&O&&O.registerApplication(D,T),E.onDestroy(()=>{this.detachView(E.hostView),L_(this.components,E),O&&O.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;L_(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(da,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(d){return new(d||a)(bn(lr),bn(wn),bn(Il),bn(ao),bn(Vd))},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();function L_(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}class _1{}class y1{}const v1={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let V_=(()=>{class a{constructor(d,h){this._compiler=d,this._config=h||v1}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,m]=d.split("#");return void 0===m&&(m="default"),j(8255)(h).then(v=>v[m]).then(v=>hA(v,h,m)).then(v=>this._compiler.compileModuleAsync(v))}loadFactory(d){let[h,m]=d.split("#"),v="NgFactory";return void 0===m&&(m="default",v=""),j(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(w=>w[m+v]).then(w=>hA(w,h,m))}}return a.\u0275fac=function(d){return new(d||a)(bn(pp),bn(y1,8))},a.\u0275prov=Wt({token:a,factory:a.\u0275fac}),a})();function hA(a,l,d){if(!a)throw new Error(`Cannot find '${d}' in '${l}'`);return a}const D1=function(a){return null},M1=aA(null,"core",[{provide:I_,useValue:"unknown"},{provide:b0,deps:[wn]},{provide:P_,deps:[]},{provide:p0,deps:[]}]),R1=[{provide:su,useClass:su,deps:[lr,wn,Il,ao,Vd]},{provide:_O,deps:[lr],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(d){l.push(d)}}},{provide:Vd,useClass:Vd,deps:[[new jo,f0]]},{provide:pp,useClass:pp,deps:[]},XO,{provide:n_,useFactory:function(){return Mx},deps:[]},{provide:i_,useFactory:function(){return Sw},deps:[]},{provide:cp,useFactory:function(a){return qm(a=a||"undefined"!=typeof $localize&&$localize.locale||Nf),a},deps:[[new El(cp),new jo,new Ts]]},{provide:YD,useValue:"USD"}];let k1=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(bn(su))},a.\u0275mod=_h({type:a}),a.\u0275inj=Bn({providers:R1}),a})()},57:(Ze,De,j)=>{"use strict";j.d(De,{hO:()=>ln,xv:()=>Ge,Dh:()=>Se,HU:()=>re,GT:()=>Ce,sI:()=>An,on:()=>qt,ss:()=>Y,pX:()=>ge,yq:()=>Ln});var u=j(7771),he=j(3637),k=j(3342),te=j(9673),_e=j(9746),se=j(7716),J=j(2329);function ne(){}Ze=j.hmd(Ze);class Z{constructor(me,ye=u.N){this.zone=me,this.delegate=ye}now(){return this.delegate.now()}schedule(me,ye,de){const Me=this.zone;return this.delegate.schedule(function(ut){Me.runGuarded(()=>{me.apply(this,[ut])})},ye,de)}}class H{constructor(me){this.zone=me,this.task=null}call(me,ye){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ne,{},ne,ne)),ye.pipe((0,k.b)({next:de,complete:de,error:de})).subscribe(me).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class re{constructor(me){this.ngZone=me,this.outsideAngular=me.runOutsideAngular(()=>new Z(Zone.current)),this.insideAngular=me.run(()=>new Z(Zone.current,he.z))}}function Y(fe){return function(ye){return(ye=ye.lift(new H(fe.ngZone))).pipe((0,te.R)(fe.outsideAngular),(0,_e.QV)(fe.insideAngular))}}const ee=["ngOnDestroy"],ge=(fe,me,ye,de={})=>new Proxy(fe,{get:(Me,pe)=>ye.runOutsideAngular(()=>{var ut;if(fe[pe])return(null===(ut=null==de?void 0:de.spy)||void 0===ut?void 0:ut.get)&&de.spy.get(pe,fe[pe]),fe[pe];if(ee.indexOf(pe)>-1)return()=>{};const dt=me.toPromise().then(gn=>{const rt=gn&&gn[pe];return"function"==typeof rt?rt.bind(gn):rt&&rt.then?rt.then(it=>ye.run(()=>it)):ye.run(()=>rt)});return new Proxy(()=>{},{get:(gn,rt)=>dt[rt],apply:(gn,rt,it)=>dt.then(He=>{var Qe;const Mt=He&&He(...it);return(null===(Qe=null==de?void 0:de.spy)||void 0===Qe?void 0:Qe.apply)&&de.spy.apply(pe,it,Mt),Mt})})})}),Ce=(fe,me)=>{me.forEach(ye=>{Object.getOwnPropertyNames(ye.prototype||ye).forEach(de=>{Object.defineProperty(fe.prototype,de,Object.getOwnPropertyDescriptor(ye.prototype||ye,de))})})},Se=new se.OlP("angularfire2.app.options"),Ge=new se.OlP("angularfire2.app.nameOrConfig"),Le=new se.GfV("6.1.5");function qt(fe,me,ye){const Me="object"==typeof ye&&ye||{};Me.name=Me.name||"string"==typeof ye&&ye||"[DEFAULT]";const ut=J.Z.apps.filter(dt=>dt&&dt.name===Me.name)[0]||me.runOutsideAngular(()=>J.Z.initializeApp(fe,Me));try{JSON.stringify(fe)!==JSON.stringify(ut.options)&&ot("error",`${ut.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(dt){}return ut}const Ln=()=>{ot("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},ot=(fe,...me)=>{(0,se.X6Q)()&&"undefined"!=typeof console&&console[fe](...me)};function An(fe,me,ye,de,Me){const[pe,...ut]=globalThis.\u0275AngularfireInstanceCache.get(fe)||[];if(pe){try{Me.some((dt,gn)=>{const rt=ut[gn];return dt&&"object"==typeof dt?JSON.stringify(dt)!==JSON.stringify(rt):dt!==rt})&&ot("error",`${me} was already initialized on the ${ye.name} Firebase App instance with different settings.${Ze.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(dt){}return pe}{const dt=de();return globalThis.\u0275AngularfireInstanceCache.set(fe,[dt,...Me]),dt}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const $t={provide:class{},useFactory:qt,deps:[Se,se.R0b,[new se.FiY,Ge]]};let ln=(()=>{class fe{constructor(ye){J.Z.registerVersion("angularfire",Le.full,ye.toString()),J.Z.registerVersion("angular",se.q4F.full)}static initializeApp(ye,de){return{ngModule:fe,providers:[{provide:Se,useValue:ye},{provide:Ge,useValue:de}]}}}return fe.\u0275fac=function(ye){return new(ye||fe)(se.LFG(se.Lbi))},fe.\u0275mod=se.oAB({type:fe}),fe.\u0275inj=se.cJS({providers:[$t]}),fe})()},9759:(Ze,De,j)=>{"use strict";j.d(De,{Z:()=>it});var _e,ot,u=j(4762),he=j(4685),k=j(6034),te=j(300),se=((_e={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_e["bad-app-name"]="Illegal App name: '{$appName}",_e["duplicate-app"]="Firebase App named '{$appName}' already exists",_e["app-deleted"]="Firebase App named '{$appName}' already deleted",_e["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_e["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_e),J=new he.LL("app","Firebase",se),ne="@firebase/app",nn="[DEFAULT]",An=((ot={})[ne]="fire-core",ot["@firebase/analytics"]="fire-analytics",ot["@firebase/app-check"]="fire-app-check",ot["@firebase/auth"]="fire-auth",ot["@firebase/database"]="fire-rtdb",ot["@firebase/functions"]="fire-fn",ot["@firebase/installations"]="fire-iid",ot["@firebase/messaging"]="fire-fcm",ot["@firebase/performance"]="fire-perf",ot["@firebase/remote-config"]="fire-rc",ot["@firebase/storage"]="fire-gcs",ot["@firebase/firestore"]="fire-fst",ot["fire-js"]="fire-js",ot["firebase-wrapper"]="fire-js-all",ot),$t=new te.Yd("@firebase/app"),ln=function(){function He(Qe,Mt,mn){var Wt=this;this.firebase_=mn,this.isDeleted_=!1,this.name_=Mt.name,this.automaticDataCollectionEnabled_=Mt.automaticDataCollectionEnabled||!1,this.options_=(0,he.p$)(Qe),this.container=new k.H0(Mt.name),this._addComponent(new k.wA("app",function(){return Wt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Or){return Wt._addComponent(Or)})}return Object.defineProperty(He.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Qe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Qe},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),He.prototype.delete=function(){var Qe=this;return new Promise(function(Mt){Qe.checkDestroyed_(),Mt()}).then(function(){return Qe.firebase_.INTERNAL.removeApp(Qe.name_),Promise.all(Qe.container.getProviders().map(function(Mt){return Mt.delete()}))}).then(function(){Qe.isDeleted_=!0})},He.prototype._getService=function(Qe,Mt){var mn;void 0===Mt&&(Mt=nn),this.checkDestroyed_();var Wt=this.container.getProvider(Qe);return!Wt.isInitialized()&&"EXPLICIT"===(null===(mn=Wt.getComponent())||void 0===mn?void 0:mn.instantiationMode)&&Wt.initialize(),Wt.getImmediate({identifier:Mt})},He.prototype._removeServiceInstance=function(Qe,Mt){void 0===Mt&&(Mt=nn),this.container.getProvider(Qe).clearInstance(Mt)},He.prototype._addComponent=function(Qe){try{this.container.addComponent(Qe)}catch(Mt){$t.debug("Component "+Qe.name+" failed to register with FirebaseApp "+this.name,Mt)}},He.prototype._addOrOverwriteComponent=function(Qe){this.container.addOrOverwriteComponent(Qe)},He.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},He.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw J.create("app-deleted",{appName:this.name_})},He}();ln.prototype.name&&ln.prototype.options||ln.prototype.delete||console.log("dc");var de=function ye(){var He=function(He){var Qe={},Mt=new Map,mn={__esModule:!0,initializeApp:function(jt,Rt){void 0===Rt&&(Rt={}),("object"!=typeof Rt||null===Rt)&&(Rt={name:Rt});var vi=Rt;void 0===vi.name&&(vi.name=nn);var $e=vi.name;if("string"!=typeof $e||!$e)throw J.create("bad-app-name",{appName:String($e)});if((0,he.r3)(Qe,$e))throw J.create("duplicate-app",{appName:$e});var vn=new He(jt,vi,mn);return Qe[$e]=vn,vn},app:Or,registerVersion:function(jt,Rt,yi){var vi,$e=null!==(vi=An[jt])&&void 0!==vi?vi:jt;yi&&($e+="-"+yi);var vn=$e.match(/\s|\//),Zn=Rt.match(/\s|\//);if(vn||Zn){var qn=['Unable to register library "'+$e+'" with version "'+Rt+'":'];return vn&&qn.push('library name "'+$e+'" contains illegal characters (whitespace or "/")'),vn&&Zn&&qn.push("and"),Zn&&qn.push('version name "'+Rt+'" contains illegal characters (whitespace or "/")'),void $t.warn(qn.join(" "))}ts(new k.wA($e+"-version",function(){return{library:$e,version:Rt}},"VERSION"))},setLogLevel:te.Ub,onLog:function(jt,Rt){if(null!==jt&&"function"!=typeof jt)throw J.create("invalid-log-argument");(0,te.Am)(jt,Rt)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:ts,removeApp:function(jt){delete Qe[jt]},components:Mt,useAsService:function(jt,Rt){return"serverAuth"===Rt?null:Rt}}};function Or(jt){if(!(0,he.r3)(Qe,jt=jt||nn))throw J.create("no-app",{appName:jt});return Qe[jt]}function ts(jt){var Rt=jt.name;if(Mt.has(Rt))return $t.debug("There were multiple attempts to register component "+Rt+"."),"PUBLIC"===jt.type?mn[Rt]:null;if(Mt.set(Rt,jt),"PUBLIC"===jt.type){var yi=function(Zn){if(void 0===Zn&&(Zn=Or()),"function"!=typeof Zn[Rt])throw J.create("invalid-app-argument",{appName:Rt});return Zn[Rt]()};void 0!==jt.serviceProps&&(0,he.ZB)(yi,jt.serviceProps),mn[Rt]=yi,He.prototype[Rt]=function(){for(var Zn=[],qn=0;qn<arguments.length;qn++)Zn[qn]=arguments[qn];return this._getService.bind(this,Rt).apply(this,jt.multipleInstances?Zn:[])}}for(var vi=0,$e=Object.keys(Qe);vi<$e.length;vi++)Qe[$e[vi]]._addComponent(jt);return"PUBLIC"===jt.type?mn[Rt]:null}return mn.default=mn,Object.defineProperty(mn,"apps",{get:function(){return Object.keys(Qe).map(function(jt){return Qe[jt]})}}),Or.App=He,mn}(ln);return He.INTERNAL=(0,u.pi)((0,u.pi)({},He.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function(Mt){(0,he.ZB)(He,Mt)},createSubscribe:he.ne,ErrorFactory:he.LL,deepExtend:he.ZB}),He}(),Me=function(){function He(Qe){this.container=Qe}return He.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Mt){if(function(He){var Qe=He.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(Mt)){var mn=Mt.getImmediate();return mn.library+"/"+mn.version}return null}).filter(function(Mt){return Mt}).join(" ")},He}();if((0,he.jU)()&&void 0!==self.firebase){$t.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&$t.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gn=de.initializeApp;de.initializeApp=function(){for(var He=[],Qe=0;Qe<arguments.length;Qe++)He[Qe]=arguments[Qe];return(0,he.UG)()&&$t.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),gn.apply(void 0,He)};var He,rt=de;(He=rt).INTERNAL.registerComponent(new k.wA("platform-logger",function(Mt){return new Me(Mt)},"PRIVATE")),He.registerVersion(ne,"0.6.29",undefined),He.registerVersion("fire-js","");const it=rt},6034:(Ze,De,j)=>{"use strict";j.d(De,{wA:()=>k,H0:()=>ne,zt:()=>_e});var u=j(4762),he=j(4685),k=function(){function Z(H,re,Y){this.name=H,this.instanceFactory=re,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},Z.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},Z.prototype.setServiceProps=function(H){return this.serviceProps=H,this},Z.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},Z}(),te="[DEFAULT]",_e=function(){function Z(H,re){this.name=H,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Z.prototype.get=function(H){var re=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(re)){var Y=new he.BH;if(this.instancesDeferred.set(re,Y),this.isInitialized(re)||this.shouldAutoInitialize())try{var ee=this.getOrInitializeService({instanceIdentifier:re});ee&&Y.resolve(ee)}catch(ge){}}return this.instancesDeferred.get(re).promise},Z.prototype.getImmediate=function(H){var re,Y=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),ee=null!==(re=null==H?void 0:H.optional)&&void 0!==re&&re;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ge){if(ee)return null;throw ge}},Z.prototype.getComponent=function(){return this.component},Z.prototype.setComponent=function(H){var re,Y;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:te})}catch(qt){}try{for(var ee=(0,u.XA)(this.instancesDeferred.entries()),ge=ee.next();!ge.done;ge=ee.next()){var Ce=(0,u.CR)(ge.value,2),Ge=Ce[1],Oe=this.normalizeInstanceIdentifier(Ce[0]);try{var Le=this.getOrInitializeService({instanceIdentifier:Oe});Ge.resolve(Le)}catch(qt){}}}catch(qt){re={error:qt}}finally{try{ge&&!ge.done&&(Y=ee.return)&&Y.call(ee)}finally{if(re)throw re.error}}}},Z.prototype.clearInstance=function(H){void 0===H&&(H=te),this.instancesDeferred.delete(H),this.instances.delete(H)},Z.prototype.delete=function(){return(0,u.mG)(this,void 0,void 0,function(){var H;return(0,u.Jh)(this,function(re){switch(re.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,u.ev)((0,u.ev)([],(0,u.CR)(H.filter(function(Y){return"INTERNAL"in Y}).map(function(Y){return Y.INTERNAL.delete()}))),(0,u.CR)(H.filter(function(Y){return"_delete"in Y}).map(function(Y){return Y._delete()}))))];case 1:return re.sent(),[2]}})})},Z.prototype.isComponentSet=function(){return null!=this.component},Z.prototype.isInitialized=function(H){return void 0===H&&(H=te),this.instances.has(H)},Z.prototype.initialize=function(H){var re,Y;void 0===H&&(H={});var ee=H.options,ge=void 0===ee?{}:ee,Ce=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Se=this.getOrInitializeService({instanceIdentifier:Ce,options:ge});try{for(var Ge=(0,u.XA)(this.instancesDeferred.entries()),Oe=Ge.next();!Oe.done;Oe=Ge.next()){var Le=(0,u.CR)(Oe.value,2),Ln=Le[1];Ce===this.normalizeInstanceIdentifier(Le[0])&&Ln.resolve(Se)}}catch(nn){re={error:nn}}finally{try{Oe&&!Oe.done&&(Y=Ge.return)&&Y.call(Ge)}finally{if(re)throw re.error}}return Se},Z.prototype.onInit=function(H,re){var Y,ee=this.normalizeInstanceIdentifier(re),ge=null!==(Y=this.onInitCallbacks.get(ee))&&void 0!==Y?Y:new Set;ge.add(H),this.onInitCallbacks.set(ee,ge);var Ce=this.instances.get(ee);return Ce&&H(Ce,ee),function(){ge.delete(H)}},Z.prototype.invokeOnInitCallbacks=function(H,re){var Y,ee,ge=this.onInitCallbacks.get(re);if(ge)try{for(var Ce=(0,u.XA)(ge),Se=Ce.next();!Se.done;Se=Ce.next()){var Ge=Se.value;try{Ge(H,re)}catch(Oe){}}}catch(Oe){Y={error:Oe}}finally{try{Se&&!Se.done&&(ee=Ce.return)&&ee.call(Ce)}finally{if(Y)throw Y.error}}},Z.prototype.getOrInitializeService=function(H){var re=H.instanceIdentifier,Y=H.options,ee=void 0===Y?{}:Y,ge=this.instances.get(re);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:se(re),options:ee}),this.instances.set(re,ge),this.invokeOnInitCallbacks(ge,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ge)}catch(Ce){}return ge||null},Z.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=te),this.component?this.component.multipleInstances?H:te:H},Z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Z}();function se(Z){return Z===te?void 0:Z}var ne=function(){function Z(H){this.name=H,this.providers=new Map}return Z.prototype.addComponent=function(H){var re=this.getProvider(H.name);if(re.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);re.setComponent(H)},Z.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},Z.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var re=new _e(H,this);return this.providers.set(H,re),re},Z.prototype.getProviders=function(){return Array.from(this.providers.values())},Z}()},9192:(Ze,De,j)=>{"use strict";var u=j(9759),he=j(6034),k=j(4685),te=j(4762),_e=j(300);Ze=j.hmd(Ze);var ne="";function Z(g){ne=g}var g,H=function(){function g(p){this.domStorage_=p,this.prefix_="firebase:"}return g.prototype.set=function(p,_){null==_?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,k.Pz)(_))},g.prototype.get=function(p){var _=this.domStorage_.getItem(this.prefixedName_(p));return null==_?null:(0,k.cI)(_)},g.prototype.remove=function(p){this.domStorage_.removeItem(this.prefixedName_(p))},g.prototype.prefixedName_=function(p){return this.prefix_+p},g.prototype.toString=function(){return this.domStorage_.toString()},g}(),re=function(){function g(){this.cache_={},this.isInMemoryStorage=!0}return g.prototype.set=function(p,_){null==_?delete this.cache_[p]:this.cache_[p]=_},g.prototype.get=function(p){return(0,k.r3)(this.cache_,p)?this.cache_[p]:null},g.prototype.remove=function(p){delete this.cache_[p]},g}(),Y=function(g){try{if("undefined"!=typeof window&&void 0!==window[g]){var p=window[g];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new H(p)}}catch(_){}return new re},ee=Y("localStorage"),ge=Y("sessionStorage"),Ce=new _e.Yd("@firebase/database"),Se=(g=1,function(){return g++}),Ge=function(g){var p=(0,k.dS)(g),_=new k.gQ;_.update(p);var b=_.digest();return k.US.encodeByteArray(b)},Oe=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];for(var _="",b=0;b<g.length;b++){var S=g[b];Array.isArray(S)||S&&"object"==typeof S&&"number"==typeof S.length?_+=Oe.apply(null,S):_+="object"==typeof S?(0,k.Pz)(S):S,_+=" "}return _},Le=null,qt=!0,Ln=function(g,p){(0,k.hu)(!p||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(Ce.logLevel=_e.in.VERBOSE,Le=Ce.log.bind(Ce),p&&ge.set("logging_enabled",!0)):"function"==typeof g?Le=g:(Le=null,ge.remove("logging_enabled"))},ot=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];if(!0===qt&&(qt=!1,null===Le&&!0===ge.get("logging_enabled")&&Ln(!0)),Le){var _=Oe.apply(null,g);Le(_)}},nn=function(g){return function(){for(var p=[],_=0;_<arguments.length;_++)p[_]=arguments[_];ot.apply(void 0,(0,te.ev)([g],(0,te.CR)(p)))}},An=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE INTERNAL ERROR: "+Oe.apply(void 0,(0,te.ev)([],(0,te.CR)(g)));Ce.error(_)},$t=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE FATAL ERROR: "+Oe.apply(void 0,(0,te.ev)([],(0,te.CR)(g)));throw Ce.error(_),new Error(_)},ln=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE WARNING: "+Oe.apply(void 0,(0,te.ev)([],(0,te.CR)(g)));Ce.warn(_)},me=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},de="[MIN_NAME]",Me="[MAX_NAME]",pe=function(g,p){if(g===p)return 0;if(g===de||p===Me)return-1;if(p===de||g===Me)return 1;var _=di(g),b=di(p);return null!==_?null!==b?_-b==0?g.length-p.length:_-b:-1:null!==b?1:g<p?-1:1},ut=function(g,p){return g===p?0:g<p?-1:1},dt=function(g,p){if(p&&g in p)return p[g];throw new Error("Missing required key ("+g+") in object: "+(0,k.Pz)(p))},gn=function(g){if("object"!=typeof g||null===g)return(0,k.Pz)(g);var p=[];for(var _ in g)p.push(_);p.sort();for(var b="{",S=0;S<p.length;S++)0!==S&&(b+=","),b+=(0,k.Pz)(p[S]),b+=":",b+=gn(g[p[S]]);return b+"}"},rt=function(g,p){var _=g.length;if(_<=p)return[g];for(var b=[],S=0;S<_;S+=p)b.push(g.substring(S,S+p>_?_:S+p));return b};function it(g,p){for(var _ in g)g.hasOwnProperty(_)&&p(_,g[_])}var He=function(g){(0,k.hu)(!me(g),"Invalid JSON number");var S,A,I,P,L,b=1023;0===g?(A=0,I=0,S=1/g==-1/0?1:0):(S=g<0,(g=Math.abs(g))>=Math.pow(2,1-b)?(A=(P=Math.min(Math.floor(Math.log(g)/Math.LN2),b))+b,I=Math.round(g*Math.pow(2,52-P)-Math.pow(2,52))):(A=0,I=Math.round(g/Math.pow(2,-1074))));var z=[];for(L=52;L;L-=1)z.push(I%2?1:0),I=Math.floor(I/2);for(L=11;L;L-=1)z.push(A%2?1:0),A=Math.floor(A/2);z.push(S?1:0),z.reverse();var q=z.join(""),ue="";for(L=0;L<64;L+=8){var Ee=parseInt(q.substr(L,8),2).toString(16);1===Ee.length&&(Ee="0"+Ee),ue+=Ee}return ue.toLowerCase()},Wt=new RegExp("^-?(0*)\\d{1,10}$"),Or=-2147483648,Bn=2147483647,di=function(g){if(Wt.test(g)){var p=Number(g);if(p>=Or&&p<=Bn)return p}return null},ts=function(g){try{g()}catch(p){setTimeout(function(){throw ln("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},bo=function(g,p){var _=setTimeout(g,p);return"object"==typeof _&&_.unref&&_.unref(),_},mu=function(){function g(p,_){var b=this;this.appName_=p,this.appCheckProvider=_,this.appCheck=null==_?void 0:_.getImmediate({optional:!0}),this.appCheck||null==_||_.get().then(function(S){return b.appCheck=S})}return g.prototype.getToken=function(p){var _=this;return this.appCheck?this.appCheck.getToken(p):new Promise(function(b,S){setTimeout(function(){_.appCheck?_.getToken(p).then(b,S):b(null)},0)})},g.prototype.addTokenChangeListener=function(p){var _;null===(_=this.appCheckProvider)||void 0===_||_.get().then(function(b){return b.addTokenListener(p)})},g.prototype.notifyForInvalidToken=function(){ln('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},g}(),jt=function(){function g(p,_,b){var S=this;this.appName_=p,this.firebaseOptions_=_,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(function(A){return S.auth_=A})}return g.prototype.getToken=function(p){var _=this;return this.auth_?this.auth_.getToken(p).catch(function(b){return b&&"auth/token-not-initialized"===b.code?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)}):new Promise(function(b,S){setTimeout(function(){_.auth_?_.getToken(p).then(b,S):b(null)},0)})},g.prototype.addTokenChangeListener=function(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(function(_){return _.addAuthTokenListener(p)})},g.prototype.removeTokenChangeListener=function(p){this.authProvider_.get().then(function(_){return _.removeAuthTokenListener(p)})},g.prototype.notifyForInvalidToken=function(){var p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';ln(p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},g}(),Rt=function(){function g(p){this.accessToken=p}return g.prototype.getToken=function(p){return Promise.resolve({accessToken:this.accessToken})},g.prototype.addTokenChangeListener=function(p){p(this.accessToken)},g.prototype.removeTokenChangeListener=function(p){},g.prototype.notifyForInvalidToken=function(){},g.OWNER="owner",g}(),qn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ri="websocket",gh="long_polling",Vn=function(){function g(p,_,b,S,A,I,P){void 0===A&&(A=!1),void 0===I&&(I=""),void 0===P&&(P=!1),this.secure=_,this.namespace=b,this.webSocketOnly=S,this.nodeAdmin=A,this.persistenceKey=I,this.includeNamespaceInQueryParams=P,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ee.get("host:"+p)||this._host}return g.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},g.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(g.prototype,"host",{get:function(){return this._host},set:function(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&ee.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),g.prototype.toString=function(){var p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p},g.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},g}();function wt(g,p,_){var b;if((0,k.hu)("string"==typeof p,"typeof type must == string"),(0,k.hu)("object"==typeof _,"typeof params must == object"),p===ri)b=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(p!==gh)throw new Error("Unknown connection type: "+p);b=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(_.ns=g.namespace);var S=[];return it(_,function(A,I){S.push(A+"="+I)}),b+S.join("&")}var mh=function(){function g(){this.counters_={}}return g.prototype.incrementCounter=function(p,_){void 0===_&&(_=1),(0,k.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=_},g.prototype.get=function(){return(0,k.p$)(this.counters_)},g}(),wo={},Fr={};function un(g){var p=g.toString();return wo[p]||(wo[p]=new mh),wo[p]}var ng=function(){function g(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g.prototype.closeAfter=function(p,_){this.closeAfterResponse=p,this.onClose=_,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},g.prototype.handleResponse=function(p,_){var b=this;this.pendingResponses[p]=_;for(var S=function(){var P=A.pendingResponses[A.currentResponseNum];delete A.pendingResponses[A.currentResponseNum];for(var L=function(q){P[q]&&ts(function(){b.onMessage_(P[q])})},z=0;z<P.length;++z)L(z);if(A.currentResponseNum===A.closeAfterResponse)return A.onClose&&(A.onClose(),A.onClose=null),"break";A.currentResponseNum++},A=this;this.pendingResponses[this.currentResponseNum]&&"break"!==S(););},g}(),K="start",W="close",Mc=function(){function g(p,_,b,S,A,I,P){var L=this;this.connId=p,this.repoInfo=_,this.applicationId=b,this.appCheckToken=S,this.authToken=A,this.transportSessionId=I,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nn(p),this.stats_=un(_),this.urlFn=function(z){return L.appCheckToken&&(z.ac=L.appCheckToken),wt(_,gh,z)}}return g.prototype.open=function(p,_){var b=this;this.curSegmentNum=0,this.onDisconnect_=_,this.myPacketOrderer=new ng(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,k.Yr)()||"complete"===document.readyState)g();else{var p=!1,_=function(){document.body?p||(p=!0,g()):setTimeout(_,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",_,!1),window.addEventListener("load",_,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&_()}),window.attachEvent("onload",_))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new yh(function(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];var L=(0,te.CR)(I,5),z=L[0],q=L[1],ue=L[2];if(b.incrementIncomingBytes_(I),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,z===K)b.id=q,b.password=ue;else{if(z!==W)throw new Error("Unrecognized command received: "+z);q?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(q,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];var L=(0,te.CR)(I,2),z=L[0],q=L[1];b.incrementIncomingBytes_(I),b.myPacketOrderer.handleResponse(z,q)},function(){b.onClosed_()},b.urlFn);var S={start:"t"};S.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(S.cb=b.scriptTagHolder.uniqueCallbackIdentifier),S.v="5",b.transportSessionId&&(S.s=b.transportSessionId),b.lastSessionId&&(S.ls=b.lastSessionId),b.applicationId&&(S.p=b.applicationId),b.appCheckToken&&(S.ac=b.appCheckToken),"undefined"!=typeof location&&location.hostname&&qn.test(location.hostname)&&(S.r="f");var A=b.urlFn(S);b.log_("Connecting via long-poll to "+A),b.scriptTagHolder.addTag(A,function(){})}})},g.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},g.forceAllow=function(){g.forceAllow_=!0},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){return!((0,k.Yr)()||!g.forceAllow_&&(g.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},g.prototype.markConnectionHealthy=function(){},g.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},g.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},g.prototype.send=function(p){var _=(0,k.Pz)(p);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);for(var b=(0,k.h$)(_),S=rt(b,1840),A=0;A<S.length;A++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,S.length,S[A]),this.curSegmentNum++},g.prototype.addDisconnectPingFrame=function(p,_){if(!(0,k.Yr)()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=p,b.pw=_,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},g.prototype.incrementIncomingBytes_=function(p){var _=(0,k.Pz)(p).length;this.bytesReceived+=_,this.stats_.incrementCounter("bytes_received",_)},g}(),yh=function(){function g(p,_,b,S){if(this.onDisconnect=b,this.urlFn=S,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=p,this.onMessageCB=_;else{this.uniqueCallbackIdentifier=Se(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=_,this.myIFrame=g.createIFrame_();var A="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(A='<script>document.domain="'+document.domain+'";<\/script>');var P="<html><body>"+A+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(L){ot("frame writing exception"),L.stack&&ot(L.stack),ot(L)}}}return g.createIFrame_=function(){var p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||ot("No IE domain setting required")}catch(S){var b=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p},g.prototype.close=function(){var p=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==p.myIFrame&&(document.body.removeChild(p.myIFrame),p.myIFrame=null)},Math.floor(0)));var _=this.onDisconnect;_&&(this.onDisconnect=null,_())},g.prototype.startLongPoll=function(p,_){for(this.myID=p,this.myPW=_,this.alive=!0;this.newRequest_(););},g.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;for(var _=this.urlFn(p),b="",S=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var I=this.pendingSegs.shift();b=b+"&seg"+S+"="+I.seg+"&ts"+S+"="+I.ts+"&d"+S+"="+I.d,S++}return this.addLongPollTag_(_+=b,this.currentSerial),!0}return!1},g.prototype.enqueueSegment=function(p,_,b){this.pendingSegs.push({seg:p,ts:_,d:b}),this.alive&&this.newRequest_()},g.prototype.addLongPollTag_=function(p,_){var b=this;this.outstandingRequests.add(_);var S=function(){b.outstandingRequests.delete(_),b.newRequest_()},A=setTimeout(S,Math.floor(25e3));this.addTag(p,function(){clearTimeout(A),S()})},g.prototype.addTag=function(p,_){var b=this;(0,k.Yr)()?this.doNodeLongPoll(p,_):setTimeout(function(){try{if(!b.sendNewPolls)return;var S=b.myIFrame.doc.createElement("script");S.type="text/javascript",S.async=!0,S.src=p,S.onload=S.onreadystatechange=function(){var A=S.readyState;(!A||"loaded"===A||"complete"===A)&&(S.onload=S.onreadystatechange=null,S.parentNode&&S.parentNode.removeChild(S),_())},S.onerror=function(){ot("Long-poll script failed to load: "+p),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(S)}catch(A){}},Math.floor(1))},g}(),Ui=null;"undefined"!=typeof MozWebSocket?Ui=MozWebSocket:"undefined"!=typeof WebSocket&&(Ui=WebSocket);var bi=function(){function g(p,_,b,S,A,I,P){this.connId=p,this.applicationId=b,this.appCheckToken=S,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nn(this.connId),this.stats_=un(_),this.connURL=g.connectionURL_(_,I,P,S),this.nodeAdmin=_.nodeAdmin}return g.connectionURL_=function(p,_,b,S){var A={v:"5"};return!(0,k.Yr)()&&"undefined"!=typeof location&&location.hostname&&qn.test(location.hostname)&&(A.r="f"),_&&(A.s=_),b&&(A.ls=b),S&&(A.ac=S),wt(p,ri,A)},g.prototype.open=function(p,_){var b=this;this.onDisconnect=_,this.onMessage=p,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ee.set("previous_websocket_failure",!0);try{if((0,k.Yr)()){var A={headers:{"User-Agent":"Firebase/5/"+ne+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(A.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(A.headers["X-Firebase-AppCheck"]=this.appCheckToken);var I=process.env,P=0===this.connURL.indexOf("wss://")?I.HTTPS_PROXY||I.https_proxy:I.HTTP_PROXY||I.http_proxy;P&&(A.proxy={origin:P}),this.mySock=new Ui(this.connURL,[],A)}else this.mySock=new Ui(this.connURL,[],A={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(z){this.log_("Error instantiating WebSocket.");var L=z.message||z.data;return L&&this.log_(L),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(z){b.handleIncomingFrame(z)},this.mySock.onerror=function(z){b.log_("WebSocket error.  Closing connection.");var q=z.message||z.data;q&&b.log_(q),b.onClosed_()}},g.prototype.start=function(){},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){var p=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(p=!0)}return!p&&null!==Ui&&!g.forceDisallow_},g.previouslyFailed=function(){return ee.isInMemoryStorage||!0===ee.get("previous_websocket_failure")},g.prototype.markConnectionHealthy=function(){ee.remove("previous_websocket_failure")},g.prototype.appendFrame_=function(p){if(this.frames.push(p),this.frames.length===this.totalFrames){var _=this.frames.join("");this.frames=null;var b=(0,k.cI)(_);this.onMessage(b)}},g.prototype.handleNewFrameCount_=function(p){this.totalFrames=p,this.frames=[]},g.prototype.extractFrameCount_=function(p){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),p.length<=6){var _=Number(p);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),p},g.prototype.handleIncomingFrame=function(p){if(null!==this.mySock){var _=p.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{var b=this.extractFrameCount_(_);null!==b&&this.appendFrame_(b)}}},g.prototype.send=function(p){this.resetKeepAlive();var _=(0,k.Pz)(p);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);var b=rt(_,16384);b.length>1&&this.sendString_(String(b.length));for(var S=0;S<b.length;S++)this.sendString_(b[S])},g.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},g.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},g.prototype.resetKeepAlive=function(){var p=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){p.mySock&&p.sendString_("0"),p.resetKeepAlive()},Math.floor(45e3))},g.prototype.sendString_=function(p){try{this.mySock.send(p)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g}(),Nr=function(){function g(p){this.initTransports_(p)}return Object.defineProperty(g,"ALL_TRANSPORTS",{get:function(){return[Mc,bi]},enumerable:!1,configurable:!0}),g.prototype.initTransports_=function(p){var _,b,S=bi&&bi.isAvailable(),A=S&&!bi.previouslyFailed();if(p.webSocketOnly&&(S||ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),A=!0),A)this.transports_=[bi];else{var I=this.transports_=[];try{for(var P=(0,te.XA)(g.ALL_TRANSPORTS),L=P.next();!L.done;L=P.next()){var z=L.value;z&&z.isAvailable()&&I.push(z)}}catch(q){_={error:q}}finally{try{L&&!L.done&&(b=P.return)&&b.call(P)}finally{if(_)throw _.error}}}},g.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},g.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},g}(),Co=function(){function g(p,_,b,S,A,I,P,L,z,q){this.id=p,this.repoInfo_=_,this.applicationId_=b,this.appCheckToken_=S,this.authToken_=A,this.onMessage_=I,this.onReady_=P,this.onDisconnect_=L,this.onKill_=z,this.lastSessionId=q,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nn("c:"+this.id+":"),this.transportManager_=new Nr(_),this.log_("Connection created"),this.start_()}return g.prototype.start_=function(){var p=this,_=this.transportManager_.initialTransport();this.conn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),S=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){p.conn_&&p.conn_.open(b,S)},Math.floor(0));var A=_.healthyTimeout||0;A>0&&(this.healthyTimeout_=bo(function(){p.healthyTimeout_=null,p.isHealthy_||(p.conn_&&p.conn_.bytesReceived>102400?(p.log_("Connection exceeded healthy timeout but has received "+p.conn_.bytesReceived+" bytes.  Marking connection healthy."),p.isHealthy_=!0,p.conn_.markConnectionHealthy()):p.conn_&&p.conn_.bytesSent>10240?p.log_("Connection exceeded healthy timeout but has sent "+p.conn_.bytesSent+" bytes.  Leaving connection alive."):(p.log_("Closing unhealthy connection after timeout."),p.close()))},Math.floor(A)))},g.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},g.prototype.disconnReceiver_=function(p){var _=this;return function(b){p===_.conn_?_.onConnectionLost_(b):p===_.secondaryConn_?(_.log_("Secondary connection lost."),_.onSecondaryConnectionLost_()):_.log_("closing an old connection")}},g.prototype.connReceiver_=function(p){var _=this;return function(b){2!==_.state_&&(p===_.rx_?_.onPrimaryMessageReceived_(b):p===_.secondaryConn_?_.onSecondaryMessageReceived_(b):_.log_("message on old connection"))}},g.prototype.sendRequest=function(p){this.sendData_({t:"d",d:p})},g.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},g.prototype.onSecondaryControl_=function(p){if("t"in p){var _=p.t;"a"===_?this.upgradeIfSecondaryHealthy_():"r"===_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},g.prototype.onSecondaryMessageReceived_=function(p){var _=dt("t",p),b=dt("d",p);if("c"===_)this.onSecondaryControl_(b);else{if("d"!==_)throw new Error("Unknown protocol layer: "+_);this.pendingDataMessages.push(b)}},g.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},g.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},g.prototype.onPrimaryMessageReceived_=function(p){var _=dt("t",p),b=dt("d",p);"c"===_?this.onControl_(b):"d"===_&&this.onDataMessage_(b)},g.prototype.onDataMessage_=function(p){this.onPrimaryResponse_(),this.onMessage_(p)},g.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},g.prototype.onControl_=function(p){var _=dt("t",p);if("d"in p){var b=p.d;if("h"===_)this.onHandshake_(b);else if("n"===_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var S=0;S<this.pendingDataMessages.length;++S)this.onDataMessage_(this.pendingDataMessages[S]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===_?this.onConnectionShutdown_(b):"r"===_?this.onReset_(b):"e"===_?An("Server Error: "+b):"o"===_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):An("Unknown control packet command: "+_)}},g.prototype.onHandshake_=function(p){var _=p.ts,b=p.v,S=p.h;this.sessionId=p.s,this.repoInfo_.host=S,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,_),"5"!==b&&ln("Protocol version mismatch detected"),this.tryStartUpgrade_())},g.prototype.tryStartUpgrade_=function(){var p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)},g.prototype.startUpgrade_=function(p){var _=this;this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),S=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,S),bo(function(){_.secondaryConn_&&(_.log_("Timed out trying to upgrade."),_.secondaryConn_.close())},Math.floor(6e4))},g.prototype.onReset_=function(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())},g.prototype.onConnectionEstablished_=function(p,_){var b=this;this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(_,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bo(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},g.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},g.prototype.onSecondaryConnectionLost_=function(){var p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()},g.prototype.onConnectionLost_=function(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ee.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},g.prototype.onConnectionShutdown_=function(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()},g.prototype.sendData_=function(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)},g.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},g.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},g}(),Tc=function(){function g(){}return g.prototype.put=function(p,_,b,S){},g.prototype.merge=function(p,_,b,S){},g.prototype.refreshAuthToken=function(p){},g.prototype.refreshAppCheckToken=function(p){},g.prototype.onDisconnectPut=function(p,_,b){},g.prototype.onDisconnectMerge=function(p,_,b){},g.prototype.onDisconnectCancel=function(p,_){},g.prototype.reportStats=function(p){},g}(),ul=function(){function g(p){this.allowedEvents_=p,this.listeners_={},(0,k.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}return g.prototype.trigger=function(p){for(var _=[],b=1;b<arguments.length;b++)_[b-1]=arguments[b];if(Array.isArray(this.listeners_[p]))for(var S=(0,te.ev)([],(0,te.CR)(this.listeners_[p])),A=0;A<S.length;A++)S[A].callback.apply(S[A].context,_)},g.prototype.on=function(p,_,b){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:_,context:b});var S=this.getInitialEvent(p);S&&_.apply(b,S)},g.prototype.off=function(p,_,b){this.validateEventType_(p);for(var S=this.listeners_[p]||[],A=0;A<S.length;A++)if(S[A].callback===_&&(!b||b===S[A].context))return void S.splice(A,1)},g.prototype.validateEventType_=function(p){(0,k.hu)(this.allowedEvents_.find(function(_){return _===p}),"Unknown event: "+p)},g}(),Ti=function(g){function p(){var _=g.call(this,["online"])||this;return _.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,k.uI)()&&(window.addEventListener("online",function(){_.online_||(_.online_=!0,_.trigger("online",!0))},!1),window.addEventListener("offline",function(){_.online_&&(_.online_=!1,_.trigger("online",!1))},!1)),_}return(0,te.ZT)(p,g),p.getInstance=function(){return new p},p.prototype.getInitialEvent=function(_){return(0,k.hu)("online"===_,"Unknown event type: "+_),[this.online_]},p.prototype.currentlyOnline=function(){return this.online_},p}(ul),Ot=function(){function g(p,_){if(void 0===_){this.pieces_=p.split("/");for(var b=0,S=0;S<this.pieces_.length;S++)this.pieces_[S].length>0&&(this.pieces_[b]=this.pieces_[S],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=_}return g.prototype.toString=function(){for(var p="",_=this.pieceNum_;_<this.pieces_.length;_++)""!==this.pieces_[_]&&(p+="/"+this.pieces_[_]);return p||"/"},g}();function Xe(){return new Ot("")}function kt(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function Eo(g){return g.pieces_.length-g.pieceNum_}function Ft(g){var p=g.pieceNum_;return p<g.pieces_.length&&p++,new Ot(g.pieces_,p)}function _u(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function Es(g,p){return void 0===p&&(p=0),g.pieces_.slice(g.pieceNum_+p)}function er(g){if(g.pieceNum_>=g.pieces_.length)return null;for(var p=[],_=g.pieceNum_;_<g.pieces_.length-1;_++)p.push(g.pieces_[_]);return new Ot(p,0)}function xt(g,p){for(var _=[],b=g.pieceNum_;b<g.pieces_.length;b++)_.push(g.pieces_[b]);if(p instanceof Ot)for(b=p.pieceNum_;b<p.pieces_.length;b++)_.push(p.pieces_[b]);else{var S=p.split("/");for(b=0;b<S.length;b++)S[b].length>0&&_.push(S[b])}return new Ot(_,0)}function Pt(g){return g.pieceNum_>=g.pieces_.length}function Rn(g,p){var _=kt(g),b=kt(p);if(null===_)return p;if(_===b)return Rn(Ft(g),Ft(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+g+")")}function Lr(g,p){for(var _=Es(g,0),b=Es(p,0),S=0;S<_.length&&S<b.length;S++){var A=pe(_[S],b[S]);if(0!==A)return A}return _.length===b.length?0:_.length<b.length?-1:1}function yu(g,p){if(Eo(g)!==Eo(p))return!1;for(var _=g.pieceNum_,b=p.pieceNum_;_<=g.pieces_.length;_++,b++)if(g.pieces_[_]!==p.pieces_[b])return!1;return!0}function hi(g,p){var _=g.pieceNum_,b=p.pieceNum_;if(Eo(g)>Eo(p))return!1;for(;_<g.pieces_.length;){if(g.pieces_[_]!==p.pieces_[b])return!1;++_,++b}return!0}var Ic=function(p,_){this.errorPrefix_=_,this.parts_=Es(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=(0,k.ug)(this.parts_[b]);Gy(this)};function Gy(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ba(g))}function ba(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}var bh,wh,Uy=function(g){function p(){var b,S,_=g.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(S="visibilitychange",b="hidden"):void 0!==document.mozHidden?(S="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(S="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(S="webkitvisibilitychange",b="webkitHidden")),_.visible_=!0,S&&document.addEventListener(S,function(){var A=!document[b];A!==_.visible_&&(_.visible_=A,_.trigger("visible",A))},!1),_}return(0,te.ZT)(p,g),p.getInstance=function(){return new p},p.prototype.getInitialEvent=function(_){return(0,k.hu)("visible"===_,"Unknown event type: "+_),[this.visible_]},p}(ul),Rc=1e3,dl=function(g){function p(_,b,S,A,I,P,L,z){var q=g.call(this)||this;if(q.repoInfo_=_,q.applicationId_=b,q.onDataUpdate_=S,q.onConnectStatus_=A,q.onServerInfoUpdate_=I,q.authTokenProvider_=P,q.appCheckTokenProvider_=L,q.authOverride_=z,q.id=p.nextPersistentConnectionId_++,q.log_=nn("p:"+q.id+":"),q.interruptReasons_={},q.listens=new Map,q.outstandingPuts_=[],q.outstandingGets_=[],q.outstandingPutCount_=0,q.outstandingGetCount_=0,q.onDisconnectRequestQueue_=[],q.connected_=!1,q.reconnectDelay_=Rc,q.maxReconnectDelay_=3e5,q.securityDebugCallback_=null,q.lastSessionId=null,q.establishConnectionTimer_=null,q.visible_=!1,q.requestCBHash_={},q.requestNumber_=0,q.realtime_=null,q.authToken_=null,q.appCheckToken_=null,q.forceTokenRefresh_=!1,q.invalidAuthTokenCount_=0,q.invalidAppCheckTokenCount_=0,q.firstConnection_=!0,q.lastConnectionAttemptTime_=null,q.lastConnectionEstablishedTime_=null,z&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Uy.getInstance().on("visible",q.onVisible_,q),-1===_.host.indexOf("fblocal")&&Ti.getInstance().on("online",q.onOnline_,q),q}return(0,te.ZT)(p,g),p.prototype.sendRequest=function(_,b,S){var A=++this.requestNumber_,I={r:A,a:_,b};this.log_((0,k.Pz)(I)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(I),S&&(this.requestCBHash_[A]=S)},p.prototype.get=function(_){var b=this;this.initConnection_();var S=new k.BH,A={p:_._path.toString(),q:_._queryObject},I={action:"g",request:A,onComplete:function(L){var z=L.d;"ok"===L.s?(b.onDataUpdate_(A.p,z,!1,null),S.resolve(z)):S.reject(z)}};this.outstandingGets_.push(I),this.outstandingGetCount_++;var P=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var L=b.outstandingGets_[P];void 0===L||I!==L||(delete b.outstandingGets_[P],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),b.log_("get "+P+" timed out on connection"),S.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(P),S.promise},p.prototype.listen=function(_,b,S,A){this.initConnection_();var I=_._queryIdentifier,P=_._path.toString();this.log_("Listen called for "+P+" "+I),this.listens.has(P)||this.listens.set(P,new Map),(0,k.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(P).has(I),"listen() called twice for same path/queryId.");var L={onComplete:A,hashFn:b,query:_,tag:S};this.listens.get(P).set(I,L),this.connected_&&this.sendListen_(L)},p.prototype.sendGet_=function(_){var b=this,S=this.outstandingGets_[_];this.sendRequest("g",S.request,function(A){delete b.outstandingGets_[_],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),S.onComplete&&S.onComplete(A)})},p.prototype.sendListen_=function(_){var b=this,S=_.query,A=S._path.toString(),I=S._queryIdentifier;this.log_("Listen on "+A+" for "+I);var P={p:A};_.tag&&(P.q=S._queryObject,P.t=_.tag),P.h=_.hashFn(),this.sendRequest("q",P,function(z){var q=z.d,ue=z.s;p.warnOnListenWarnings_(q,S),(b.listens.get(A)&&b.listens.get(A).get(I))===_&&(b.log_("listen response",z),"ok"!==ue&&b.removeListen_(A,I),_.onComplete&&_.onComplete(ue,q))})},p.warnOnListenWarnings_=function(_,b){if(_&&"object"==typeof _&&(0,k.r3)(_,"w")){var S=(0,k.DV)(_,"w");if(Array.isArray(S)&&~S.indexOf("no_index")){var A='".indexOn": "'+b._queryParams.getIndex().toString()+'"',I=b._path.toString();ln("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+A+" at "+I+" to your security rules for better performance.")}}},p.prototype.refreshAuthToken=function(_){this.authToken_=_,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(_)},p.prototype.reduceReconnectDelayIfAdminCredential_=function(_){(_&&40===_.length||(0,k.GJ)(_))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},p.prototype.refreshAppCheckToken=function(_){this.appCheckToken_=_,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},p.prototype.tryAuth=function(){var _=this;if(this.connected_&&this.authToken_){var b=this.authToken_,S=(0,k.w9)(b)?"auth":"gauth",A={cred:b};null===this.authOverride_?A.noauth=!0:"object"==typeof this.authOverride_&&(A.authvar=this.authOverride_),this.sendRequest(S,A,function(I){var P=I.s,L=I.d||"error";_.authToken_===b&&("ok"===P?_.invalidAuthTokenCount_=0:_.onAuthRevoked_(P,L))})}},p.prototype.tryAppCheck=function(){var _=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(b){var S=b.s,A=b.d||"error";"ok"===S?_.invalidAppCheckTokenCount_=0:_.onAppCheckRevoked_(S,A)})},p.prototype.unlisten=function(_,b){var S=_._path.toString(),A=_._queryIdentifier;this.log_("Unlisten called for "+S+" "+A),(0,k.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(S,A)&&this.connected_&&this.sendUnlisten_(S,A,_._queryObject,b)},p.prototype.sendUnlisten_=function(_,b,S,A){this.log_("Unlisten on "+_+" for "+b);var I={p:_};A&&(I.q=S,I.t=A),this.sendRequest("n",I)},p.prototype.onDisconnectPut=function(_,b,S){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",_,b,S):this.onDisconnectRequestQueue_.push({pathString:_,action:"o",data:b,onComplete:S})},p.prototype.onDisconnectMerge=function(_,b,S){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",_,b,S):this.onDisconnectRequestQueue_.push({pathString:_,action:"om",data:b,onComplete:S})},p.prototype.onDisconnectCancel=function(_,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",_,null,b):this.onDisconnectRequestQueue_.push({pathString:_,action:"oc",data:null,onComplete:b})},p.prototype.sendOnDisconnect_=function(_,b,S,A){var I={p:b,d:S};this.log_("onDisconnect "+_,I),this.sendRequest(_,I,function(P){A&&setTimeout(function(){A(P.s,P.d)},Math.floor(0))})},p.prototype.put=function(_,b,S,A){this.putInternal("p",_,b,S,A)},p.prototype.merge=function(_,b,S,A){this.putInternal("m",_,b,S,A)},p.prototype.putInternal=function(_,b,S,A,I){this.initConnection_();var P={p:b,d:S};void 0!==I&&(P.h=I),this.outstandingPuts_.push({action:_,request:P,onComplete:A}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},p.prototype.sendPut_=function(_){var b=this,S=this.outstandingPuts_[_].action,A=this.outstandingPuts_[_].request,I=this.outstandingPuts_[_].onComplete;this.outstandingPuts_[_].queued=this.connected_,this.sendRequest(S,A,function(P){b.log_(S+" response",P),delete b.outstandingPuts_[_],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),I&&I(P.s,P.d)})},p.prototype.reportStats=function(_){var b=this;if(this.connected_){var S={c:_};this.log_("reportStats",S),this.sendRequest("s",S,function(A){"ok"!==A.s&&b.log_("reportStats","Error sending stats: "+A.d)})}},p.prototype.onDataMessage_=function(_){if("r"in _){this.log_("from server: "+(0,k.Pz)(_));var b=_.r,S=this.requestCBHash_[b];S&&(delete this.requestCBHash_[b],S(_.b))}else{if("error"in _)throw"A server-side error has occurred: "+_.error;"a"in _&&this.onDataPush_(_.a,_.b)}},p.prototype.onDataPush_=function(_,b){this.log_("handleServerMessage",_,b),"d"===_?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===_?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===_?this.onListenRevoked_(b.p,b.q):"ac"===_?this.onAuthRevoked_(b.s,b.d):"apc"===_?this.onAppCheckRevoked_(b.s,b.d):"sd"===_?this.onSecurityDebugPacket_(b):An("Unrecognized action received from server: "+(0,k.Pz)(_)+"\nAre you using the latest client?")},p.prototype.onReady_=function(_,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(_),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},p.prototype.scheduleConnect_=function(_){var b=this;(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(_))},p.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},p.prototype.onVisible_=function(_){_&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)),this.visible_=_},p.prototype.onOnline_=function(_){_?(this.log_("Browser went online."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},p.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,S=Math.max(0,this.reconnectDelay_-b);S=Math.random()*S,this.log_("Trying to reconnect in "+S+"ms"),this.scheduleConnect_(S),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},p.prototype.establishConnection_=function(){return(0,te.mG)(this,void 0,void 0,function(){var _,b,S,A,I,P,L,z,ue,Ee,ke,Ve,gt,st=this;return(0,te.Jh)(this,function(Dt){switch(Dt.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,_=this.onDataMessage_.bind(this),b=this.onReady_.bind(this),S=this.onRealtimeDisconnect_.bind(this),A=this.id+":"+p.nextConnectionId_++,I=this.lastSessionId,P=!1,L=null,this.realtime_={close:z=function(){L?L.close():(P=!0,S())},sendRequest:function(Hn){(0,k.hu)(L,"sendRequest call when we're not connected not allowed."),L.sendRequest(Hn)}},ue=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Dt.label=1;case 1:return Dt.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(ue),this.appCheckTokenProvider_.getToken(ue)])];case 2:return Ee=te.CR.apply(void 0,[Dt.sent(),2]),ke=Ee[0],Ve=Ee[1],P?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=ke&&ke.accessToken,this.appCheckToken_=Ve&&Ve.token,L=new Co(A,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,_,b,S,function(Hn){ln(Hn+" ("+st.repoInfo_.toString()+")"),st.interrupt("server_kill")},I)),[3,4];case 3:return gt=Dt.sent(),this.log_("Failed to get token: "+gt),P||(this.repoInfo_.nodeAdmin&&ln(gt),z()),[3,4];case 4:return[2]}})})},p.prototype.interrupt=function(_){ot("Interrupting connection for reason: "+_),this.interruptReasons_[_]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},p.prototype.resume=function(_){ot("Resuming connection for reason: "+_),delete this.interruptReasons_[_],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0))},p.prototype.handleTimestamp_=function(_){var b=_-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},p.prototype.cancelSentTransactions_=function(){for(var _=0;_<this.outstandingPuts_.length;_++){var b=this.outstandingPuts_[_];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[_],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},p.prototype.onListenRevoked_=function(_,b){var S;S=b?b.map(function(I){return gn(I)}).join("$"):"default";var A=this.removeListen_(_,S);A&&A.onComplete&&A.onComplete("permission_denied")},p.prototype.removeListen_=function(_,b){var A,S=new Ot(_).toString();if(this.listens.has(S)){var I=this.listens.get(S);A=I.get(b),I.delete(b),0===I.size&&this.listens.delete(S)}else A=void 0;return A},p.prototype.onAuthRevoked_=function(_,b){ot("Auth token revoked: "+_+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===_||"permission_denied"===_)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},p.prototype.onAppCheckRevoked_=function(_,b){ot("App check token revoked: "+_+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===_||"permission_denied"===_)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},p.prototype.onSecurityDebugPacket_=function(_){this.securityDebugCallback_?this.securityDebugCallback_(_):"msg"in _&&console.log("FIREBASE: "+_.msg.replace("\n","\nFIREBASE: "))},p.prototype.restoreState_=function(){var _,b,S,A;this.tryAuth(),this.tryAppCheck();try{for(var I=(0,te.XA)(this.listens.values()),P=I.next();!P.done;P=I.next()){var L=P.value;try{for(var z=(S=void 0,(0,te.XA)(L.values())),q=z.next();!q.done;q=z.next())this.sendListen_(q.value)}catch(Ve){S={error:Ve}}finally{try{q&&!q.done&&(A=z.return)&&A.call(z)}finally{if(S)throw S.error}}}}catch(Ve){_={error:Ve}}finally{try{P&&!P.done&&(b=I.return)&&b.call(I)}finally{if(_)throw _.error}}for(var Ee=0;Ee<this.outstandingPuts_.length;Ee++)this.outstandingPuts_[Ee]&&this.sendPut_(Ee);for(;this.onDisconnectRequestQueue_.length;){var ke=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ke.action,ke.pathString,ke.data,ke.onComplete)}for(Ee=0;Ee<this.outstandingGets_.length;Ee++)this.outstandingGets_[Ee]&&this.sendGet_(Ee)},p.prototype.sendConnectStats_=function(){var _={},b="js";(0,k.Yr)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),_["sdk."+b+"."+ne.replace(/\./g,"-")]=1,(0,k.uI)()?_["framework.cordova"]=1:(0,k.b$)()&&(_["framework.reactnative"]=1),this.reportStats(_)},p.prototype.shouldReconnect_=function(){var _=Ti.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&_},p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p}(Tc),Ht=function(){function g(p,_){this.name=p,this.node=_}return g.Wrap=function(p,_){return new g(p,_)},g}(),vh=function(){function g(){}return g.prototype.getCompare=function(){return this.compare.bind(this)},g.prototype.indexedValueChanged=function(p,_){var b=new Ht(de,p),S=new Ht(de,_);return 0!==this.compare(b,S)},g.prototype.minPost=function(){return Ht.MIN},g}(),Yy=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),Object.defineProperty(p,"__EMPTY_NODE",{get:function(){return bh},set:function(_){bh=_},enumerable:!1,configurable:!0}),p.prototype.compare=function(_,b){return pe(_.name,b.name)},p.prototype.isDefinedOn=function(_){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")},p.prototype.indexedValueChanged=function(_,b){return!1},p.prototype.minPost=function(){return Ht.MIN},p.prototype.maxPost=function(){return new Ht(Me,bh)},p.prototype.makePost=function(_,b){return(0,k.hu)("string"==typeof _,"KeyIndex indexValue must always be a string."),new Ht(_,bh)},p.prototype.toString=function(){return".key"},p}(vh),xs=new Yy,vu=function(){function g(p,_,b,S,A){void 0===A&&(A=null),this.isReverse_=S,this.resultGenerator_=A,this.nodeStack_=[];for(var I=1;!p.isEmpty();)if(p=p,I=_?b(p.key,_):1,S&&(I*=-1),I<0)p=this.isReverse_?p.left:p.right;else{if(0===I){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}return g.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var _,p=this.nodeStack_.pop();if(_=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return _},g.prototype.hasNext=function(){return this.nodeStack_.length>0},g.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}},g}(),pr=function(){function g(p,_,b,S,A){this.key=p,this.value=_,this.color=null!=b?b:g.RED,this.left=null!=S?S:Ds.EMPTY_NODE,this.right=null!=A?A:Ds.EMPTY_NODE}return g.prototype.copy=function(p,_,b,S,A){return new g(null!=p?p:this.key,null!=_?_:this.value,null!=b?b:this.color,null!=S?S:this.left,null!=A?A:this.right)},g.prototype.count=function(){return this.left.count()+1+this.right.count()},g.prototype.isEmpty=function(){return!1},g.prototype.inorderTraversal=function(p){return this.left.inorderTraversal(p)||!!p(this.key,this.value)||this.right.inorderTraversal(p)},g.prototype.reverseTraversal=function(p){return this.right.reverseTraversal(p)||p(this.key,this.value)||this.left.reverseTraversal(p)},g.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},g.prototype.minKey=function(){return this.min_().key},g.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},g.prototype.insert=function(p,_,b){var S=this,A=b(p,S.key);return(S=A<0?S.copy(null,null,null,S.left.insert(p,_,b),null):0===A?S.copy(null,_,null,null,null):S.copy(null,null,null,null,S.right.insert(p,_,b))).fixUp_()},g.prototype.removeMin_=function(){if(this.left.isEmpty())return Ds.EMPTY_NODE;var p=this;return!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),(p=p.copy(null,null,null,p.left.removeMin_(),null)).fixUp_()},g.prototype.remove=function(p,_){var b,S;if(_(p,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(p,_),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===_(p,b.key)){if(b.right.isEmpty())return Ds.EMPTY_NODE;S=b.right.min_(),b=b.copy(S.key,S.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(p,_))}return b.fixUp_()},g.prototype.isRed_=function(){return this.color},g.prototype.fixUp_=function(){var p=this;return p.right.isRed_()&&!p.left.isRed_()&&(p=p.rotateLeft_()),p.left.isRed_()&&p.left.left.isRed_()&&(p=p.rotateRight_()),p.left.isRed_()&&p.right.isRed_()&&(p=p.colorFlip_()),p},g.prototype.moveRedLeft_=function(){var p=this.colorFlip_();return p.right.left.isRed_()&&(p=(p=(p=p.copy(null,null,null,null,p.right.rotateRight_())).rotateLeft_()).colorFlip_()),p},g.prototype.moveRedRight_=function(){var p=this.colorFlip_();return p.left.left.isRed_()&&(p=(p=p.rotateRight_()).colorFlip_()),p},g.prototype.rotateLeft_=function(){var p=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,p,null)},g.prototype.rotateRight_=function(){var p=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,p)},g.prototype.colorFlip_=function(){var p=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,p,_)},g.prototype.checkMaxDepth_=function(){var p=this.check_();return Math.pow(2,p)<=this.count()+1},g.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var p=this.left.check_();if(p!==this.right.check_())throw new Error("Black depths differ");return p+(this.isRed_()?0:1)},g.RED=!0,g.BLACK=!1,g}(),qC=function(){function g(){}return g.prototype.copy=function(p,_,b,S,A){return this},g.prototype.insert=function(p,_,b){return new pr(p,_,null)},g.prototype.remove=function(p,_){return this},g.prototype.count=function(){return 0},g.prototype.isEmpty=function(){return!0},g.prototype.inorderTraversal=function(p){return!1},g.prototype.reverseTraversal=function(p){return!1},g.prototype.minKey=function(){return null},g.prototype.maxKey=function(){return null},g.prototype.check_=function(){return 0},g.prototype.isRed_=function(){return!1},g}(),Ds=function(){function g(p,_){void 0===_&&(_=g.EMPTY_NODE),this.comparator_=p,this.root_=_}return g.prototype.insert=function(p,_){return new g(this.comparator_,this.root_.insert(p,_,this.comparator_).copy(null,null,pr.BLACK,null,null))},g.prototype.remove=function(p){return new g(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,pr.BLACK,null,null))},g.prototype.get=function(p){for(var _,b=this.root_;!b.isEmpty();){if(0===(_=this.comparator_(p,b.key)))return b.value;_<0?b=b.left:_>0&&(b=b.right)}return null},g.prototype.getPredecessorKey=function(p){for(var _,b=this.root_,S=null;!b.isEmpty();){if(0===(_=this.comparator_(p,b.key))){if(b.left.isEmpty())return S?S.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}_<0?b=b.left:_>0&&(S=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},g.prototype.isEmpty=function(){return this.root_.isEmpty()},g.prototype.count=function(){return this.root_.count()},g.prototype.minKey=function(){return this.root_.minKey()},g.prototype.maxKey=function(){return this.root_.maxKey()},g.prototype.inorderTraversal=function(p){return this.root_.inorderTraversal(p)},g.prototype.reverseTraversal=function(p){return this.root_.reverseTraversal(p)},g.prototype.getIterator=function(p){return new vu(this.root_,null,this.comparator_,!1,p)},g.prototype.getIteratorFrom=function(p,_){return new vu(this.root_,p,this.comparator_,!1,_)},g.prototype.getReverseIteratorFrom=function(p,_){return new vu(this.root_,p,this.comparator_,!0,_)},g.prototype.getReverseIterator=function(p){return new vu(this.root_,null,this.comparator_,!0,p)},g.EMPTY_NODE=new qC,g}();function sg(g,p){return pe(g.name,p.name)}function Ks(g,p){return pe(g,p)}var ag,Zs,Js,Pc,fl,Oc=function(g){return"number"==typeof g?"number:"+He(g):"string:"+g},og=function(g){if(g.isLeafNode()){var p=g.val();(0,k.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,k.r3)(p,".sv"),"Priority must be a string or number.")}else(0,k.hu)(g===wh||g.isEmpty(),"priority of unexpected type.");(0,k.hu)(g===wh||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wa=function(){function g(p,_){void 0===_&&(_=g.__childrenNodeConstructor.EMPTY_NODE),this.value_=p,this.priorityNode_=_,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),og(this.priorityNode_)}return Object.defineProperty(g,"__childrenNodeConstructor",{get:function(){return ag},set:function(p){ag=p},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!0},g.prototype.getPriority=function(){return this.priorityNode_},g.prototype.updatePriority=function(p){return new g(this.value_,p)},g.prototype.getImmediateChild=function(p){return".priority"===p?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.getChild=function(p){return Pt(p)?this:".priority"===kt(p)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.hasChild=function(){return!1},g.prototype.getPredecessorChildName=function(p,_){return null},g.prototype.updateImmediateChild=function(p,_){return".priority"===p?this.updatePriority(_):_.isEmpty()&&".priority"!==p?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(p,_).updatePriority(this.priorityNode_)},g.prototype.updateChild=function(p,_){var b=kt(p);return null===b?_:_.isEmpty()&&".priority"!==b?this:((0,k.hu)(".priority"!==b||1===Eo(p),".priority must be the last token in a path"),this.updateImmediateChild(b,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(p),_)))},g.prototype.isEmpty=function(){return!1},g.prototype.numChildren=function(){return 0},g.prototype.forEachChild=function(p,_){return!1},g.prototype.val=function(p){return p&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},g.prototype.hash=function(){if(null===this.lazyHash_){var p="";this.priorityNode_.isEmpty()||(p+="priority:"+Oc(this.priorityNode_.val())+":");var _=typeof this.value_;p+=_+":",p+="number"===_?He(this.value_):this.value_,this.lazyHash_=Ge(p)}return this.lazyHash_},g.prototype.getValue=function(){return this.value_},g.prototype.compareTo=function(p){return p===g.__childrenNodeConstructor.EMPTY_NODE?1:p instanceof g.__childrenNodeConstructor?-1:((0,k.hu)(p.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(p))},g.prototype.compareToLeafNode_=function(p){var _=typeof p.value_,b=typeof this.value_,S=g.VALUE_TYPE_ORDER.indexOf(_),A=g.VALUE_TYPE_ORDER.indexOf(b);return(0,k.hu)(S>=0,"Unknown leaf type: "+_),(0,k.hu)(A>=0,"Unknown leaf type: "+b),S===A?"object"===b?0:this.value_<p.value_?-1:this.value_===p.value_?0:1:A-S},g.prototype.withIndex=function(){return this},g.prototype.isIndexed=function(){return!0},g.prototype.equals=function(p){return p===this||!!p.isLeafNode()&&(this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_))},g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g}(),dn=new(function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),p.prototype.compare=function(_,b){var S=_.node.getPriority(),A=b.node.getPriority(),I=S.compareTo(A);return 0===I?pe(_.name,b.name):I},p.prototype.isDefinedOn=function(_){return!_.getPriority().isEmpty()},p.prototype.indexedValueChanged=function(_,b){return!_.getPriority().equals(b.getPriority())},p.prototype.minPost=function(){return Ht.MIN},p.prototype.maxPost=function(){return new Ht(Me,new wa("[PRIORITY-POST]",Js))},p.prototype.makePost=function(_,b){var S=Zs(_);return new Ht(b,new wa("[PRIORITY-POST]",S))},p.prototype.toString=function(){return".priority"},p}(vh)),ug=Math.log(2),kc=function(){function g(p){this.count=parseInt(Math.log(p+1)/ug,10),this.current_=this.count-1;var S=parseInt(Array(this.count+1).join("1"),2);this.bits_=p+1&S}return g.prototype.nextBitIsOne=function(){var p=!(this.bits_&1<<this.current_);return this.current_--,p},g}(),Fc=function(g,p,_,b){g.sort(p);var S=function(L,z){var ue,Ee,q=z-L;if(0===q)return null;if(1===q)return ue=g[L],Ee=_?_(ue):ue,new pr(Ee,ue.node,pr.BLACK,null,null);var ke=parseInt(q/2,10)+L,Ve=S(L,ke),gt=S(ke+1,z);return ue=g[ke],Ee=_?_(ue):ue,new pr(Ee,ue.node,pr.BLACK,Ve,gt)},P=function(L){for(var z=null,q=null,ue=g.length,Ee=function(Dt,Hn){var ls=ue-Dt,Ya=ue;ue-=Dt;var dd=S(ls+1,Ya),$u=g[ls],Wu=_?_($u):$u;ke(new pr(Wu,$u.node,Hn,null,dd))},ke=function(Dt){z?(z.left=Dt,z=Dt):(q=Dt,z=Dt)},Ve=0;Ve<L.count;++Ve){var gt=L.nextBitIsOne(),st=Math.pow(2,L.count-(Ve+1));gt?Ee(st,pr.BLACK):(Ee(st,pr.BLACK),Ee(st,pr.RED))}return q}(new kc(g.length));return new Ds(b||p,P)},hl={},Cn=function(){function g(p,_){this.indexes_=p,this.indexSet_=_}return Object.defineProperty(g,"Default",{get:function(){return(0,k.hu)(hl&&dn,"ChildrenNode.ts has not been loaded"),Pc=Pc||new g({".priority":hl},{".priority":dn})},enumerable:!1,configurable:!0}),g.prototype.get=function(p){var _=(0,k.DV)(this.indexes_,p);if(!_)throw new Error("No index defined for "+p);return _ instanceof Ds?_:null},g.prototype.hasIndex=function(p){return(0,k.r3)(this.indexSet_,p.toString())},g.prototype.addIndex=function(p,_){(0,k.hu)(p!==xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],S=!1,A=_.getIterator(Ht.Wrap),I=A.getNext();I;)S=S||p.isDefinedOn(I.node),b.push(I),I=A.getNext();var P;P=S?Fc(b,p.getCompare()):hl;var L=p.toString(),z=(0,te.pi)({},this.indexSet_);z[L]=p;var q=(0,te.pi)({},this.indexes_);return q[L]=P,new g(q,z)},g.prototype.addToIndexes=function(p,_){var b=this;return new g((0,k.UI)(this.indexes_,function(A,I){var P=(0,k.DV)(b.indexSet_,I);if((0,k.hu)(P,"Missing index implementation for "+I),A===hl){if(P.isDefinedOn(p.node)){for(var L=[],z=_.getIterator(Ht.Wrap),q=z.getNext();q;)q.name!==p.name&&L.push(q),q=z.getNext();return L.push(p),Fc(L,P.getCompare())}return hl}var ue=_.get(p.name),Ee=A;return ue&&(Ee=Ee.remove(new Ht(p.name,ue))),Ee.insert(p,p.node)}),this.indexSet_)},g.prototype.removeFromIndexes=function(p,_){return new g((0,k.UI)(this.indexes_,function(S){if(S===hl)return S;var A=_.get(p.name);return A?S.remove(new Ht(p.name,A)):S}),this.indexSet_)},g}(),_t=function(){function g(p,_,b){this.children_=p,this.priorityNode_=_,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&og(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(g,"EMPTY_NODE",{get:function(){return fl||(fl=new g(new Ds(Ks),null,Cn.Default))},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!1},g.prototype.getPriority=function(){return this.priorityNode_||fl},g.prototype.updatePriority=function(p){return this.children_.isEmpty()?this:new g(this.children_,p,this.indexMap_)},g.prototype.getImmediateChild=function(p){if(".priority"===p)return this.getPriority();var _=this.children_.get(p);return null===_?fl:_},g.prototype.getChild=function(p){var _=kt(p);return null===_?this:this.getImmediateChild(_).getChild(Ft(p))},g.prototype.hasChild=function(p){return null!==this.children_.get(p)},g.prototype.updateImmediateChild=function(p,_){if((0,k.hu)(_,"We should always be passing snapshot nodes"),".priority"===p)return this.updatePriority(_);var b=new Ht(p,_),S=void 0,A=void 0;_.isEmpty()?(S=this.children_.remove(p),A=this.indexMap_.removeFromIndexes(b,this.children_)):(S=this.children_.insert(p,_),A=this.indexMap_.addToIndexes(b,this.children_));var I=S.isEmpty()?fl:this.priorityNode_;return new g(S,I,A)},g.prototype.updateChild=function(p,_){var b=kt(p);if(null===b)return _;(0,k.hu)(".priority"!==kt(p)||1===Eo(p),".priority must be the last token in a path");var S=this.getImmediateChild(b).updateChild(Ft(p),_);return this.updateImmediateChild(b,S)},g.prototype.isEmpty=function(){return this.children_.isEmpty()},g.prototype.numChildren=function(){return this.children_.count()},g.prototype.val=function(p){if(this.isEmpty())return null;var _={},b=0,S=0,A=!0;if(this.forEachChild(dn,function(L,z){_[L]=z.val(p),b++,A&&g.INTEGER_REGEXP_.test(L)?S=Math.max(S,Number(L)):A=!1}),!p&&A&&S<2*b){var I=[];for(var P in _)I[P]=_[P];return I}return p&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_},g.prototype.hash=function(){if(null===this.lazyHash_){var p="";this.getPriority().isEmpty()||(p+="priority:"+Oc(this.getPriority().val())+":"),this.forEachChild(dn,function(_,b){var S=b.hash();""!==S&&(p+=":"+_+":"+S)}),this.lazyHash_=""===p?"":Ge(p)}return this.lazyHash_},g.prototype.getPredecessorChildName=function(p,_,b){var S=this.resolveIndex_(b);if(S){var A=S.getPredecessorKey(new Ht(p,_));return A?A.name:null}return this.children_.getPredecessorKey(p)},g.prototype.getFirstChildName=function(p){var _=this.resolveIndex_(p);if(_){var b=_.minKey();return b&&b.name}return this.children_.minKey()},g.prototype.getFirstChild=function(p){var _=this.getFirstChildName(p);return _?new Ht(_,this.children_.get(_)):null},g.prototype.getLastChildName=function(p){var _=this.resolveIndex_(p);if(_){var b=_.maxKey();return b&&b.name}return this.children_.maxKey()},g.prototype.getLastChild=function(p){var _=this.getLastChildName(p);return _?new Ht(_,this.children_.get(_)):null},g.prototype.forEachChild=function(p,_){var b=this.resolveIndex_(p);return b?b.inorderTraversal(function(S){return _(S.name,S.node)}):this.children_.inorderTraversal(_)},g.prototype.getIterator=function(p){return this.getIteratorFrom(p.minPost(),p)},g.prototype.getIteratorFrom=function(p,_){var b=this.resolveIndex_(_);if(b)return b.getIteratorFrom(p,function(I){return I});for(var S=this.children_.getIteratorFrom(p.name,Ht.Wrap),A=S.peek();null!=A&&_.compare(A,p)<0;)S.getNext(),A=S.peek();return S},g.prototype.getReverseIterator=function(p){return this.getReverseIteratorFrom(p.maxPost(),p)},g.prototype.getReverseIteratorFrom=function(p,_){var b=this.resolveIndex_(_);if(b)return b.getReverseIteratorFrom(p,function(I){return I});for(var S=this.children_.getReverseIteratorFrom(p.name,Ht.Wrap),A=S.peek();null!=A&&_.compare(A,p)>0;)S.getNext(),A=S.peek();return S},g.prototype.compareTo=function(p){return this.isEmpty()?p.isEmpty()?0:-1:p.isLeafNode()||p.isEmpty()?1:p===_n?-1:0},g.prototype.withIndex=function(p){if(p===xs||this.indexMap_.hasIndex(p))return this;var _=this.indexMap_.addIndex(p,this.children_);return new g(this.children_,this.priorityNode_,_)},g.prototype.isIndexed=function(p){return p===xs||this.indexMap_.hasIndex(p)},g.prototype.equals=function(p){if(p===this)return!0;if(p.isLeafNode())return!1;var _=p;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){for(var b=this.getIterator(dn),S=_.getIterator(dn),A=b.getNext(),I=S.getNext();A&&I;){if(A.name!==I.name||!A.node.equals(I.node))return!1;A=b.getNext(),I=S.getNext()}return null===A&&null===I}return!1}return!1},g.prototype.resolveIndex_=function(p){return p===xs?null:this.indexMap_.get(p.toString())},g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g}(),_n=new(function(g){function p(){return g.call(this,new Ds(Ks),_t.EMPTY_NODE,Cn.Default)||this}return(0,te.ZT)(p,g),p.prototype.compareTo=function(_){return _===this?0:1},p.prototype.equals=function(_){return _===this},p.prototype.getPriority=function(){return this},p.prototype.getImmediateChild=function(_){return _t.EMPTY_NODE},p.prototype.isEmpty=function(){return!1},p}(_t));function On(g,p){if(void 0===p&&(p=null),null===g)return _t.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(p=g[".priority"]),(0,k.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new wa(g,On(p));if(g instanceof Array){var L=_t.EMPTY_NODE;return it(g,function(z,q){if((0,k.r3)(g,z)&&"."!==z.substring(0,1)){var ue=On(q);(ue.isLeafNode()||!ue.isEmpty())&&(L=L.updateImmediateChild(z,ue))}}),L.updatePriority(On(p))}var b=[],S=!1;if(it(g,function(z,q){if("."!==z.substring(0,1)){var ue=On(q);ue.isEmpty()||(S=S||!ue.getPriority().isEmpty(),b.push(new Ht(z,ue)))}}),0===b.length)return _t.EMPTY_NODE;var I=Fc(b,sg,function(z){return z.name},Ks);if(S){var P=Fc(b,dn.getCompare());return new _t(I,On(p),new Cn({".priority":P},{".priority":dn}))}return new _t(I,On(p),Cn.Default)}Object.defineProperties(Ht,{MIN:{value:new Ht(de,_t.EMPTY_NODE)},MAX:{value:new Ht(Me,_n)}}),Yy.__EMPTY_NODE=_t.EMPTY_NODE,wa.__childrenNodeConstructor=_t,function(g){wh=g}(_n),function(g){Js=g}(_n),function(g){Zs=g}(On);var pl=function(g){function p(_){var b=g.call(this)||this;return b.indexPath_=_,(0,k.hu)(!Pt(_)&&".priority"!==kt(_),"Can't create PathIndex with empty path or .priority key"),b}return(0,te.ZT)(p,g),p.prototype.extractChild=function(_){return _.getChild(this.indexPath_)},p.prototype.isDefinedOn=function(_){return!_.getChild(this.indexPath_).isEmpty()},p.prototype.compare=function(_,b){var S=this.extractChild(_.node),A=this.extractChild(b.node),I=S.compareTo(A);return 0===I?pe(_.name,b.name):I},p.prototype.makePost=function(_,b){var S=On(_),A=_t.EMPTY_NODE.updateChild(this.indexPath_,S);return new Ht(b,A)},p.prototype.maxPost=function(){var _=_t.EMPTY_NODE.updateChild(this.indexPath_,_n);return new Ht(Me,_)},p.prototype.toString=function(){return Es(this.indexPath_,0).join("/")},p}(vh),bu=new(function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),p.prototype.compare=function(_,b){var S=_.node.compareTo(b.node);return 0===S?pe(_.name,b.name):S},p.prototype.isDefinedOn=function(_){return!0},p.prototype.indexedValueChanged=function(_,b){return!_.equals(b)},p.prototype.minPost=function(){return Ht.MIN},p.prototype.maxPost=function(){return Ht.MAX},p.prototype.makePost=function(_,b){var S=On(_);return new Ht(b,S)},p.prototype.toString=function(){return".value"},p}(vh)),So="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dg=function(){var g=0,p=[];return function(_){var b=_===g;g=_;var S,A=new Array(8);for(S=7;S>=0;S--)A[S]=So.charAt(_%64),_=Math.floor(_/64);(0,k.hu)(0===_,"Cannot push at time == 0");var I=A.join("");if(b){for(S=11;S>=0&&63===p[S];S--)p[S]=0;p[S]++}else for(S=0;S<12;S++)p[S]=Math.floor(64*Math.random());for(S=0;S<12;S++)I+=So.charAt(p[S]);return(0,k.hu)(20===I.length,"nextPushId: Length should be 20."),I}}(),wu=function(g){if(g===""+Bn)return"-";var p=di(g);if(null!=p)return""+(p+1);for(var _=new Array(g.length),b=0;b<_.length;b++)_[b]=g.charAt(b);if(_.length<786)return _.push("-"),_.join("");for(var S=_.length-1;S>=0&&"z"===_[S];)S--;if(-1===S)return Me;var I=So.charAt(So.indexOf(_[S])+1);return _[S]=I,_.slice(0,S+1).join("")},Do=function(g){if(g===""+Or)return de;var p=di(g);if(null!=p)return""+(p-1);for(var _=new Array(g.length),b=0;b<_.length;b++)_[b]=g.charAt(b);return"-"===_[_.length-1]?1===_.length?""+Bn:(delete _[_.length-1],_.join("")):(_[_.length-1]=So.charAt(So.indexOf(_[_.length-1])-1),_.join("")+"z".repeat(786-_.length))};function Ch(g){return{type:"value",snapshotNode:g}}function Ao(g,p){return{type:"child_added",snapshotNode:p,childName:g}}function pt(g,p){return{type:"child_removed",snapshotNode:p,childName:g}}function Cu(g,p,_){return{type:"child_changed",snapshotNode:p,childName:g,oldSnap:_}}var Eh=function(){function g(p){this.index_=p}return g.prototype.updateChild=function(p,_,b,S,A,I){(0,k.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");var P=p.getImmediateChild(_);return P.getChild(S).equals(b.getChild(S))&&P.isEmpty()===b.isEmpty()||(null!=I&&(b.isEmpty()?p.hasChild(_)?I.trackChildChange(pt(_,P)):(0,k.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):P.isEmpty()?I.trackChildChange(Ao(_,b)):I.trackChildChange(Cu(_,b,P))),p.isLeafNode()&&b.isEmpty())?p:p.updateImmediateChild(_,b).withIndex(this.index_)},g.prototype.updateFullNode=function(p,_,b){return null!=b&&(p.isLeafNode()||p.forEachChild(dn,function(S,A){_.hasChild(S)||b.trackChildChange(pt(S,A))}),_.isLeafNode()||_.forEachChild(dn,function(S,A){if(p.hasChild(S)){var I=p.getImmediateChild(S);I.equals(A)||b.trackChildChange(Cu(S,A,I))}else b.trackChildChange(Ao(S,A))})),_.withIndex(this.index_)},g.prototype.updatePriority=function(p,_){return p.isEmpty()?_t.EMPTY_NODE:p.updatePriority(_)},g.prototype.filtersNodes=function(){return!1},g.prototype.getIndexedFilter=function(){return this},g.prototype.getIndex=function(){return this.index_},g}(),hg=function(){function g(p){this.indexedFilter_=new Eh(p.getIndex()),this.index_=p.getIndex(),this.startPost_=g.getStartPost_(p),this.endPost_=g.getEndPost_(p)}return g.prototype.getStartPost=function(){return this.startPost_},g.prototype.getEndPost=function(){return this.endPost_},g.prototype.matches=function(p){return this.index_.compare(this.getStartPost(),p)<=0&&this.index_.compare(p,this.getEndPost())<=0},g.prototype.updateChild=function(p,_,b,S,A,I){return this.matches(new Ht(_,b))||(b=_t.EMPTY_NODE),this.indexedFilter_.updateChild(p,_,b,S,A,I)},g.prototype.updateFullNode=function(p,_,b){_.isLeafNode()&&(_=_t.EMPTY_NODE);var S=_.withIndex(this.index_);S=S.updatePriority(_t.EMPTY_NODE);var A=this;return _.forEachChild(dn,function(I,P){A.matches(new Ht(I,P))||(S=S.updateImmediateChild(I,_t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,S,b)},g.prototype.updatePriority=function(p,_){return p},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.indexedFilter_},g.prototype.getIndex=function(){return this.index_},g.getStartPost_=function(p){if(p.hasStart()){var _=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),_)}return p.getIndex().minPost()},g.getEndPost_=function(p){if(p.hasEnd()){var _=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),_)}return p.getIndex().maxPost()},g}(),Qy=function(){function g(p){this.rangedFilter_=new hg(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft()}return g.prototype.updateChild=function(p,_,b,S,A,I){return this.rangedFilter_.matches(new Ht(_,b))||(b=_t.EMPTY_NODE),p.getImmediateChild(_).equals(b)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,_,b,S,A,I):this.fullLimitUpdateChild_(p,_,b,A,I)},g.prototype.updateFullNode=function(p,_,b){var S;if(_.isLeafNode()||_.isEmpty())S=_t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<_.numChildren()&&_.isIndexed(this.index_)){S=_t.EMPTY_NODE.withIndex(this.index_);var A=void 0;A=this.reverse_?_.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):_.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var I=0;A.hasNext()&&I<this.limit_;){var P=A.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),P)<=0:this.index_.compare(P,this.rangedFilter_.getEndPost())<=0))break;S=S.updateImmediateChild(P.name,P.node),I++}}else{S=(S=_.withIndex(this.index_)).updatePriority(_t.EMPTY_NODE);var z=void 0,q=void 0,ue=void 0;if(A=void 0,this.reverse_){A=S.getReverseIterator(this.index_),z=this.rangedFilter_.getEndPost(),q=this.rangedFilter_.getStartPost();var Ee=this.index_.getCompare();ue=function(st,Dt){return Ee(Dt,st)}}else A=S.getIterator(this.index_),z=this.rangedFilter_.getStartPost(),q=this.rangedFilter_.getEndPost(),ue=this.index_.getCompare();I=0;for(var ke=!1;A.hasNext();)P=A.getNext(),!ke&&ue(z,P)<=0&&(ke=!0),ke&&I<this.limit_&&ue(P,q)<=0?I++:S=S.updateImmediateChild(P.name,_t.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,S,b)},g.prototype.updatePriority=function(p,_){return p},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},g.prototype.getIndex=function(){return this.index_},g.prototype.fullLimitUpdateChild_=function(p,_,b,S,A){var I;if(this.reverse_){var P=this.index_.getCompare();I=function(Hn,ls){return P(ls,Hn)}}else I=this.index_.getCompare();var L=p;(0,k.hu)(L.numChildren()===this.limit_,"");var z=new Ht(_,b),q=this.reverse_?L.getFirstChild(this.index_):L.getLastChild(this.index_),ue=this.rangedFilter_.matches(z);if(L.hasChild(_)){for(var Ee=L.getImmediateChild(_),ke=S.getChildAfterChild(this.index_,q,this.reverse_);null!=ke&&(ke.name===_||L.hasChild(ke.name));)ke=S.getChildAfterChild(this.index_,ke,this.reverse_);var Ve=null==ke?1:I(ke,z);if(ue&&!b.isEmpty()&&Ve>=0)return null!=A&&A.trackChildChange(Cu(_,b,Ee)),L.updateImmediateChild(_,b);null!=A&&A.trackChildChange(pt(_,Ee));var st=L.updateImmediateChild(_,_t.EMPTY_NODE);return null!=ke&&this.rangedFilter_.matches(ke)?(null!=A&&A.trackChildChange(Ao(ke.name,ke.node)),st.updateImmediateChild(ke.name,ke.node)):st}return b.isEmpty()?p:ue&&I(q,z)>=0?(null!=A&&(A.trackChildChange(pt(q.name,q.node)),A.trackChildChange(Ao(_,b))),L.updateImmediateChild(_,b).updateImmediateChild(q.name,_t.EMPTY_NODE)):p},g}(),fg=function(){function g(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dn}return g.prototype.hasStart=function(){return this.startSet_},g.prototype.hasStartAfter=function(){return this.startAfterSet_},g.prototype.hasEndBefore=function(){return this.endBeforeSet_},g.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},g.prototype.getIndexStartValue=function(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},g.prototype.getIndexStartName=function(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:de},g.prototype.hasEnd=function(){return this.endSet_},g.prototype.getIndexEndValue=function(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},g.prototype.getIndexEndName=function(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Me},g.prototype.hasLimit=function(){return this.limitSet_},g.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},g.prototype.getLimit=function(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},g.prototype.getIndex=function(){return this.index_},g.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},g.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===dn},g.prototype.copy=function(){var p=new g;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p},g}();function Su(g,p,_){var b=g.copy();return b.startSet_=!0,void 0===p&&(p=null),b.indexStartValue_=p,null!=_?(b.startNameSet_=!0,b.indexStartName_=_):(b.startNameSet_=!1,b.indexStartName_=""),b}function xu(g,p,_){var b=g.copy();return b.endSet_=!0,void 0===p&&(p=null),b.indexEndValue_=p,void 0!==_?(b.endNameSet_=!0,b.indexEndName_=_):(b.endNameSet_=!1,b.indexEndName_=""),b}function Hi(g,p){var _=g.copy();return _.index_=p,_}function Du(g){var _,p={};return g.isDefault()||(g.index_===dn?_="$priority":g.index_===bu?_="$value":g.index_===xs?_="$key":((0,k.hu)(g.index_ instanceof pl,"Unrecognized index type!"),_=g.index_.toString()),p.orderBy=(0,k.Pz)(_),g.startSet_&&(p.startAt=(0,k.Pz)(g.indexStartValue_),g.startNameSet_&&(p.startAt+=","+(0,k.Pz)(g.indexStartName_))),g.endSet_&&(p.endAt=(0,k.Pz)(g.indexEndValue_),g.endNameSet_&&(p.endAt+=","+(0,k.Pz)(g.indexEndName_))),g.limitSet_&&(g.isViewFromLeft()?p.limitToFirst=g.limit_:p.limitToLast=g.limit_)),p}function Au(g){var p={};if(g.startSet_&&(p.sp=g.indexStartValue_,g.startNameSet_&&(p.sn=g.indexStartName_)),g.endSet_&&(p.ep=g.indexEndValue_,g.endNameSet_&&(p.en=g.indexEndName_)),g.limitSet_){p.l=g.limit_;var _=g.viewFrom_;""===_&&(_=g.isViewFromLeft()?"l":"r"),p.vf=_}return g.index_!==dn&&(p.i=g.index_.toString()),p}var WC=function(g){function p(_,b,S,A){var I=g.call(this)||this;return I.repoInfo_=_,I.onDataUpdate_=b,I.authTokenProvider_=S,I.appCheckTokenProvider_=A,I.log_=nn("p:rest:"),I.listens_={},I}return(0,te.ZT)(p,g),p.prototype.reportStats=function(_){throw new Error("Method not implemented.")},p.getListenId_=function(_,b){return void 0!==b?"tag$"+b:((0,k.hu)(_._queryParams.isDefault(),"should have a tag if it's not a default query."),_._path.toString())},p.prototype.listen=function(_,b,S,A){var I=this,P=_._path.toString();this.log_("Listen called for "+P+" "+_._queryIdentifier);var L=p.getListenId_(_,S),z={};this.listens_[L]=z;var q=Du(_._queryParams);this.restRequest_(P+".json",q,function(ue,Ee){var ke=Ee;404===ue&&(ke=null,ue=null),null===ue&&I.onDataUpdate_(P,ke,!1,S),(0,k.DV)(I.listens_,L)===z&&A(ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",null)})},p.prototype.unlisten=function(_,b){var S=p.getListenId_(_,b);delete this.listens_[S]},p.prototype.get=function(_){var b=this,S=Du(_._queryParams),A=_._path.toString(),I=new k.BH;return this.restRequest_(A+".json",S,function(P,L){var z=L;404===P&&(z=null,P=null),null===P?(b.onDataUpdate_(A,z,!1,null),I.resolve(z)):I.reject(new Error(z))}),I.promise},p.prototype.refreshAuthToken=function(_){},p.prototype.restRequest_=function(_,b,S){var A=this;return void 0===b&&(b={}),b.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(I){var P=(0,te.CR)(I,2),L=P[0],z=P[1];L&&L.accessToken&&(b.auth=L.accessToken),z&&z.token&&(b.ac=z.token);var q=(A.repoInfo_.secure?"https://":"http://")+A.repoInfo_.host+_+"?ns="+A.repoInfo_.namespace+(0,k.xO)(b);A.log_("Sending REST request for "+q);var ue=new XMLHttpRequest;ue.onreadystatechange=function(){if(S&&4===ue.readyState){A.log_("REST Response for "+q+" received. status:",ue.status,"response:",ue.responseText);var Ee=null;if(ue.status>=200&&ue.status<300){try{Ee=(0,k.cI)(ue.responseText)}catch(ke){ln("Failed to parse JSON response for "+q+": "+ue.responseText)}S(null,Ee)}else 401!==ue.status&&404!==ue.status&&ln("Got unsuccessful REST response for "+q+" Status: "+ue.status),S(ue.status);S=null}},ue.open("GET",q,!0),ue.send()})},p}(Tc),Ky=function(){function g(){this.rootNode_=_t.EMPTY_NODE}return g.prototype.getNode=function(p){return this.rootNode_.getChild(p)},g.prototype.updateSnapshot=function(p,_){this.rootNode_=this.rootNode_.updateChild(p,_)},g}();function Ea(){return{value:null,children:new Map}}function Xs(g,p,_){if(Pt(p))g.value=_,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(p,_);else{var b=kt(p);g.children.has(b)||g.children.set(b,Ea()),Xs(g.children.get(b),p=Ft(p),_)}}function Jn(g,p){if(Pt(p))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;var _=g.value;return g.value=null,_.forEachChild(dn,function(A,I){Xs(g,new Ot(A),I)}),Jn(g,p)}if(g.children.size>0){var b=kt(p);return p=Ft(p),g.children.has(b)&&Jn(g.children.get(b),p)&&g.children.delete(b),0===g.children.size}return!0}function gr(g,p,_){null!==g.value?_(p,g.value):function(g,p){g.children.forEach(function(_,b){p(b,_)})}(g,function(b,S){gr(S,new Ot(p.toString()+"/"+b),_)})}var As=function(){function g(p){this.collection_=p,this.last_=null}return g.prototype.get=function(){var p=this.collection_.get(),_=(0,te.pi)({},p);return this.last_&&it(this.last_,function(b,S){_[b]=_[b]-S}),this.last_=p,_},g}(),gg=function(){function g(p,_){this.server_=_,this.statsToReport_={},this.statsListener_=new As(p);var b=1e4+2e4*Math.random();bo(this.reportStats_.bind(this),Math.floor(b))}return g.prototype.reportStats_=function(){var p=this,_=this.statsListener_.get(),b={},S=!1;it(_,function(A,I){I>0&&(0,k.r3)(p.statsToReport_,A)&&(b[A]=I,S=!0)}),S&&this.server_.reportStats(b),bo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},g}(),nr=(()=>(function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nr||(nr={})),nr))();function Sa(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}var mg=function(){function g(p,_,b){this.path=p,this.affectedTree=_,this.revert=b,this.type=nr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g.prototype.operationForChild=function(p){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var _=this.affectedTree.subtree(new Ot(p));return new g(Xe(),_,this.revert)}return(0,k.hu)(kt(this.path)===p,"operationForChild called for unrelated child."),new g(Ft(this.path),this.affectedTree,this.revert)},g}(),Sh=function(){function g(p,_){this.source=p,this.path=_,this.type=nr.LISTEN_COMPLETE}return g.prototype.operationForChild=function(p){return Pt(this.path)?new g(this.source,Xe()):new g(this.source,Ft(this.path))},g}(),xa=function(){function g(p,_,b){this.source=p,this.path=_,this.snap=b,this.type=nr.OVERWRITE}return g.prototype.operationForChild=function(p){return Pt(this.path)?new g(this.source,Xe(),this.snap.getImmediateChild(p)):new g(this.source,Ft(this.path),this.snap)},g}(),Lc=function(){function g(p,_,b){this.source=p,this.path=_,this.children=b,this.type=nr.MERGE}return g.prototype.operationForChild=function(p){if(Pt(this.path)){var _=this.children.subtree(new Ot(p));return _.isEmpty()?null:_.value?new xa(this.source,Xe(),_.value):new g(this.source,Xe(),_)}return(0,k.hu)(kt(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new g(this.source,Ft(this.path),this.children)},g.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g}(),Mo=function(){function g(p,_,b){this.node_=p,this.fullyInitialized_=_,this.filtered_=b}return g.prototype.isFullyInitialized=function(){return this.fullyInitialized_},g.prototype.isFiltered=function(){return this.filtered_},g.prototype.isCompleteForPath=function(p){if(Pt(p))return this.isFullyInitialized()&&!this.filtered_;var _=kt(p);return this.isCompleteForChild(_)},g.prototype.isCompleteForChild=function(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)},g.prototype.getNode=function(){return this.node_},g}(),_g=function(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()};function eo(g,p,_,b,S,A){var I=b.filter(function(P){return P.type===_});I.sort(function(P,L){return function(g,p,_){if(null==p.childName||null==_.childName)throw(0,k.g5)("Should only compare child_ events.");var b=new Ht(p.childName,p.snapshotNode),S=new Ht(_.childName,_.snapshotNode);return g.index_.compare(b,S)}(g,P,L)}),I.forEach(function(P){var L=function(g,p,_){return"value"===p.type||"child_removed"===p.type||(p.prevName=_.getPredecessorChildName(p.childName,p.snapshotNode,g.index_)),p}(g,P,A);S.forEach(function(z){z.respondsTo(P.type)&&p.push(z.createEvent(L,g.query_))})})}function ai(g,p){return{eventCache:g,serverCache:p}}function rs(g,p,_,b){return ai(new Mo(p,_,b),g.serverCache)}function Un(g,p,_,b){return ai(g.eventCache,new Mo(p,_,b))}function Bc(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function gl(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}var Vc,mr=function(){function g(p,_){void 0===_&&(Vc||(Vc=new Ds(ut)),_=Vc),this.value=p,this.children=_}return g.fromObject=function(p){var _=new g(null);return it(p,function(b,S){_=_.set(new Ot(b),S)}),_},g.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},g.prototype.findRootMostMatchingPathAndValue=function(p,_){if(null!=this.value&&_(this.value))return{path:Xe(),value:this.value};if(Pt(p))return null;var b=kt(p),S=this.children.get(b);if(null!==S){var A=S.findRootMostMatchingPathAndValue(Ft(p),_);return null!=A?{path:xt(new Ot(b),A.path),value:A.value}:null}return null},g.prototype.findRootMostValueAndPath=function(p){return this.findRootMostMatchingPathAndValue(p,function(){return!0})},g.prototype.subtree=function(p){if(Pt(p))return this;var _=kt(p),b=this.children.get(_);return null!==b?b.subtree(Ft(p)):new g(null)},g.prototype.set=function(p,_){if(Pt(p))return new g(_,this.children);var b=kt(p),A=(this.children.get(b)||new g(null)).set(Ft(p),_),I=this.children.insert(b,A);return new g(this.value,I)},g.prototype.remove=function(p){if(Pt(p))return this.children.isEmpty()?new g(null):new g(null,this.children);var _=kt(p),b=this.children.get(_);if(b){var S=b.remove(Ft(p)),A=void 0;return A=S.isEmpty()?this.children.remove(_):this.children.insert(_,S),null===this.value&&A.isEmpty()?new g(null):new g(this.value,A)}return this},g.prototype.get=function(p){if(Pt(p))return this.value;var _=kt(p),b=this.children.get(_);return b?b.get(Ft(p)):null},g.prototype.setTree=function(p,_){if(Pt(p))return _;var I,b=kt(p),A=(this.children.get(b)||new g(null)).setTree(Ft(p),_);return I=A.isEmpty()?this.children.remove(b):this.children.insert(b,A),new g(this.value,I)},g.prototype.fold=function(p){return this.fold_(Xe(),p)},g.prototype.fold_=function(p,_){var b={};return this.children.inorderTraversal(function(S,A){b[S]=A.fold_(xt(p,S),_)}),_(p,this.value,b)},g.prototype.findOnPath=function(p,_){return this.findOnPath_(p,Xe(),_)},g.prototype.findOnPath_=function(p,_,b){var S=!!this.value&&b(_,this.value);if(S)return S;if(Pt(p))return null;var A=kt(p),I=this.children.get(A);return I?I.findOnPath_(Ft(p),xt(_,A),b):null},g.prototype.foreachOnPath=function(p,_){return this.foreachOnPath_(p,Xe(),_)},g.prototype.foreachOnPath_=function(p,_,b){if(Pt(p))return this;this.value&&b(_,this.value);var S=kt(p),A=this.children.get(S);return A?A.foreachOnPath_(Ft(p),xt(_,S),b):new g(null)},g.prototype.foreach=function(p){this.foreach_(Xe(),p)},g.prototype.foreach_=function(p,_){this.children.inorderTraversal(function(b,S){S.foreach_(xt(p,b),_)}),this.value&&_(p,this.value)},g.prototype.foreachChild=function(p){this.children.inorderTraversal(function(_,b){b.value&&p(_,b.value)})},g}(),zi=function(){function g(p){this.writeTree_=p}return g.empty=function(){return new g(new mr(null))},g}();function To(g,p,_){if(Pt(p))return new zi(new mr(_));var b=g.writeTree_.findRootMostValueAndPath(p);if(null!=b){var S=b.path,A=b.value,I=Rn(S,p);return A=A.updateChild(I,_),new zi(g.writeTree_.set(S,A))}var P=new mr(_),L=g.writeTree_.setTree(p,P);return new zi(L)}function Io(g,p,_){var b=g;return it(_,function(S,A){b=To(b,xt(p,S),A)}),b}function Tu(g,p){if(Pt(p))return zi.empty();var _=g.writeTree_.setTree(p,new mr(null));return new zi(_)}function Iu(g,p){return null!=Ro(g,p)}function Ro(g,p){var _=g.writeTree_.findRootMostValueAndPath(p);return null!=_?g.writeTree_.get(_.path).getChild(Rn(_.path,p)):null}function yg(g){var p=[],_=g.writeTree_.value;return null!=_?_.isLeafNode()||_.forEachChild(dn,function(b,S){p.push(new Ht(b,S))}):g.writeTree_.children.inorderTraversal(function(b,S){null!=S.value&&p.push(new Ht(b,S.value))}),p}function Yi(g,p){if(Pt(p))return g;var _=Ro(g,p);return new zi(null!=_?new mr(_):g.writeTree_.subtree(p))}function ml(g){return g.writeTree_.isEmpty()}function Ru(g,p){return vg(Xe(),g.writeTree_,p)}function vg(g,p,_){if(null!=p.value)return _.updateChild(g,p.value);var b=null;return p.children.inorderTraversal(function(S,A){".priority"===S?((0,k.hu)(null!==A.value,"Priority writes must always be leaf nodes"),b=A.value):_=vg(xt(g,S),A,_)}),!_.getChild(g).isEmpty()&&null!==b&&(_=_.updateChild(xt(g,".priority"),b)),_}function Oo(g,p){return Th(p,g)}function vT(g,p){if(g.snap)return hi(g.path,p);for(var _ in g.children)if(g.children.hasOwnProperty(_)&&hi(xt(g.path,_),p))return!0;return!1}function bg(g){return g.visible}function ss(g,p,_){for(var b=zi.empty(),S=0;S<g.length;++S){var A=g[S];if(p(A)){var I=A.path,P=void 0;if(A.snap)hi(_,I)?b=To(b,P=Rn(_,I),A.snap):hi(I,_)&&(P=Rn(I,_),b=To(b,Xe(),A.snap.getChild(P)));else{if(!A.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(hi(_,I))b=Io(b,P=Rn(_,I),A.children);else if(hi(I,_))if(Pt(P=Rn(I,_)))b=Io(b,Xe(),A.children);else{var L=(0,k.DV)(A.children,kt(P));if(L){var z=L.getChild(Ft(P));b=To(b,Xe(),z)}}}}}return b}function Ou(g,p,_,b,S){if(b||S){var L=Yi(g.visibleWrites,p);return!S&&ml(L)?_:S||null!=_||Iu(L,Xe())?Ru(ss(g.allWrites,function(Ee){return(Ee.visible||S)&&(!b||!~b.indexOf(Ee.writeId))&&(hi(Ee.path,p)||hi(p,Ee.path))},p),_||_t.EMPTY_NODE):null}var A=Ro(g.visibleWrites,p);if(null!=A)return A;var I=Yi(g.visibleWrites,p);return ml(I)?_:null!=_||Iu(I,Xe())?Ru(I,_||_t.EMPTY_NODE):null}function Aa(g,p,_,b){return Ou(g.writeTree,g.treePath,p,_,b)}function iv(g,p){return function(g,p,_){var b=_t.EMPTY_NODE,S=Ro(g.visibleWrites,p);if(S)return S.isLeafNode()||S.forEachChild(dn,function(P,L){b=b.updateImmediateChild(P,L)}),b;if(_){var A=Yi(g.visibleWrites,p);return _.forEachChild(dn,function(P,L){var z=Ru(Yi(A,new Ot(P)),L);b=b.updateImmediateChild(P,z)}),yg(A).forEach(function(P){b=b.updateImmediateChild(P.name,P.node)}),b}return yg(Yi(g.visibleWrites,p)).forEach(function(P){b=b.updateImmediateChild(P.name,P.node)}),b}(g.writeTree,g.treePath,p)}function Mh(g,p,_,b){return function(g,p,_,b,S){(0,k.hu)(b||S,"Either existingEventSnap or existingServerSnap must exist");var A=xt(p,_);if(Iu(g.visibleWrites,A))return null;var I=Yi(g.visibleWrites,A);return ml(I)?S.getChild(_):Ru(I,S.getChild(_))}(g.writeTree,g.treePath,p,_,b)}function Uc(g,p){return function(g,p){return Ro(g.visibleWrites,p)}(g.writeTree,xt(g.treePath,p))}function Eg(g,p,_){return function(g,p,_,b){var S=xt(p,_),A=Ro(g.visibleWrites,S);return null!=A?A:b.isCompleteForChild(_)?Ru(Yi(g.visibleWrites,S),b.getNode().getImmediateChild(_)):null}(g.writeTree,g.treePath,p,_)}function _l(g,p){return Th(xt(g.treePath,p),g.writeTree)}function Th(g,p){return{treePath:g,writeTree:p}}var ze=function(){function g(){this.changeMap=new Map}return g.prototype.trackChildChange=function(p){var _=p.type,b=p.childName;(0,k.hu)("child_added"===_||"child_changed"===_||"child_removed"===_,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==b,"Only non-priority child changes can be tracked.");var S=this.changeMap.get(b);if(S){var A=S.type;if("child_added"===_&&"child_removed"===A)this.changeMap.set(b,Cu(b,p.snapshotNode,S.snapshotNode));else if("child_removed"===_&&"child_added"===A)this.changeMap.delete(b);else if("child_removed"===_&&"child_changed"===A)this.changeMap.set(b,pt(b,S.oldSnap));else if("child_changed"===_&&"child_added"===A)this.changeMap.set(b,Ao(b,p.snapshotNode));else{if("child_changed"!==_||"child_changed"!==A)throw(0,k.g5)("Illegal combination of changes: "+p+" occurred after "+S);this.changeMap.set(b,Cu(b,p.snapshotNode,S.oldSnap))}}else this.changeMap.set(b,p)},g.prototype.getChanges=function(){return Array.from(this.changeMap.values())},g}(),wi=new(function(){function g(){}return g.prototype.getCompleteChild=function(p){return null},g.prototype.getChildAfterChild=function(p,_,b){return null},g}()),Fn=function(){function g(p,_,b){void 0===b&&(b=null),this.writes_=p,this.viewCache_=_,this.optCompleteServerCache_=b}return g.prototype.getCompleteChild=function(p){var _=this.viewCache_.eventCache;if(_.isCompleteForChild(p))return _.getNode().getImmediateChild(p);var b=null!=this.optCompleteServerCache_?new Mo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Eg(this.writes_,p,b)},g.prototype.getChildAfterChild=function(p,_,b){var S=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gl(this.viewCache_),A=function(g,p,_,b,S,A){return function(g,p,_,b,S,A,I){var P,L=Yi(g.visibleWrites,p),z=Ro(L,Xe());if(null!=z)P=z;else{if(null==_)return[];P=Ru(L,_)}if((P=P.withIndex(I)).isEmpty()||P.isLeafNode())return[];for(var q=[],ue=I.getCompare(),Ee=A?P.getReverseIteratorFrom(b,I):P.getIteratorFrom(b,I),ke=Ee.getNext();ke&&q.length<S;)0!==ue(ke,b)&&q.push(ke),ke=Ee.getNext();return q}(g.writeTree,g.treePath,p,_,b,S,A)}(this.writes_,S,_,1,b,p);return 0===A.length?null:A[0]},g}();function xg(g,p,_,b,S,A){var I=p.eventCache;if(null!=Uc(b,_))return p;var P=void 0,L=void 0;if(Pt(_))if((0,k.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){var z=gl(p),ue=iv(b,z instanceof _t?z:_t.EMPTY_NODE);P=g.filter.updateFullNode(p.eventCache.getNode(),ue,A)}else{var Ee=Aa(b,gl(p));P=g.filter.updateFullNode(p.eventCache.getNode(),Ee,A)}else{var ke=kt(_);if(".priority"===ke){(0,k.hu)(1===Eo(_),"Can't have a priority with additional path components");var Ve=I.getNode(),gt=Mh(b,_,Ve,L=p.serverCache.getNode());P=null!=gt?g.filter.updatePriority(Ve,gt):I.getNode()}else{var st=Ft(_),Dt=void 0;if(I.isCompleteForChild(ke)){L=p.serverCache.getNode();var Hn=Mh(b,_,I.getNode(),L);Dt=null!=Hn?I.getNode().getImmediateChild(ke).updateChild(st,Hn):I.getNode().getImmediateChild(ke)}else Dt=Eg(b,ke,p.serverCache);P=null!=Dt?g.filter.updateChild(I.getNode(),ke,Dt,st,S,A):I.getNode()}}return rs(p,P,I.isFullyInitialized()||Pt(_),g.filter.filtersNodes())}function $n(g,p,_,b,S,A,I,P){var z,L=p.serverCache,q=I?g.filter:g.filter.getIndexedFilter();if(Pt(_))z=q.updateFullNode(L.getNode(),b,null);else if(q.filtersNodes()&&!L.isFiltered()){var ue=L.getNode().updateChild(_,b);z=q.updateFullNode(L.getNode(),ue,null)}else{var Ee=kt(_);if(!L.isCompleteForPath(_)&&Eo(_)>1)return p;var ke=Ft(_),gt=L.getNode().getImmediateChild(Ee).updateChild(ke,b);z=".priority"===Ee?q.updatePriority(L.getNode(),gt):q.updateChild(L.getNode(),Ee,gt,ke,wi,null)}var st=Un(p,z,L.isFullyInitialized()||Pt(_),q.filtersNodes());return xg(g,st,_,S,new Fn(S,st,A),P)}function yl(g,p,_,b,S,A,I){var L,z,P=p.eventCache,q=new Fn(S,p,A);if(Pt(_))z=g.filter.updateFullNode(p.eventCache.getNode(),b,I),L=rs(p,z,!0,g.filter.filtersNodes());else{var ue=kt(_);if(".priority"===ue)z=g.filter.updatePriority(p.eventCache.getNode(),b),L=rs(p,z,P.isFullyInitialized(),P.isFiltered());else{var Ee=Ft(_),ke=P.getNode().getImmediateChild(ue),Ve=void 0;if(Pt(Ee))Ve=b;else{var gt=q.getCompleteChild(ue);Ve=null!=gt?".priority"===_u(Ee)&&gt.getChild(er(Ee)).isEmpty()?gt:gt.updateChild(Ee,b):_t.EMPTY_NODE}L=ke.equals(Ve)?p:rs(p,g.filter.updateChild(P.getNode(),ue,Ve,Ee,q,I),P.isFullyInitialized(),g.filter.filtersNodes())}}return L}function vl(g,p){return g.eventCache.isCompleteForChild(p)}function Pu(g,p,_){return _.foreach(function(b,S){p=p.updateChild(b,S)}),p}function Ms(g,p,_,b,S,A,I,P){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;var z,L=p;z=Pt(_)?b:new mr(null).setTree(_,b);var q=p.serverCache.getNode();return z.children.inorderTraversal(function(ue,Ee){if(q.hasChild(ue)){var Ve=Pu(0,p.serverCache.getNode().getImmediateChild(ue),Ee);L=$n(g,L,new Ot(ue),Ve,S,A,I,P)}}),z.children.inorderTraversal(function(ue,Ee){var ke=!p.serverCache.isCompleteForChild(ue)&&void 0===Ee.value;if(!q.hasChild(ue)&&!ke){var gt=Pu(0,p.serverCache.getNode().getImmediateChild(ue),Ee);L=$n(g,L,new Ot(ue),gt,S,A,I,P)}}),L}var to=function(){function g(p,_){this.query_=p,this.eventRegistrations_=[];var b=this.query_._queryParams,S=new Eh(b.getIndex()),A=function(g){return g.loadsAllData()?new Eh(g.getIndex()):g.hasLimit()?new Qy(g):new hg(g)}(b);this.processor_=function(g){return{filter:g}}(A);var I=_.serverCache,P=_.eventCache,L=S.updateFullNode(_t.EMPTY_NODE,I.getNode(),null),z=A.updateFullNode(_t.EMPTY_NODE,P.getNode(),null),q=new Mo(L,I.isFullyInitialized(),S.filtersNodes()),ue=new Mo(z,P.isFullyInitialized(),A.filtersNodes());this.viewCache_=ai(ue,q),this.eventGenerator_=new _g(this.query_)}return Object.defineProperty(g.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),g}();function Fo(g,p){var _=gl(g.viewCache_);return _&&(g.query._queryParams.loadsAllData()||!Pt(p)&&!_.getImmediateChild(kt(p)).isEmpty())?_.getChild(p):null}function Ia(g){return 0===g.eventRegistrations_.length}function Po(g,p,_){var b=[];if(_){(0,k.hu)(null==p,"A cancel should cancel all event registrations.");var S=g.query._path;g.eventRegistrations_.forEach(function(L){var z=L.createCancelEvent(_,S);z&&b.push(z)})}if(p){for(var A=[],I=0;I<g.eventRegistrations_.length;++I){var P=g.eventRegistrations_[I];if(P.matches(p)){if(p.hasAnyCallback()){A=A.concat(g.eventRegistrations_.slice(I+1));break}}else A.push(P)}g.eventRegistrations_=A}else g.eventRegistrations_=[];return b}function rv(g,p,_,b){p.type===nr.MERGE&&null!==p.source.queryId&&((0,k.hu)(gl(g.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(Bc(g.viewCache_),"Missing event cache, even though we have a server cache"));var S=g.viewCache_,A=function(g,p,_,b,S){var I,P,A=new ze;if(_.type===nr.OVERWRITE){var L=_;L.source.fromUser?I=yl(g,p,L.path,L.snap,b,S,A):((0,k.hu)(L.source.fromServer,"Unknown source."),P=L.source.tagged||p.serverCache.isFiltered()&&!Pt(L.path),I=$n(g,p,L.path,L.snap,b,S,P,A))}else if(_.type===nr.MERGE){var z=_;z.source.fromUser?I=function(g,p,_,b,S,A,I){var P=p;return b.foreach(function(L,z){var q=xt(_,L);vl(p,kt(q))&&(P=yl(g,P,q,z,S,A,I))}),b.foreach(function(L,z){var q=xt(_,L);vl(p,kt(q))||(P=yl(g,P,q,z,S,A,I))}),P}(g,p,z.path,z.children,b,S,A):((0,k.hu)(z.source.fromServer,"Unknown source."),P=z.source.tagged||p.serverCache.isFiltered(),I=Ms(g,p,z.path,z.children,b,S,P,A))}else if(_.type===nr.ACK_USER_WRITE){var q=_;I=q.revert?function(g,p,_,b,S,A){var I;if(null!=Uc(b,_))return p;var P=new Fn(b,p,S),L=p.eventCache.getNode(),z=void 0;if(Pt(_)||".priority"===kt(_)){var q=void 0;if(p.serverCache.isFullyInitialized())q=Aa(b,gl(p));else{var ue=p.serverCache.getNode();(0,k.hu)(ue instanceof _t,"serverChildren would be complete if leaf node"),q=iv(b,ue)}z=g.filter.updateFullNode(L,q=q,A)}else{var Ee=kt(_),ke=Eg(b,Ee,p.serverCache);null==ke&&p.serverCache.isCompleteForChild(Ee)&&(ke=L.getImmediateChild(Ee)),(z=null!=ke?g.filter.updateChild(L,Ee,ke,Ft(_),P,A):p.eventCache.getNode().hasChild(Ee)?g.filter.updateChild(L,Ee,_t.EMPTY_NODE,Ft(_),P,A):L).isEmpty()&&p.serverCache.isFullyInitialized()&&(I=Aa(b,gl(p))).isLeafNode()&&(z=g.filter.updateFullNode(z,I,A))}return I=p.serverCache.isFullyInitialized()||null!=Uc(b,Xe()),rs(p,z,I,g.filter.filtersNodes())}(g,p,q.path,b,S,A):function(g,p,_,b,S,A,I){if(null!=Uc(S,_))return p;var P=p.serverCache.isFiltered(),L=p.serverCache;if(null!=b.value){if(Pt(_)&&L.isFullyInitialized()||L.isCompleteForPath(_))return $n(g,p,_,L.getNode().getChild(_),S,A,P,I);if(Pt(_)){var z=new mr(null);return L.getNode().forEachChild(xs,function(ue,Ee){z=z.set(new Ot(ue),Ee)}),Ms(g,p,_,z,S,A,P,I)}return p}var q=new mr(null);return b.foreach(function(ue,Ee){var ke=xt(_,ue);L.isCompleteForPath(ke)&&(q=q.set(ue,L.getNode().getChild(ke)))}),Ms(g,p,_,q,S,A,P,I)}(g,p,q.path,q.affectedTree,b,S,A)}else{if(_.type!==nr.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+_.type);I=function(g,p,_,b,S){var A=p.serverCache;return xg(g,Un(p,A.getNode(),A.isFullyInitialized()||Pt(_),A.isFiltered()),_,b,wi,S)}(g,p,_.path,b,A)}var ue=A.getChanges();return function(g,p,_){var b=p.eventCache;if(b.isFullyInitialized()){var S=b.getNode().isLeafNode()||b.getNode().isEmpty(),A=Bc(g);(_.length>0||!g.eventCache.isFullyInitialized()||S&&!b.getNode().equals(A)||!b.getNode().getPriority().equals(A.getPriority()))&&_.push(Ch(Bc(p)))}}(p,I,ue),{viewCache:I,changes:ue}}(g.processor_,S,p,_,b);return function(g,p){(0,k.hu)(p.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(p.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,A.viewCache),(0,k.hu)(A.viewCache.serverCache.isFullyInitialized()||!S.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=A.viewCache,Mn(g,A.changes,A.viewCache.eventCache.getNode(),null)}function Mn(g,p,_,b){return function(g,p,_,b){var S=[],A=[];return p.forEach(function(I){"child_changed"===I.type&&g.index_.indexedValueChanged(I.oldSnap,I.snapshotNode)&&A.push(function(g,p){return{type:"child_moved",snapshotNode:p,childName:g}}(I.childName,I.snapshotNode))}),eo(g,S,"child_removed",p,b,_),eo(g,S,"child_added",p,b,_),eo(g,S,"child_moved",A,b,_),eo(g,S,"child_changed",p,b,_),eo(g,S,"value",p,b,_),S}(g.eventGenerator_,p,_,b?[b]:g.eventRegistrations_)}var Rh,Hc,Oh=function(){this.views=new Map};function Fh(g,p,_,b){var S,A,I=p.source.queryId;if(null!==I){var P=g.views.get(I);return(0,k.hu)(null!=P,"SyncTree gave us an op for an invalid query."),rv(P,p,_,b)}var L=[];try{for(var z=(0,te.XA)(g.views.values()),q=z.next();!q.done;q=z.next())L=L.concat(rv(P=q.value,p,_,b))}catch(ue){S={error:ue}}finally{try{q&&!q.done&&(A=z.return)&&A.call(z)}finally{if(S)throw S.error}}return L}function Mg(g,p,_,b,S){var I=g.views.get(p._queryIdentifier);if(!I){var P=Aa(_,S?b:null),L=!1;P?L=!0:b instanceof _t?(P=iv(_,b),L=!1):(P=_t.EMPTY_NODE,L=!1);var z=ai(new Mo(P,L,!1),new Mo(b,S,!1));return new to(p,z)}return I}function sv(g){var p,_,b=[];try{for(var S=(0,te.XA)(g.views.values()),A=S.next();!A.done;A=S.next()){var I=A.value;I.query._queryParams.loadsAllData()||b.push(I)}}catch(P){p={error:P}}finally{try{A&&!A.done&&(_=S.return)&&_.call(S)}finally{if(p)throw p.error}}return b}function Ra(g,p){var _,b,S=null;try{for(var A=(0,te.XA)(g.views.values()),I=A.next();!I.done;I=A.next())S=S||Fo(I.value,p)}catch(L){_={error:L}}finally{try{I&&!I.done&&(b=A.return)&&b.call(A)}finally{if(_)throw _.error}}return S}function ov(g,p){return p._queryParams.loadsAllData()?Lo(g):g.views.get(p._queryIdentifier)}function av(g,p){return null!=ov(g,p)}function Oa(g){return null!=Lo(g)}function Lo(g){var p,_;try{for(var b=(0,te.XA)(g.views.values()),S=b.next();!S.done;S=b.next()){var A=S.value;if(A.query._queryParams.loadsAllData())return A}}catch(I){p={error:I}}finally{try{S&&!S.done&&(_=b.return)&&_.call(b)}finally{if(p)throw p.error}}return null}var Bo=1,Yc=function(p){this.listenProvider_=p,this.syncPointTree_=new mr(null),this.pendingWriteTree_={visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function qc(g,p,_,b,S){return function(g,p,_,b,S){(0,k.hu)(b>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===S&&(S=!0),g.allWrites.push({path:p,snap:_,writeId:b,visible:S}),S&&(g.visibleWrites=To(g.visibleWrites,p,_)),g.lastWriteId=b}(g.pendingWriteTree_,p,_,b,S),S?Na(g,new xa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,_)):[]}function Ci(g,p,_){void 0===_&&(_=!1);var b=function(g,p){for(var _=0;_<g.allWrites.length;_++){var b=g.allWrites[_];if(b.writeId===p)return b}return null}(g.pendingWriteTree_,p);if(function(g,p){var _=g.allWrites.findIndex(function(z){return z.writeId===p});(0,k.hu)(_>=0,"removeWrite called with nonexistent writeId.");var b=g.allWrites[_];g.allWrites.splice(_,1);for(var S=b.visible,A=!1,I=g.allWrites.length-1;S&&I>=0;){var P=g.allWrites[I];P.visible&&(I>=_&&vT(P,b.path)?S=!1:hi(b.path,P.path)&&(A=!0)),I--}return!!S&&(A?(function(g){g.visibleWrites=ss(g.allWrites,bg,Xe()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(b.snap?g.visibleWrites=Tu(g.visibleWrites,b.path):it(b.children,function(z){g.visibleWrites=Tu(g.visibleWrites,xt(b.path,z))}),!0))}(g.pendingWriteTree_,p)){var A=new mr(null);return null!=b.snap?A=A.set(Xe(),!0):it(b.children,function(I){A=A.set(new Ot(I),!0)}),Na(g,new mg(b.path,A,_))}return[]}function Vo(g,p,_){return Na(g,new xa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,_))}function Ph(g,p,_,b){var S=p._path,A=g.syncPointTree_.get(S),I=[];if(A&&("default"===p._queryIdentifier||av(A,p))){var P=function(g,p,_,b){var S,A,I=p._queryIdentifier,P=[],L=[],z=Oa(g);if("default"===I)try{for(var q=(0,te.XA)(g.views.entries()),ue=q.next();!ue.done;ue=q.next()){var Ve,Ee=(0,te.CR)(ue.value,2),ke=Ee[0];L=L.concat(Po(Ve=Ee[1],_,b)),Ia(Ve)&&(g.views.delete(ke),Ve.query._queryParams.loadsAllData()||P.push(Ve.query))}}catch(gt){S={error:gt}}finally{try{ue&&!ue.done&&(A=q.return)&&A.call(q)}finally{if(S)throw S.error}}else(Ve=g.views.get(I))&&(L=L.concat(Po(Ve,_,b)),Ia(Ve)&&(g.views.delete(I),Ve.query._queryParams.loadsAllData()||P.push(Ve.query)));return z&&!Oa(g)&&P.push(new((0,k.hu)(Rh,"Reference.ts has not been loaded"),Rh)(p._repo,p._path)),{removed:P,events:L}}(A,p,_,b);(function(g){return 0===g.views.size})(A)&&(g.syncPointTree_=g.syncPointTree_.remove(S));var L=P.removed;I=P.events;var z=-1!==L.findIndex(function(Hn){return Hn._queryParams.loadsAllData()}),q=g.syncPointTree_.findOnPath(S,function(Hn,ls){return Oa(ls)});if(z&&!q){var ue=g.syncPointTree_.subtree(S);if(!ue.isEmpty())for(var Ee=function(g){return g.fold(function(p,_,b){if(_&&Oa(_))return[Lo(_)];var A=[];return _&&(A=sv(_)),it(b,function(I,P){A=A.concat(P)}),A})}(ue),ke=0;ke<Ee.length;++ke){var Ve=Ee[ke],gt=Ve.query,st=Wc(g,Ve);g.listenProvider_.startListening(at(gt),hn(g,gt),st.hashFn,st.onComplete)}}!q&&L.length>0&&!b&&(z?g.listenProvider_.stopListening(at(p),null):L.forEach(function(Hn){var ls=g.queryToTagMap.get(Tn(Hn));g.listenProvider_.stopListening(at(Hn),ls)})),function(g,p){for(var _=0;_<p.length;++_){var b=p[_];if(!b._queryParams.loadsAllData()){var S=Tn(b),A=g.queryToTagMap.get(S);g.queryToTagMap.delete(S),g.tagToQueryMap.delete(A)}}}(g,L)}return I}function lv(g,p,_){var b=p._path,S=null,A=!1;g.syncPointTree_.foreachOnPath(b,function(gt,st){var Dt=Rn(gt,b);S=S||Ra(st,Dt),A=A||Oa(st)});var P,I=g.syncPointTree_.get(b);I?(A=A||Oa(I),S=S||Ra(I,Xe())):(I=new Oh,g.syncPointTree_=g.syncPointTree_.set(b,I)),null!=S?P=!0:(P=!1,S=_t.EMPTY_NODE,g.syncPointTree_.subtree(b).foreachChild(function(gt,st){var Dt=Ra(st,Xe());Dt&&(S=S.updateImmediateChild(gt,Dt))}));var z=av(I,p);if(!z&&!p._queryParams.loadsAllData()){var q=Tn(p);(0,k.hu)(!g.queryToTagMap.has(q),"View does not exist, but we have a tag");var ue=Bo++;g.queryToTagMap.set(q,ue),g.tagToQueryMap.set(ue,q)}var ke=function(g,p,_,b,S,A){var I=Mg(g,p,b,S,A);return g.views.has(p._queryIdentifier)||g.views.set(p._queryIdentifier,I),function(g,p){g.eventRegistrations_.push(p)}(I,_),function(g,p){var _=g.viewCache_.eventCache,b=[];return _.getNode().isLeafNode()||_.getNode().forEachChild(dn,function(A,I){b.push(Ao(A,I))}),_.isFullyInitialized()&&b.push(Ch(_.getNode())),Mn(g,b,_.getNode(),p)}(I,_)}(I,p,_,Oo(g.pendingWriteTree_,b),S,P);if(!z&&!A){var Ve=ov(I,p);ke=ke.concat(function(g,p,_){var b=p._path,S=hn(g,p),A=Wc(g,_),I=g.listenProvider_.startListening(at(p),S,A.hashFn,A.onComplete),P=g.syncPointTree_.subtree(b);if(S)(0,k.hu)(!Oa(P.value),"If we're adding a query, it shouldn't be shadowed");else for(var L=P.fold(function(ue,Ee,ke){if(!Pt(ue)&&Ee&&Oa(Ee))return[Lo(Ee).query];var Ve=[];return Ee&&(Ve=Ve.concat(sv(Ee).map(function(gt){return gt.query}))),it(ke,function(gt,st){Ve=Ve.concat(st)}),Ve}),z=0;z<L.length;++z){var q=L[z];g.listenProvider_.stopListening(at(q),hn(g,q))}return I}(g,p,Ve))}return ke}function $c(g,p,_){var S=g.pendingWriteTree_,A=g.syncPointTree_.findOnPath(p,function(I,P){var z=Ra(P,Rn(I,p));if(z)return z});return Ou(S,p,A,_,!0)}function Na(g,p){return bl(p,g.syncPointTree_,null,Oo(g.pendingWriteTree_,Xe()))}function bl(g,p,_,b){if(Pt(g.path))return iE(g,p,_,b);var S=p.get(Xe());null==_&&null!=S&&(_=Ra(S,Xe()));var A=[],I=kt(g.path),P=g.operationForChild(I),L=p.children.get(I);if(L&&P){var z=_?_.getImmediateChild(I):null,q=_l(b,I);A=A.concat(bl(P,L,z,q))}return S&&(A=A.concat(Fh(S,g,b,_))),A}function iE(g,p,_,b){var S=p.get(Xe());null==_&&null!=S&&(_=Ra(S,Xe()));var A=[];return p.children.inorderTraversal(function(I,P){var L=_?_.getImmediateChild(I):null,z=_l(b,I),q=g.operationForChild(I);q&&(A=A.concat(iE(q,P,L,z)))}),S&&(A=A.concat(Fh(S,g,b,_))),A}function Wc(g,p){var _=p.query,b=hn(g,_);return{hashFn:function(){return(function(g){return g.viewCache_.serverCache.getNode()}(p)||_t.EMPTY_NODE).hash()},onComplete:function(S){if("ok"===S)return b?function(g,p,_){var b=Qc(g,_);if(b){var S=Kc(b),A=S.path,I=S.queryId,P=Rn(A,p);return En(g,A,new Sh(Sa(I),P))}return[]}(g,_._path,b):function(g,p){return Na(g,new Sh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(g,_._path);var A=function(g,p){var _="Unknown Error";"too_big"===g?_="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?_="Client doesn't have permission to access the desired data.":"unavailable"===g&&(_="The service is unavailable");var b=new Error(g+" at "+p._path.toString()+": "+_);return b.code=g.toUpperCase(),b}(S,_);return Ph(g,_,null,A)}}}function hn(g,p){var _=Tn(p);return g.queryToTagMap.get(_)}function Tn(g){return g._path.toString()+"$"+g._queryIdentifier}function Qc(g,p){return g.tagToQueryMap.get(p)}function Kc(g){var p=g.indexOf("$");return(0,k.hu)(-1!==p&&p<g.length-1,"Bad queryKey."),{queryId:g.substr(p+1),path:new Ot(g.substr(0,p))}}function En(g,p,_){var b=g.syncPointTree_.get(p);return(0,k.hu)(b,"Missing sync point for query tag that we're tracking"),Fh(b,_,Oo(g.pendingWriteTree_,p),null)}function at(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new((0,k.hu)(Hc,"Reference.ts has not been loaded"),Hc)(g._repo,g._path):g}var jn=function(){function g(p){this.node_=p}return g.prototype.getImmediateChild=function(p){return new g(this.node_.getImmediateChild(p))},g.prototype.node=function(){return this.node_},g}(),ir=function(){function g(p,_){this.syncTree_=p,this.path_=_}return g.prototype.getImmediateChild=function(p){var _=xt(this.path_,p);return new g(this.syncTree_,_)},g.prototype.node=function(){return $c(this.syncTree_,this.path_)},g}(),yr=function(g,p,_){return g&&"object"==typeof g?((0,k.hu)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?yt(g[".sv"],p,_):"object"==typeof g[".sv"]?Nh(g[".sv"],p):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},yt=function(g,p,_){switch(g){case"timestamp":return _.timestamp;default:(0,k.hu)(!1,"Unexpected server value: "+g)}},Nh=function(g,p,_){g.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));var b=g.increment;"number"!=typeof b&&(0,k.hu)(!1,"Unexpected increment value: "+b);var S=p.node();if((0,k.hu)(null!=S,"Expected ChildrenNode.EMPTY_NODE for nulls"),!S.isLeafNode())return b;var I=S.getValue();return"number"!=typeof I?b:I+b},uv=function(g,p,_,b){return La(p,new ir(_,g),b)},Nu=function(g,p,_){return La(g,new jn(p),_)};function La(g,p,_){var A,b=g.getPriority().val(),S=yr(b,p.getImmediateChild(".priority"),_);if(g.isLeafNode()){var I=g,P=yr(I.getValue(),p,_);return P!==I.getValue()||S!==I.getPriority().val()?new wa(P,On(S)):g}var L=g;return A=L,S!==L.getPriority().val()&&(A=A.updatePriority(new wa(S))),L.forEachChild(dn,function(z,q){var ue=La(q,p.getImmediateChild(z),_);ue!==q&&(A=A.updateImmediateChild(z,ue))}),A}var Uo=function(p,_,b){void 0===p&&(p=""),void 0===_&&(_=null),void 0===b&&(b={children:{},childCount:0}),this.name=p,this.parent=_,this.node=b};function Zc(g,p){for(var _=p instanceof Ot?p:new Ot(p),b=g,S=kt(_);null!==S;){var A=(0,k.DV)(b.node.children,S)||{children:{},childCount:0};b=new Uo(S,b,A),S=kt(_=Ft(_))}return b}function bn(g){return g.node.value}function Jc(g,p){g.node.value=p,Xc(g)}function Ig(g){return g.node.childCount>0}function Va(g,p){it(g.node.children,function(_,b){p(new Uo(_,g,b))})}function Rg(g,p,_,b){_&&!b&&p(g),Va(g,function(S){Rg(S,p,!0,b)}),_&&b&&p(g)}function Cl(g){return new Ot(null===g.parent?g.name:Cl(g.parent)+"/"+g.name)}function Xc(g){null!==g.parent&&function(g,p,_){var b=function(g){return void 0===bn(g)&&!Ig(g)}(_),S=(0,k.r3)(g.node.children,p);b&&S?(delete g.node.children[p],g.node.childCount--,Xc(g)):!b&&!S&&(g.node.children[p]=_.node,g.node.childCount++,Xc(g))}(g.parent,g.name,g)}var jo=/[\[\].#$\/\u0000-\u001F\u007F]/,Lu=/[\[\].#$\u0000-\u001F\u007F]/,Ts=10485760,Bu=function(g){return"string"==typeof g&&0!==g.length&&!jo.test(g)},Lh=function(g){return"string"==typeof g&&0!==g.length&&!Lu.test(g)},no=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!me(g)||g&&"object"==typeof g&&(0,k.r3)(g,".sv")},jr=function(g,p,_,b){b&&void 0===p||Sl((0,k.gK)(g,"value"),p,_)},Sl=function(g,p,_){var b=_ instanceof Ot?new Ic(_,g):_;if(void 0===p)throw new Error(g+"contains undefined "+ba(b));if("function"==typeof p)throw new Error(g+"contains a function "+ba(b)+" with contents = "+p.toString());if(me(p))throw new Error(g+"contains "+p.toString()+" "+ba(b));if("string"==typeof p&&p.length>Ts/3&&(0,k.ug)(p)>Ts)throw new Error(g+"contains a string greater than "+Ts+" utf8 bytes "+ba(b)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){var S=!1,A=!1;if(it(p,function(I,P){if(".value"===I)S=!0;else if(".priority"!==I&&".sv"!==I&&(A=!0,!Bu(I)))throw new Error(g+" contains an invalid key ("+I+") "+ba(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(g,p){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(p),g.byteLength_+=(0,k.ug)(p),Gy(g)})(b,I),Sl(g,P,b),function(g){var p=g.parts_.pop();g.byteLength_-=(0,k.ug)(p),g.parts_.length>0&&(g.byteLength_-=1)}(b)}),S&&A)throw new Error(g+' contains ".value" child '+ba(b)+" in addition to actual children.")}},Ga=function(g,p,_,b){if(!b||void 0!==p){var S=(0,k.gK)(g,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(S+" must be an object containing the children to replace.");var A=[];it(p,function(I,P){var L=new Ot(I);if(Sl(S,P,xt(_,L)),".priority"===_u(L)&&!no(P))throw new Error(S+"contains an invalid value for '"+L.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");A.push(L)}),function(g,p){var _,b;for(_=0;_<p.length;_++)for(var S=Es(b=p[_]),A=0;A<S.length;A++)if((".priority"!==S[A]||A!==S.length-1)&&!Bu(S[A]))throw new Error(g+"contains an invalid key ("+S[A]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');p.sort(Lr);var I=null;for(_=0;_<p.length;_++){if(b=p[_],null!==I&&hi(I,b))throw new Error(g+"contains a path "+I.toString()+" that is ancestor of another path "+b.toString());I=b}}(S,A)}},xl=function(g,p,_){if(!_||void 0!==p){if(me(p))throw new Error((0,k.gK)(g,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!no(p))throw new Error((0,k.gK)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dv=function(g,p,_){if(!_||void 0!==p)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)(g,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Vu=function(g,p,_,b){if(!(b&&void 0===_||Bu(_)))throw new Error((0,k.gK)(g,p)+'was an invalid key = "'+_+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gu=function(g,p,_,b){if(!(b&&void 0===_||Lh(_)))throw new Error((0,k.gK)(g,p)+'was an invalid path = "'+_+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hr=function(g,p){if(".info"===kt(p))throw new Error(g+" failed = Can't modify data under /.info/")},Fg=function(g,p){var _=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!Bu(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==_.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Lh(g)}(_))throw new Error((0,k.gK)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gi=function(g,p,_,b){if((!b||void 0!==_)&&"boolean"!=typeof _)throw new Error((0,k.gK)(g,p)+"must be a boolean.")},oE=function(){this.eventLists_=[],this.recursionDepth_=0};function zr(g,p){for(var _=null,b=0;b<p.length;b++){var S=p[b],A=S.getPath();null!==_&&!yu(A,_.path)&&(g.eventLists_.push(_),_=null),null===_&&(_={events:[],path:A}),_.events.push(S)}_&&g.eventLists_.push(_)}function Ua(g,p,_){zr(g,_),Pg(g,function(b){return yu(b,p)})}function Xn(g,p,_){zr(g,_),Pg(g,function(b){return hi(b,p)||hi(p,b)})}function Pg(g,p){g.recursionDepth_++;for(var _=!0,b=0;b<g.eventLists_.length;b++){var S=g.eventLists_[b];S&&(p(S.path)?(Ng(g.eventLists_[b]),g.eventLists_[b]=null):_=!1)}_&&(g.eventLists_=[]),g.recursionDepth_--}function Ng(g){for(var p=0;p<g.events.length;p++){var _=g.events[p];if(null!==_){g.events[p]=null;var b=_.getEventRunner();Le&&ot("event: "+_.toString()),ts(b)}}}var Uu="repo_interrupt",Vh=function(){function g(p,_,b,S){this.repoInfo_=p,this.forceRestClient_=_,this.authTokenProvider_=b,this.appCheckProvider_=S,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ea(),this.transactionQueueTree_=new Uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},g}();function Gh(g){var _=g.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+_}function ju(g){return function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g}({timestamp:Gh(g)})}function Ho(g,p,_,b,S){g.dataUpdateCount++;var A=new Ot(p);_=g.interceptServerDataCallback_?g.interceptServerDataCallback_(p,_):_;var I=[];if(S)if(b){var P=(0,k.UI)(_,function(Ee){return On(Ee)});I=function(g,p,_,b){var S=Qc(g,b);if(S){var A=Kc(S),I=A.path,P=A.queryId,L=Rn(I,p),z=mr.fromObject(_);return En(g,I,new Lc(Sa(P),L,z))}return[]}(g.serverSyncTree_,A,P,S)}else{var L=On(_);I=function(g,p,_,b){var S=Qc(g,b);if(null!=S){var A=Kc(S),I=A.path,P=A.queryId,L=Rn(I,p);return En(g,I,new xa(Sa(P),L,_))}return[]}(g.serverSyncTree_,A,L,S)}else if(b){var z=(0,k.UI)(_,function(Ee){return On(Ee)});I=function(g,p,_){var b=mr.fromObject(_);return Na(g,new Lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,b))}(g.serverSyncTree_,A,z)}else{var q=On(_);I=Vo(g.serverSyncTree_,A,q)}var ue=A;I.length>0&&(ue=ja(g,A)),Xn(g.eventQueue_,ue,I)}function Bg(g,p){jh(g,"connected",p),!1===p&&function(g){Dl(g,"onDisconnectEvents");var p=ju(g),_=Ea();gr(g.onDisconnect_,Xe(),function(S,A){var I=uv(S,A,g.serverSyncTree_,p);Xs(_,S,I)});var b=[];gr(_,Xe(),function(S,A){b=b.concat(Vo(g.serverSyncTree_,S,A));var I=Hu(g,S);ja(g,I)}),g.onDisconnect_=Ea(),Xn(g.eventQueue_,Xe(),b)}(g)}function jh(g,p,_){var b=new Ot("/.info/"+p),S=On(_);g.infoData_.updateSnapshot(b,S);var A=Vo(g.infoSyncTree_,b,S);Xn(g.eventQueue_,b,A)}function td(g){return g.nextWriteId_++}function Yo(g,p,_,b,S){Dl(g,"set",{path:p.toString(),value:_,priority:b});var A=ju(g),I=On(_,b),P=$c(g.serverSyncTree_,p),L=Nu(I,P,A),z=td(g),q=qc(g.serverSyncTree_,p,L,z,!0);zr(g.eventQueue_,q),g.server_.put(p.toString(),I.val(!0),function(Ee,ke){var Ve="ok"===Ee;Ve||ln("set at "+p+" failed: "+Ee);var gt=Ci(g.serverSyncTree_,z,!Ve);Xn(g.eventQueue_,p,gt),os(0,S,Ee,ke)});var ue=Hu(g,p);ja(g,ue),Xn(g.eventQueue_,ue,[])}function fv(g,p,_){g.server_.onDisconnectCancel(p.toString(),function(b,S){"ok"===b&&Jn(g.onDisconnect_,p),os(0,_,b,S)})}function Gg(g,p,_,b){var S=On(_);g.server_.onDisconnectPut(p.toString(),S.val(!0),function(A,I){"ok"===A&&Xs(g.onDisconnect_,p,S),os(0,b,A,I)})}function zh(g,p,_){var b;b=".info"===kt(p._path)?Ph(g.infoSyncTree_,p,_):Ph(g.serverSyncTree_,p,_),Ua(g.eventQueue_,p._path,b)}function Yh(g){g.persistentConnection_&&g.persistentConnection_.interrupt(Uu)}function Dl(g){for(var p=[],_=1;_<arguments.length;_++)p[_-1]=arguments[_];var b="";g.persistentConnection_&&(b=g.persistentConnection_.id+":"),ot.apply(void 0,(0,te.ev)([b],(0,te.CR)(p)))}function os(g,p,_,b){p&&ts(function(){if("ok"===_)p(null);else{var S=(_||"error").toUpperCase(),A=S;b&&(A+=": "+b);var I=new Error(A);I.code=S,p(I)}})}function rr(g,p,_){return $c(g.serverSyncTree_,p,_)||_t.EMPTY_NODE}function $o(g,p){if(void 0===p&&(p=g.transactionQueueTree_),p||Al(g,p),bn(p)){var _=_v(g,p);(0,k.hu)(_.length>0,"Sending zero length transaction queue"),_.every(function(S){return 0===S.status})&&function(g,p,_){for(var b=_.map(function(Ee){return Ee.currentWriteId}),S=rr(g,p,b),A=S,I=S.hash(),P=0;P<_.length;P++){var L=_[P];(0,k.hu)(0===L.status,"tryToSendTransactionQueue_: items in queue should all be run."),L.status=1,L.retryCount++;var z=Rn(p,L.path);A=A.updateChild(z,L.currentOutputSnapshotRaw)}var q=A.val(!0),ue=p;g.server_.put(ue.toString(),q,function(Ee){Dl(g,"transaction put response",{path:ue.toString(),status:Ee});var ke=[];if("ok"===Ee){for(var Ve=[],gt=function(Dt){_[Dt].status=2,ke=ke.concat(Ci(g.serverSyncTree_,_[Dt].currentWriteId)),_[Dt].onComplete&&Ve.push(function(){return _[Dt].onComplete(null,!0,_[Dt].currentOutputSnapshotResolved)}),_[Dt].unwatcher()},st=0;st<_.length;st++)gt(st);for(Al(g,Zc(g.transactionQueueTree_,p)),$o(g,g.transactionQueueTree_),Xn(g.eventQueue_,p,ke),st=0;st<Ve.length;st++)ts(Ve[st])}else{if("datastale"===Ee)for(st=0;st<_.length;st++)_[st].status=3===_[st].status?4:0;else for(ln("transaction at "+ue.toString()+" failed: "+Ee),st=0;st<_.length;st++)_[st].status=4,_[st].abortReason=Ee;ja(g,p)}},I)}(g,Cl(p),_)}else Ig(p)&&Va(p,function(S){$o(g,S)})}function ja(g,p){var _=mv(g,p),b=Cl(_);return function(g,p,_){if(0!==p.length){for(var b=[],S=[],I=p.filter(function(z){return 0===z.status}).map(function(z){return z.currentWriteId}),P=function(z){var ke,q=p[z],ue=Rn(_,q.path),Ee=!1;if((0,k.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===q.status)Ee=!0,ke=q.abortReason,S=S.concat(Ci(g.serverSyncTree_,q.currentWriteId,!0));else if(0===q.status)if(q.retryCount>=25)Ee=!0,ke="maxretry",S=S.concat(Ci(g.serverSyncTree_,q.currentWriteId,!0));else{var Ve=rr(g,q.path,I);q.currentInputSnapshot=Ve;var gt=p[z].update(Ve.val());if(void 0!==gt){Sl("transaction failed: Data returned ",gt,q.path);var st=On(gt);"object"==typeof gt&&null!=gt&&(0,k.r3)(gt,".priority")||(st=st.updatePriority(Ve.getPriority()));var Hn=q.currentWriteId,ls=ju(g),Ya=Nu(st,Ve,ls);q.currentOutputSnapshotRaw=st,q.currentOutputSnapshotResolved=Ya,q.currentWriteId=td(g),I.splice(I.indexOf(Hn),1),S=(S=S.concat(qc(g.serverSyncTree_,q.path,Ya,q.currentWriteId,q.applyLocally))).concat(Ci(g.serverSyncTree_,Hn,!0))}else Ee=!0,ke="nodata",S=S.concat(Ci(g.serverSyncTree_,q.currentWriteId,!0))}Xn(g.eventQueue_,_,S),S=[],Ee&&(p[z].status=2,setTimeout(p[z].unwatcher,Math.floor(0)),p[z].onComplete&&b.push("nodata"===ke?function(){return p[z].onComplete(null,!1,p[z].currentInputSnapshot)}:function(){return p[z].onComplete(new Error(ke),!1,null)}))},L=0;L<p.length;L++)P(L);for(Al(g,g.transactionQueueTree_),L=0;L<b.length;L++)ts(b[L]);$o(g,g.transactionQueueTree_)}}(g,_v(g,_),b),b}function mv(g,p){var _,b=g.transactionQueueTree_;for(_=kt(p);null!==_&&void 0===bn(b);)b=Zc(b,_),_=kt(p=Ft(p));return b}function _v(g,p){var _=[];return lE(g,p,_),_.sort(function(b,S){return b.order-S.order}),_}function lE(g,p,_){var b=bn(p);if(b)for(var S=0;S<b.length;S++)_.push(b[S]);Va(p,function(A){lE(g,A,_)})}function Al(g,p){var _=bn(p);if(_){for(var b=0,S=0;S<_.length;S++)2!==_[S].status&&(_[b]=_[S],b++);_.length=b,Jc(p,_.length>0?_:void 0)}Va(p,function(A){Al(g,A)})}function Hu(g,p){var _=Cl(mv(g,p)),b=Zc(g.transactionQueueTree_,p);return function(g,p,_){for(var b=g.parent;null!==b;){if(p(b))return!0;b=b.parent}}(b,function(S){zu(g,S)}),zu(g,b),Rg(b,function(S){zu(g,S)}),_}function zu(g,p){var _=bn(p);if(_){for(var b=[],S=[],A=-1,I=0;I<_.length;I++)3===_[I].status||(1===_[I].status?((0,k.hu)(A===I-1,"All SENT items should be at beginning of queue."),A=I,_[I].status=3,_[I].abortReason="set"):((0,k.hu)(0===_[I].status,"Unexpected transaction status in abort"),_[I].unwatcher(),S=S.concat(Ci(g.serverSyncTree_,_[I].currentWriteId,!0)),_[I].onComplete&&b.push(_[I].onComplete.bind(null,new Error("set"),!1,null))));for(-1===A?Jc(p,void 0):_.length=A+1,Xn(g.eventQueue_,Cl(p),S),I=0;I<b.length;I++)ts(b[I])}}var qh=function(g,p){var _=yv(g),b=_.namespace;return"firebase.com"===_.domain&&$t(_.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==_.domain&&$t("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),_.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vn(_.host,_.secure,b,p,"ws"===_.scheme||"wss"===_.scheme,"",b!==_.subdomain),path:new Ot(_.pathString)}},yv=function(g){var p="",_="",b="",S="",A="",I=!0,P="https",L=443;if("string"==typeof g){var z=g.indexOf("//");z>=0&&(P=g.substring(0,z-1),g=g.substring(z+2));var q=g.indexOf("/");-1===q&&(q=g.length);var ue=g.indexOf("?");-1===ue&&(ue=g.length),p=g.substring(0,Math.min(q,ue)),q<ue&&(S=function(g){for(var p="",_=g.split("/"),b=0;b<_.length;b++)if(_[b].length>0){var S=_[b];try{S=decodeURIComponent(S.replace(/\+/g," "))}catch(A){}p+="/"+S}return p}(g.substring(q,ue)));var Ee=function(g){var p,_,b={};"?"===g.charAt(0)&&(g=g.substring(1));try{for(var S=(0,te.XA)(g.split("&")),A=S.next();!A.done;A=S.next()){var I=A.value;if(0!==I.length){var P=I.split("=");2===P.length?b[decodeURIComponent(P[0])]=decodeURIComponent(P[1]):ln("Invalid query segment '"+I+"' in query '"+g+"'")}}}catch(L){p={error:L}}finally{try{A&&!A.done&&(_=S.return)&&_.call(S)}finally{if(p)throw p.error}}return b}(g.substring(Math.min(g.length,ue)));(z=p.indexOf(":"))>=0?(I="https"===P||"wss"===P,L=parseInt(p.substring(z+1),10)):z=p.length;var ke=p.slice(0,z);if("localhost"===ke.toLowerCase())_="localhost";else if(ke.split(".").length<=2)_=ke;else{var Ve=p.indexOf(".");b=p.substring(0,Ve).toLowerCase(),_=p.substring(Ve+1),A=b}"ns"in Ee&&(A=Ee.ns)}return{host:p,port:L,domain:_,subdomain:b,secure:I,scheme:P,pathString:S,namespace:A}},Yg=function(){function g(p,_,b,S){this.eventType=p,this.eventRegistration=_,this.snapshot=b,this.prevName=S}return g.prototype.getPath=function(){var p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path},g.prototype.getEventType=function(){return this.eventType},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Pz)(this.snapshot.exportVal())},g}(),qg=function(){function g(p,_,b){this.eventRegistration=p,this.error=_,this.path=b}return g.prototype.getPath=function(){return this.path},g.prototype.getEventType=function(){return"cancel"},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.path.toString()+":cancel"},g}(),$g=function(){function g(p,_){this.snapshotCallback=p,this.cancelCallback=_}return g.prototype.onValue=function(p,_){this.snapshotCallback.call(null,p,_)},g.prototype.onCancel=function(p){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)},Object.defineProperty(g.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),g.prototype.matches=function(p){return this.snapshotCallback===p.snapshotCallback||this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context},g}(),Wg=function(){function g(p,_){this._repo=p,this._path=_}return g.prototype.cancel=function(){var p=new k.BH;return fv(this._repo,this._path,p.wrapCallback(function(){})),p.promise},g.prototype.remove=function(){Hr("OnDisconnect.remove",this._path);var p=new k.BH;return Gg(this._repo,this._path,null,p.wrapCallback(function(){})),p.promise},g.prototype.set=function(p){Hr("OnDisconnect.set",this._path),jr("OnDisconnect.set",p,this._path,!1);var _=new k.BH;return Gg(this._repo,this._path,p,_.wrapCallback(function(){})),_.promise},g.prototype.setWithPriority=function(p,_){Hr("OnDisconnect.setWithPriority",this._path),jr("OnDisconnect.setWithPriority",p,this._path,!1),xl("OnDisconnect.setWithPriority",_,!1);var b=new k.BH;return function(g,p,_,b,S){var A=On(_,b);g.server_.onDisconnectPut(p.toString(),A.val(!0),function(I,P){"ok"===I&&Xs(g.onDisconnect_,p,A),os(0,S,I,P)})}(this._repo,this._path,p,_,b.wrapCallback(function(){})),b.promise},g.prototype.update=function(p){Hr("OnDisconnect.update",this._path),Ga("OnDisconnect.update",p,this._path,!1);var _=new k.BH;return function(g,p,_,b){if((0,k.xb)(_))return ot("onDisconnect().update() called with empty data.  Don't do anything."),void os(0,b,"ok",void 0);g.server_.onDisconnectMerge(p.toString(),_,function(S,A){"ok"===S&&it(_,function(I,P){var L=On(P);Xs(g.onDisconnect_,xt(p,I),L)}),os(0,b,S,A)})}(this._repo,this._path,p,_.wrapCallback(function(){})),_.promise},g}(),qi=function(){function g(p,_,b,S){this._repo=p,this._path=_,this._queryParams=b,this._orderByCalled=S}return Object.defineProperty(g.prototype,"key",{get:function(){return Pt(this._path)?null:_u(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ref",{get:function(){return new Xt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryIdentifier",{get:function(){var p=Au(this._queryParams),_=gn(p);return"{}"===_?"default":_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryObject",{get:function(){return Au(this._queryParams)},enumerable:!1,configurable:!0}),g.prototype.isEqual=function(p){if(!((p=(0,k.m9)(p))instanceof g))return!1;var _=this._repo===p._repo,b=yu(this._path,p._path);return _&&b&&this._queryIdentifier===p._queryIdentifier},g.prototype.toJSON=function(){return this.toString()},g.prototype.toString=function(){return this._repo.toString()+function(g){for(var p="",_=g.pieceNum_;_<g.pieces_.length;_++)""!==g.pieces_[_]&&(p+="/"+encodeURIComponent(String(g.pieces_[_])));return p||"/"}(this._path)},g}();function Yu(g,p){if(!0===g._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function Is(g){var p=null,_=null;if(g.hasStart()&&(p=g.getIndexStartValue()),g.hasEnd()&&(_=g.getIndexEndValue()),g.getIndex()===xs){var b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",S="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==de)throw new Error(b);if("string"!=typeof p)throw new Error(S)}if(g.hasEnd()){if(g.getIndexEndName()!==Me)throw new Error(b);if("string"!=typeof _)throw new Error(S)}}else if(g.getIndex()===dn){if(null!=p&&!no(p)||null!=_&&!no(_))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(g.getIndex()instanceof pl||g.getIndex()===bu,"unknown index type."),null!=p&&"object"==typeof p||null!=_&&"object"==typeof _)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $h(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Xt=function(g){function p(_,b){return g.call(this,_,b,new fg,!1)||this}return(0,te.ZT)(p,g),Object.defineProperty(p.prototype,"parent",{get:function(){var _=er(this._path);return null===_?null:new p(this._repo,_)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"root",{get:function(){for(var _=this;null!==_.parent;)_=_.parent;return _},enumerable:!1,configurable:!0}),p}(qi),id=function(){function g(p,_,b){this._node=p,this.ref=_,this._index=b}return Object.defineProperty(g.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),g.prototype.child=function(p){var _=new Ot(p),b=Wo(this.ref,p);return new g(this._node.getChild(_),b,dn)},g.prototype.exists=function(){return!this._node.isEmpty()},g.prototype.exportVal=function(){return this._node.val(!0)},g.prototype.forEach=function(p){var _=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(S,A){return p(new g(A,Wo(_.ref,S),dn))})},g.prototype.hasChild=function(p){var _=new Ot(p);return!this._node.getChild(_).isEmpty()},g.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},g.prototype.toJSON=function(){return this.exportVal()},g.prototype.val=function(){return this._node.val()},g}();function Qg(g,p){return(g=(0,k.m9)(g))._checkNotDeleted("ref"),void 0!==p?Wo(g._root,p):g._root}function rd(g,p){(g=(0,k.m9)(g))._checkNotDeleted("refFromURL");var _=qh(p,g._repo.repoInfo_.nodeAdmin);Fg("refFromURL",_);var b=_.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&b.host!==g._repo.repoInfo_.host&&$t("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+g._repo.repoInfo_.host+")"),Qg(g,_.path.toString())}function Wo(g,p){return null===kt((g=(0,k.m9)(g))._path)?((_=p)&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),Gu("child","path",_,!1)):Gu("child","path",p,!1),new Xt(g._repo,xt(g._path,p));var _}function vv(g,p){g=(0,k.m9)(g),Hr("push",g._path),jr("push",p,g._path,!0);var I,_=Gh(g._repo),b=dg(_),S=Wo(g,b),A=Wo(g,b);return I=null!=p?Wh(A,p).then(function(){return A}):Promise.resolve(A),S.then=I.then.bind(I),S.catch=I.then.bind(I,void 0),S}function bv(g){return Hr("remove",g._path),Wh(g,null)}function Wh(g,p){g=(0,k.m9)(g),Hr("set",g._path),jr("set",p,g._path,!1);var _=new k.BH;return Yo(g._repo,g._path,p,null,_.wrapCallback(function(){})),_.promise}function wv(g,p){g=(0,k.m9)(g),Hr("setPriority",g._path),xl("setPriority",p,!1);var _=new k.BH;return Yo(g._repo,xt(g._path,".priority"),p,null,_.wrapCallback(function(){})),_.promise}function dE(g,p,_){if(Hr("setWithPriority",g._path),jr("setWithPriority",p,g._path,!1),xl("setWithPriority",_,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";var b=new k.BH;return Yo(g._repo,g._path,p,_,b.wrapCallback(function(){})),b.promise}function hE(g,p){Ga("update",p,g._path,!1);var _=new k.BH;return function(g,p,_,b){Dl(g,"update",{path:p.toString(),value:_});var S=!0,A=ju(g),I={};if(it(_,function(z,q){S=!1,I[z]=uv(xt(p,z),On(q),g.serverSyncTree_,A)}),S)ot("update() called with empty data.  Don't do anything."),os(0,b,"ok",void 0);else{var P=td(g),L=function(g,p,_,b){!function(g,p,_,b){(0,k.hu)(b>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:p,children:_,writeId:b,visible:!0}),g.visibleWrites=Io(g.visibleWrites,p,_),g.lastWriteId=b}(g.pendingWriteTree_,p,_,b);var S=mr.fromObject(_);return Na(g,new Lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,S))}(g.serverSyncTree_,p,I,P);zr(g.eventQueue_,L),g.server_.merge(p.toString(),_,function(z,q){var ue="ok"===z;ue||ln("update at "+p+" failed: "+z);var Ee=Ci(g.serverSyncTree_,P,!ue),ke=Ee.length>0?ja(g,p):p;Xn(g.eventQueue_,ke,Ee),os(0,b,z,q)}),it(_,function(z){var q=Hu(g,xt(p,z));ja(g,q)}),Xn(g.eventQueue_,p,[])}}(g._repo,g._path,p,_.wrapCallback(function(){})),_.promise}function Kg(g){return function(g,p){var _=function(g,p){var _=p._path,b=null;g.syncPointTree_.foreachOnPath(_,function(z,q){var ue=Rn(z,_);b=b||Ra(q,ue)});var S=g.syncPointTree_.get(_);S?b=b||Ra(S,Xe()):(S=new Oh,g.syncPointTree_=g.syncPointTree_.set(_,S));var A=null!=b,I=A?new Mo(b,!0,!1):null;return function(g){return Bc(g.viewCache_)}(Mg(S,p,Oo(g.pendingWriteTree_,p._path),A?I.getNode():_t.EMPTY_NODE,A))}(g.serverSyncTree_,p);return null!=_?Promise.resolve(_):g.server_.get(p).then(function(b){var S=On(b).withIndex(p._queryParams.getIndex()),A=Vo(g.serverSyncTree_,p._path,S);return Ua(g.eventQueue_,p._path,A),Promise.resolve(S)},function(b){return Dl(g,"get for query "+(0,k.Pz)(p)+" failed: "+b),Promise.reject(new Error(b))})}((g=(0,k.m9)(g))._repo,g).then(function(p){return new id(p,new Xt(g._repo,g._path),g._queryParams.getIndex())})}var Ml=function(){function g(p){this.callbackContext=p}return g.prototype.respondsTo=function(p){return"value"===p},g.prototype.createEvent=function(p,_){var b=_._queryParams.getIndex();return new Yg("value",this,new id(p.snapshotNode,new Xt(_._repo,_._path),b))},g.prototype.getEventRunner=function(p){var _=this;return"cancel"===p.getEventType()?function(){return _.callbackContext.onCancel(p.error)}:function(){return _.callbackContext.onValue(p.snapshot,null)}},g.prototype.createCancelEvent=function(p,_){return this.callbackContext.hasCancelCallback?new qg(this,p,_):null},g.prototype.matches=function(p){return p instanceof g&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))},g.prototype.hasAnyCallback=function(){return null!==this.callbackContext},g}(),Ii=function(){function g(p,_){this.eventType=p,this.callbackContext=_}return g.prototype.respondsTo=function(p){var _="children_added"===p?"child_added":p;return this.eventType===("children_removed"===_?"child_removed":_)},g.prototype.createCancelEvent=function(p,_){return this.callbackContext.hasCancelCallback?new qg(this,p,_):null},g.prototype.createEvent=function(p,_){(0,k.hu)(null!=p.childName,"Child events should have a childName.");var b=Wo(new Xt(_._repo,_._path),p.childName),S=_._queryParams.getIndex();return new Yg(p.type,this,new id(p.snapshotNode,b,S),p.prevName)},g.prototype.getEventRunner=function(p){var _=this;return"cancel"===p.getEventType()?function(){return _.callbackContext.onCancel(p.error)}:function(){return _.callbackContext.onValue(p.snapshot,p.prevName)}},g.prototype.matches=function(p){return p instanceof g&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))},g.prototype.hasAnyCallback=function(){return!!this.callbackContext},g}();function Ha(g,p,_,b,S){var A;if("object"==typeof b&&(A=void 0,S=b),"function"==typeof b&&(A=b),S&&S.onlyOnce){var I=_,P=function(q,ue){zh(g._repo,g,z),I(q,ue)};P.userCallback=_.userCallback,P.context=_.context,_=P}var L=new $g(_,A||void 0),z="value"===p?new Ml(L):new Ii(p,L);return function(g,p,_){var b;b=".info"===kt(p._path)?lv(g.infoSyncTree_,p,_):lv(g.serverSyncTree_,p,_),Ua(g.eventQueue_,p._path,b)}(g._repo,g,z),function(){return zh(g._repo,g,z)}}function sd(g,p,_,b){return Ha(g,"value",p,_,b)}function Qh(g,p,_,b){return Ha(g,"child_added",p,_,b)}function Ei(g,p,_,b){return Ha(g,"child_changed",p,_,b)}function Tl(g,p,_,b){return Ha(g,"child_moved",p,_,b)}function od(g,p,_,b){return Ha(g,"child_removed",p,_,b)}function Cv(g,p,_){var b=null,S=_?new $g(_):null;"value"===p?b=new Ml(S):p&&(b=new Ii(p,S)),zh(g._repo,g,b)}var Yr=function(){},ad=function(g){function p(_,b){var S=g.call(this)||this;return S._value=_,S._key=b,S}return(0,te.ZT)(p,g),p.prototype._apply=function(_){jr("endAt",this._value,_._path,!0);var b=xu(_._queryParams,this._value,this._key);if($h(b),Is(b),_._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qi(_._repo,_._path,b,_._orderByCalled)},p}(Yr);function Ev(g,p){return Vu("endAt","key",p,!0),new ad(g,p)}var Zg=function(g){function p(_,b){var S=g.call(this)||this;return S._value=_,S._key=b,S}return(0,te.ZT)(p,g),p.prototype._apply=function(_){jr("endBefore",this._value,_._path,!1);var b=function(g,p,_){var S;return g.index_===xs?("string"==typeof p&&(p=Do(p)),S=xu(g,p,_)):S=xu(g,p,null==_?de:Do(_)),S.endBeforeSet_=!0,S}(_._queryParams,this._value,this._key);if($h(b),Is(b),_._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qi(_._repo,_._path,b,_._orderByCalled)},p}(Yr);function Sv(g,p){return Vu("endBefore","key",p,!0),new Zg(g,p)}var Kh=function(g){function p(_,b){var S=g.call(this)||this;return S._value=_,S._key=b,S}return(0,te.ZT)(p,g),p.prototype._apply=function(_){jr("startAt",this._value,_._path,!0);var b=Su(_._queryParams,this._value,this._key);if($h(b),Is(b),_._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qi(_._repo,_._path,b,_._orderByCalled)},p}(Yr);function xv(g,p){return void 0===g&&(g=null),Vu("startAt","key",p,!0),new Kh(g,p)}var fE=function(g){function p(_,b){var S=g.call(this)||this;return S._value=_,S._key=b,S}return(0,te.ZT)(p,g),p.prototype._apply=function(_){jr("startAfter",this._value,_._path,!1);var b=function(g,p,_){var b;return g.index_===xs?("string"==typeof p&&(p=wu(p)),b=Su(g,p,_)):b=Su(g,p,null==_?Me:wu(_)),b.startAfterSet_=!0,b}(_._queryParams,this._value,this._key);if($h(b),Is(b),_._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qi(_._repo,_._path,b,_._orderByCalled)},p}(Yr);function Dv(g,p){return Vu("startAfter","key",p,!0),new fE(g,p)}var Jg=function(g){function p(_){var b=g.call(this)||this;return b._limit=_,b}return(0,te.ZT)(p,g),p.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qi(_._repo,_._path,function(g,p){var _=g.copy();return _.limitSet_=!0,_.limit_=p,_.viewFrom_="l",_}(_._queryParams,this._limit),_._orderByCalled)},p}(Yr);function ld(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jg(g)}var Zh=function(g){function p(_){var b=g.call(this)||this;return b._limit=_,b}return(0,te.ZT)(p,g),p.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qi(_._repo,_._path,function(g,p){var _=g.copy();return _.limitSet_=!0,_.limit_=p,_.viewFrom_="r",_}(_._queryParams,this._limit),_._orderByCalled)},p}(Yr);function Av(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Zh(g)}var pE=function(g){function p(_){var b=g.call(this)||this;return b._path=_,b}return(0,te.ZT)(p,g),p.prototype._apply=function(_){Yu(_,"orderByChild");var b=new Ot(this._path);if(Pt(b))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var S=new pl(b),A=Hi(_._queryParams,S);return Is(A),new qi(_._repo,_._path,A,!0)},p}(Yr);function Xg(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gu("orderByChild","path",g,!1),new pE(g)}var ud=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),p.prototype._apply=function(_){Yu(_,"orderByKey");var b=Hi(_._queryParams,xs);return Is(b),new qi(_._repo,_._path,b,!0)},p}(Yr);function Mv(){return new ud}var gE=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),p.prototype._apply=function(_){Yu(_,"orderByPriority");var b=Hi(_._queryParams,dn);return Is(b),new qi(_._repo,_._path,b,!0)},p}(Yr);function Il(){return new gE}var Tv=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,te.ZT)(p,g),p.prototype._apply=function(_){Yu(_,"orderByValue");var b=Hi(_._queryParams,bu);return Is(b),new qi(_._repo,_._path,b,!0)},p}(Yr);function em(){return new Tv}var tm=function(g){function p(_,b){var S=g.call(this)||this;return S._value=_,S._key=b,S}return(0,te.ZT)(p,g),p.prototype._apply=function(_){if(jr("equalTo",this._value,_._path,!1),_._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(_._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ad(this._value,this._key)._apply(new Kh(this._value,this._key)._apply(_))},p}(Yr);function Iv(g,p){return Vu("equalTo","key",p,!0),new tm(g,p)}function as(g){for(var p,_,b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];var A=(0,k.m9)(g);try{for(var I=(0,te.XA)(b),P=I.next();!P.done;P=I.next()){var L=P.value;A=L._apply(A)}}catch(z){p={error:z}}finally{try{P&&!P.done&&(_=I.return)&&_.call(I)}finally{if(p)throw p.error}}return A}(function(g){(0,k.hu)(!Rh,"__referenceConstructor has already been defined"),Rh=g})(Xt),function(g){(0,k.hu)(!Hc,"__referenceConstructor has already been defined"),Hc=g}(Xt);var sr={},Jh=!1;function nm(g,p,_,b,S){var A=b||g.options.databaseURL;void 0===A&&(g.options.projectId||$t("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",g.options.projectId),A=g.options.projectId+"-default-rtdb.firebaseio.com");var L,I=qh(A,S),P=I.repoInfo,z=void 0;"undefined"!=typeof process&&(z=process.env.FIREBASE_DATABASE_EMULATOR_HOST),z?(L=!0,P=(I=qh(A="http://"+z+"?ns="+P.namespace,S)).repoInfo):L=!I.repoInfo.secure;var q=S&&L?new Rt(Rt.OWNER):new jt(g.name,g.options,p);Fg("Invalid Firebase Database URL",I),Pt(I.path)||$t("Database URL must point to the root of a Firebase Database (not including a child path).");var ue=function(g,p,_,b){var S=sr[p.name];S||(sr[p.name]=S={});var A=S[g.toURLString()];return A&&$t("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new Vh(g,Jh,_,b),S[g.toURLString()]=A,A}(P,g,q,new mu(g.name,_));return new Rv(ue,g)}var Rv=function(){function g(p,_){this._repoInternal=p,this.app=_,this.type="database",this._instanceStarted=!1}return Object.defineProperty(g.prototype,"_repo",{get:function(){return this._instanceStarted||(function(g,p,_){if(g.stats_=un(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new WC(g.repoInfo_,function(b,S,A,I){Ho(g,b,S,A,I)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(function(){return Bg(g,!0)},0);else{if(null!=_){if("object"!=typeof _)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Pz)(_)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}g.persistentConnection_=new dl(g.repoInfo_,p,function(b,S,A,I){Ho(g,b,S,A,I)},function(b){Bg(g,b)},function(b){!function(g,p){it(p,function(_,b){jh(g,_,b)})}(g,b)},g.authTokenProvider_,g.appCheckProvider_,_),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(function(b){g.server_.refreshAuthToken(b)}),g.appCheckProvider_.addTokenChangeListener(function(b){g.server_.refreshAppCheckToken(b.token)}),g.statsReporter_=function(g,p){var _=g.toString();return Fr[_]||(Fr[_]=p()),Fr[_]}(g.repoInfo_,function(){return new gg(g.stats_,g.server_)}),g.infoData_=new Ky,g.infoSyncTree_=new Yc({startListening:function(b,S,A,I){var P=[],L=g.infoData_.getNode(b._path);return L.isEmpty()||(P=Vo(g.infoSyncTree_,b._path,L),setTimeout(function(){I("ok")},0)),P},stopListening:function(){}}),jh(g,"connected",!1),g.serverSyncTree_=new Yc({startListening:function(b,S,A,I){return g.server_.listen(b,A,S,function(P,L){var z=I(P,L);Xn(g.eventQueue_,b._path,z)}),[]},stopListening:function(b,S){g.server_.unlisten(b,S)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Xt(this._repo,Xe())),this._rootInternal},enumerable:!1,configurable:!0}),g.prototype._delete=function(){return null!==this._rootInternal&&(function(g,p){var _=sr[p];(!_||_[g.key]!==g)&&$t("Database "+p+"("+g.repoInfo_+") has already been deleted."),Yh(g),delete _[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},g.prototype._checkNotDeleted=function(p){null===this._rootInternal&&$t("Cannot call "+p+" on a deleted database.")},g}();function kv(g){(g=(0,k.m9)(g))._checkNotDeleted("goOffline"),Yh(g._repo)}function qu(g){(g=(0,k.m9)(g))._checkNotDeleted("goOnline"),function(g){g.persistentConnection_&&g.persistentConnection_.resume(Uu)}(g._repo)}var Rs={".sv":"timestamp"},sm=function(){function g(p,_){this.committed=p,this.snapshot=_}return g.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}();function bE(g,p,_){var b;if(g=(0,k.m9)(g),Hr("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";var S=null===(b=null==_?void 0:_.applyLocally)||void 0===b||b,A=new k.BH,P=sd(g,function(){});return function(g,p,_,b,S,A){Dl(g,"transaction on "+p);var I={path:p,update:_,onComplete:b,status:null,order:Se(),applyLocally:A,retryCount:0,unwatcher:S,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},P=rr(g,p,void 0);I.currentInputSnapshot=P;var L=I.update(P.val());if(void 0===L)I.unwatcher(),I.currentOutputSnapshotRaw=null,I.currentOutputSnapshotResolved=null,I.onComplete&&I.onComplete(null,!1,I.currentInputSnapshot);else{Sl("transaction failed: Data returned ",L,I.path),I.status=0;var z=Zc(g.transactionQueueTree_,p),q=bn(z)||[];q.push(I),Jc(z,q);var ue=void 0;"object"==typeof L&&null!==L&&(0,k.r3)(L,".priority")?(ue=(0,k.DV)(L,".priority"),(0,k.hu)(no(ue),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ue=($c(g.serverSyncTree_,p)||_t.EMPTY_NODE).getPriority().val();var ke=ju(g),Ve=On(L,ue),gt=Nu(Ve,P,ke);I.currentOutputSnapshotRaw=Ve,I.currentOutputSnapshotResolved=gt,I.currentWriteId=td(g);var st=qc(g.serverSyncTree_,p,gt,I.currentWriteId,I.applyLocally);Xn(g.eventQueue_,p,st),$o(g,g.transactionQueueTree_)}}(g._repo,g._path,p,function(L,z,q){var ue=null;L?A.reject(L):(ue=new id(q,new Xt(g._repo,g._path),dn),A.resolve(new sm(z,ue)))},P,S),A.promise}var Os=function(){function g(p){this._delegate=p}return g.prototype.cancel=function(p){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",p,!0);var _=this._delegate.cancel();return p&&_.then(function(){return p(null)},function(b){return p(b)}),_},g.prototype.remove=function(p){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",p,!0);var _=this._delegate.remove();return p&&_.then(function(){return p(null)},function(b){return p(b)}),_},g.prototype.set=function(p,_){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",_,!0);var b=this._delegate.set(p);return _&&b.then(function(){return _(null)},function(S){return _(S)}),b},g.prototype.setWithPriority=function(p,_,b){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",b,!0);var S=this._delegate.setWithPriority(p,_);return b&&S.then(function(){return b(null)},function(A){return b(A)}),S},g.prototype.update=function(p,_){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(p)){for(var b={},S=0;S<p.length;++S)b[""+S]=p[S];p=b,ln("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",_,!0);var A=this._delegate.update(p);return _&&A.then(function(){return _(null)},function(I){return _(I)}),A},g}(),Xh=function(){function g(p,_){this.committed=p,this.snapshot=_}return g.prototype.toJSON=function(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}(),za=function(){function g(p,_){this._database=p,this._delegate=_}return g.prototype.val=function(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},g.prototype.exportVal=function(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},g.prototype.toJSON=function(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.exists=function(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},g.prototype.child=function(p){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),p=String(p),Gu("DataSnapshot.child","path",p,!1),new g(this._database,this._delegate.child(p))},g.prototype.hasChild=function(p){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Gu("DataSnapshot.hasChild","path",p,!1),this._delegate.hasChild(p)},g.prototype.getPriority=function(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},g.prototype.forEach=function(p){var _=this;return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",p,!1),this._delegate.forEach(function(b){return p(new g(_._database,b))})},g.prototype.hasChildren=function(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(g.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),g.prototype.numChildren=function(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},g.prototype.getRef=function(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qo(this._database,this._delegate.ref)},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Fv=function(){function g(p,_){this.database=p,this._delegate=_}return g.prototype.on=function(p,_,b,S){var I,A=this;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",_,!1);var P=g.getCancelAndContextArgs_("Query.on",b,S),L=function(q,ue){_.call(P.context,new za(A.database,q),ue)};L.userCallback=_,L.context=P.context;var z=null===(I=P.cancel)||void 0===I?void 0:I.bind(P.context);switch(p){case"value":return sd(this._delegate,L,z),_;case"child_added":return Qh(this._delegate,L,z),_;case"child_removed":return od(this._delegate,L,z),_;case"child_changed":return Ei(this._delegate,L,z),_;case"child_moved":return Tl(this._delegate,L,z),_;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},g.prototype.off=function(p,_,b){if((0,k.Dv)("Query.off",0,3,arguments.length),dv("Query.off",p,!0),(0,k.Wj)("Query.off","callback",_,!0),(0,k.lb)("Query.off","context",b,!0),_){var S=function(){};S.userCallback=_,S.context=b,Cv(this._delegate,p,S)}else Cv(this._delegate,p)},g.prototype.get=function(){var p=this;return Kg(this._delegate).then(function(_){return new za(p.database,_)})},g.prototype.once=function(p,_,b,S){var A=this;(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",_,!0);var I=g.getCancelAndContextArgs_("Query.once",b,S),P=new k.BH,L=function(q,ue){var Ee=new za(A.database,q);_&&_.call(I.context,Ee,ue),P.resolve(Ee)};L.userCallback=_,L.context=I.context;var z=function(q){I.cancel&&I.cancel.call(I.context,q),P.reject(q)};switch(p){case"value":sd(this._delegate,L,z,{onlyOnce:!0});break;case"child_added":Qh(this._delegate,L,z,{onlyOnce:!0});break;case"child_removed":od(this._delegate,L,z,{onlyOnce:!0});break;case"child_changed":Ei(this._delegate,L,z,{onlyOnce:!0});break;case"child_moved":Tl(this._delegate,L,z,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise},g.prototype.limitToFirst=function(p){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new g(this.database,as(this._delegate,ld(p)))},g.prototype.limitToLast=function(p){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new g(this.database,as(this._delegate,Av(p)))},g.prototype.orderByChild=function(p){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new g(this.database,as(this._delegate,Xg(p)))},g.prototype.orderByKey=function(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new g(this.database,as(this._delegate,Mv()))},g.prototype.orderByPriority=function(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new g(this.database,as(this._delegate,Il()))},g.prototype.orderByValue=function(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new g(this.database,as(this._delegate,em()))},g.prototype.startAt=function(p,_){return void 0===p&&(p=null),(0,k.Dv)("Query.startAt",0,2,arguments.length),new g(this.database,as(this._delegate,xv(p,_)))},g.prototype.startAfter=function(p,_){return void 0===p&&(p=null),(0,k.Dv)("Query.startAfter",0,2,arguments.length),new g(this.database,as(this._delegate,Dv(p,_)))},g.prototype.endAt=function(p,_){return void 0===p&&(p=null),(0,k.Dv)("Query.endAt",0,2,arguments.length),new g(this.database,as(this._delegate,Ev(p,_)))},g.prototype.endBefore=function(p,_){return void 0===p&&(p=null),(0,k.Dv)("Query.endBefore",0,2,arguments.length),new g(this.database,as(this._delegate,Sv(p,_)))},g.prototype.equalTo=function(p,_){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new g(this.database,as(this._delegate,Iv(p,_)))},g.prototype.toString=function(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},g.prototype.toJSON=function(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.isEqual=function(p){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(p instanceof g)){var _="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(_)}return this._delegate.isEqual(p._delegate)},g.getCancelAndContextArgs_=function(p,_,b){var S={cancel:void 0,context:void 0};if(_&&b)S.cancel=_,(0,k.Wj)(p,"cancel",S.cancel,!0),S.context=b,(0,k.lb)(p,"context",S.context,!0);else if(_)if("object"==typeof _&&null!==_)S.context=_;else{if("function"!=typeof _)throw new Error((0,k.gK)(p,"cancelOrContext")+" must either be a cancel callback or a context object.");S.cancel=_}return S},Object.defineProperty(g.prototype,"ref",{get:function(){return new Qo(this.database,new Xt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),g}(),Qo=function(g){function p(_,b){var S=g.call(this,_,new qi(b._repo,b._path,new fg,!1))||this;return S.database=_,S._delegate=b,S}return(0,te.ZT)(p,g),p.prototype.getKey=function(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},p.prototype.child=function(_){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof _&&(_=String(_)),new p(this.database,Wo(this._delegate,_))},p.prototype.getParent=function(){(0,k.Dv)("Reference.parent",0,0,arguments.length);var _=this._delegate.parent;return _?new p(this.database,_):null},p.prototype.getRoot=function(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new p(this.database,this._delegate.root)},p.prototype.set=function(_,b){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",b,!0);var S=Wh(this._delegate,_);return b&&S.then(function(){return b(null)},function(A){return b(A)}),S},p.prototype.update=function(_,b){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(_)){for(var S={},A=0;A<_.length;++A)S[""+A]=_[A];_=S,ln("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hr("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",b,!0);var I=hE(this._delegate,_);return b&&I.then(function(){return b(null)},function(P){return b(P)}),I},p.prototype.setWithPriority=function(_,b,S){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",S,!0);var A=dE(this._delegate,_,b);return S&&A.then(function(){return S(null)},function(I){return S(I)}),A},p.prototype.remove=function(_){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",_,!0);var b=bv(this._delegate);return _&&b.then(function(){return _(null)},function(S){return _(S)}),b},p.prototype.transaction=function(_,b,S){var A=this;(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",_,!1),(0,k.Wj)("Reference.transaction","onComplete",b,!0),gi("Reference.transaction","applyLocally",S,!0);var I=bE(this._delegate,_,{applyLocally:S}).then(function(P){return new Xh(P.committed,new za(A.database,P.snapshot))});return b&&I.then(function(P){return b(null,P.committed,P.snapshot)},function(P){return b(P,!1,null)}),I},p.prototype.setPriority=function(_,b){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",b,!0);var S=wv(this._delegate,_);return b&&S.then(function(){return b(null)},function(A){return b(A)}),S},p.prototype.push=function(_,b){var S=this;(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",b,!0);var A=vv(this._delegate,_),I=A.then(function(L){return new p(S.database,L)});b&&I.then(function(){return b(null)},function(L){return b(L)});var P=new p(this.database,A);return P.then=I.then.bind(I),P.catch=I.catch.bind(I,void 0),P},p.prototype.onDisconnect=function(){return Hr("Reference.onDisconnect",this._delegate._path),new Os(new Wg(this._delegate._repo,this._delegate._path))},Object.defineProperty(p.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),p}(Fv),Ko=function(){function g(p,_){var b=this;this._delegate=p,this.app=_,this.INTERNAL={delete:function(){return b._delegate._delete()}}}return g.prototype.useEmulator=function(p,_,b){void 0===b&&(b={}),function(g,p,_,b){void 0===b&&(b={}),(g=(0,k.m9)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&$t("Cannot call useEmulator() after instance has already been initialized.");var S=g._repoInternal,A=void 0;if(S.repoInfo_.nodeAdmin)b.mockUserToken&&$t('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),A=new Rt(Rt.OWNER);else if(b.mockUserToken){var I=(0,k.Sg)(b.mockUserToken,g.app.options.projectId);A=new Rt(I)}!function(g,p,_,b){g.repoInfo_=new Vn(p+":"+_,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams),b&&(g.authTokenProvider_=b)}(S,p,_,A)}(this._delegate,p,_,b)},g.prototype.ref=function(p){if((0,k.Dv)("database.ref",0,1,arguments.length),p instanceof Qo){var _=rd(this._delegate,p.toString());return new Qo(this,_)}return _=Qg(this._delegate,p),new Qo(this,_)},g.prototype.refFromURL=function(p){var _="database.refFromURL";(0,k.Dv)(_,1,1,arguments.length);var b=rd(this._delegate,p);return new Qo(this,b)},g.prototype.goOffline=function(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),kv(this._delegate)},g.prototype.goOnline=function(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),qu(this._delegate)},g.ServerValue={TIMESTAMP:Rs,increment:function(p){return function(g){return{".sv":{increment:g}}}(p)}},g}(),Pv=Object.freeze({__proto__:null,forceLongPolling:function(){bi.forceDisallow(),Mc.forceAllow()},forceWebSockets:function(){Mc.forceDisallow()},isWebSocketsAvailable:function(){return bi.isAvailable()},setSecurityDebugCallback:function(g,p){g._delegate._repo.persistentConnection_.securityDebugCallback_=p},stats:function(g,p){!function(g,p){if(void 0===p&&(p=!1),"undefined"!=typeof console){var _;p?(g.statsListener_||(g.statsListener_=new As(g.stats_)),_=g.statsListener_.get()):_=g.stats_.get();var b=Object.keys(_).reduce(function(S,A){return Math.max(A.length,S)},0);it(_,function(S,A){for(var I=S,P=S.length;P<b+2;P++)I+=" ";console.log(I+A)})}}(g._delegate._repo,p)},statsIncrementCounter:function(g,p){!function(g,p){g.stats_.incrementCounter(p),function(g,p){g.statsToReport_[p]=!0}(g.statsReporter_,p)}(g._delegate._repo,p)},dataUpdateCount:function(g){return g._delegate._repo.dataUpdateCount},interceptServerData:function(g,p){return function(g,p){g.interceptServerDataCallback_=p}(g._delegate._repo,p)},initStandalone:function(g){var p=g.app,_=g.url,S=g.customAuthImpl,A=g.namespace,I=g.nodeAdmin,P=void 0!==I&&I;Z(g.version);var L=new he.zt("auth-internal",new he.H0("database-standalone"));return L.setComponent(new he.wA("auth-internal",function(){return S},"PRIVATE")),{instance:new Ko(nm(p,L,void 0,_,P),p),namespace:A}}}),rf=dl;dl.prototype.simpleListen=function(g,p){this.sendRequest("q",{p:g},p)},dl.prototype.echo=function(g,p){this.sendRequest("echo",{d:g},p)};var Vv=Object.freeze({__proto__:null,DataConnection:rf,RealTimeConnection:Co,hijackHash:function(g){var p=dl.prototype.put;return dl.prototype.put=function(_,b,S,A){void 0!==A&&(A=g()),p.call(this,_,b,S,A)},function(){dl.prototype.put=p}},ConnectionTarget:Vn,queryIdentifier:function(g){return g._delegate._queryIdentifier},forceRestClient:function(g){!function(g){Jh=g}(g)}}),dm=Ko.ServerValue;!function(g){Z(g.SDK_VERSION);var p=g.INTERNAL.registerComponent(new he.wA("database",function(_,b){var S=b.instanceIdentifier,A=_.getProvider("app").getImmediate(),I=_.getProvider("auth-internal"),P=_.getProvider("app-check-internal");return new Ko(nm(A,I,P,S),A)},"PUBLIC").setServiceProps({Reference:Qo,Query:Fv,Database:Ko,DataSnapshot:za,enableLogging:Ln,INTERNAL:Pv,ServerValue:dm,TEST_ACCESS:Vv}).setMultipleInstances(!0));g.registerVersion("@firebase/database","0.10.9"),(0,k.Yr)()&&(Ze.exports=p)}(u.Z)},300:(Ze,De,j)=>{"use strict";function u(){for(var Y=0,ee=0,ge=arguments.length;ee<ge;ee++)Y+=arguments[ee].length;var Ce=Array(Y),Se=0;for(ee=0;ee<ge;ee++)for(var Ge=arguments[ee],Oe=0,Le=Ge.length;Oe<Le;Oe++,Se++)Ce[Se]=Ge[Oe];return Ce}j.d(De,{in:()=>te,Yd:()=>Z,Ub:()=>H,Am:()=>re});var he,k=[],te=(()=>{return(Y=te||(te={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",te;var Y})(),_e={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},se=te.INFO,J=((he={})[te.DEBUG]="log",he[te.VERBOSE]="log",he[te.INFO]="info",he[te.WARN]="warn",he[te.ERROR]="error",he),ne=function(Y,ee){for(var ge=[],Ce=2;Ce<arguments.length;Ce++)ge[Ce-2]=arguments[Ce];if(!(ee<Y.logLevel)){var Se=(new Date).toISOString(),Ge=J[ee];if(!Ge)throw new Error("Attempted to log a message with an invalid logType (value: "+ee+")");console[Ge].apply(console,u(["["+Se+"]  "+Y.name+":"],ge))}},Z=function(){function Y(ee){this.name=ee,this._logLevel=se,this._logHandler=ne,this._userLogHandler=null,k.push(this)}return Object.defineProperty(Y.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ee){if(!(ee in te))throw new TypeError('Invalid value "'+ee+'" assigned to `logLevel`');this._logLevel=ee},enumerable:!1,configurable:!0}),Y.prototype.setLogLevel=function(ee){this._logLevel="string"==typeof ee?_e[ee]:ee},Object.defineProperty(Y.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ee){this._userLogHandler=ee},enumerable:!1,configurable:!0}),Y.prototype.debug=function(){for(var ee=[],ge=0;ge<arguments.length;ge++)ee[ge]=arguments[ge];this._userLogHandler&&this._userLogHandler.apply(this,u([this,te.DEBUG],ee)),this._logHandler.apply(this,u([this,te.DEBUG],ee))},Y.prototype.log=function(){for(var ee=[],ge=0;ge<arguments.length;ge++)ee[ge]=arguments[ge];this._userLogHandler&&this._userLogHandler.apply(this,u([this,te.VERBOSE],ee)),this._logHandler.apply(this,u([this,te.VERBOSE],ee))},Y.prototype.info=function(){for(var ee=[],ge=0;ge<arguments.length;ge++)ee[ge]=arguments[ge];this._userLogHandler&&this._userLogHandler.apply(this,u([this,te.INFO],ee)),this._logHandler.apply(this,u([this,te.INFO],ee))},Y.prototype.warn=function(){for(var ee=[],ge=0;ge<arguments.length;ge++)ee[ge]=arguments[ge];this._userLogHandler&&this._userLogHandler.apply(this,u([this,te.WARN],ee)),this._logHandler.apply(this,u([this,te.WARN],ee))},Y.prototype.error=function(){for(var ee=[],ge=0;ge<arguments.length;ge++)ee[ge]=arguments[ge];this._userLogHandler&&this._userLogHandler.apply(this,u([this,te.ERROR],ee)),this._logHandler.apply(this,u([this,te.ERROR],ee))},Y}();function H(Y){k.forEach(function(ee){ee.setLogLevel(Y)})}function re(Y,ee){for(var ge=function(Oe){var Le=null;ee&&ee.level&&(Le=_e[ee.level]),Oe.userLogHandler=null===Y?null:function(qt,Ln){for(var ot=[],nn=2;nn<arguments.length;nn++)ot[nn-2]=arguments[nn];var An=ot.map(function($t){if(null==$t)return null;if("string"==typeof $t)return $t;if("number"==typeof $t||"boolean"==typeof $t)return $t.toString();if($t instanceof Error)return $t.message;try{return JSON.stringify($t)}catch(ln){return null}}).filter(function($t){return $t}).join(" ");Ln>=(null!=Le?Le:qt.logLevel)&&Y({level:te[Ln].toLowerCase(),message:An,args:ot,type:qt.name})}},Ce=0,Se=k;Ce<Se.length;Ce++)ge(Se[Ce])}},4685:(Ze,De,j)=>{"use strict";j.d(De,{BH:()=>ee,LL:()=>pe,gQ:()=>Rt,hu:()=>k,g5:()=>te,US:()=>J,h$:()=>ne,r3:()=>Wt,Sg:()=>ge,ne:()=>yi,p$:()=>H,ZB:()=>re,gK:()=>ws,m9:()=>ng,z$:()=>Ce,GJ:()=>mn,jU:()=>Oe,ru:()=>Le,d:()=>Ln,xb:()=>Bn,w1:()=>ot,uI:()=>Se,UG:()=>Ge,Yr:()=>An,b$:()=>qt,G6:()=>$t,Mn:()=>nn,w9:()=>Mt,cI:()=>gn,UI:()=>di,xO:()=>bo,DV:()=>Or,ug:()=>Vn,dS:()=>gh,Pz:()=>rt,Dv:()=>qn,Wj:()=>kr,lb:()=>ri});var u=j(4762),k=function(K,W){if(!K)throw te(W)},te=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},_e=function(K){for(var W=[],ie=0,be=0;be<K.length;be++){var oe=K.charCodeAt(be);oe<128?W[ie++]=oe:oe<2048?(W[ie++]=oe>>6|192,W[ie++]=63&oe|128):55296==(64512&oe)&&be+1<K.length&&56320==(64512&K.charCodeAt(be+1))?(oe=65536+((1023&oe)<<10)+(1023&K.charCodeAt(++be)),W[ie++]=oe>>18|240,W[ie++]=oe>>12&63|128,W[ie++]=oe>>6&63|128,W[ie++]=63&oe|128):(W[ie++]=oe>>12|224,W[ie++]=oe>>6&63|128,W[ie++]=63&oe|128)}return W},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,W){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ie=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[],oe=0;oe<K.length;oe+=3){var Be=K[oe],ft=oe+1<K.length,Lt=ft?K[oe+1]:0,Zt=oe+2<K.length,en=Zt?K[oe+2]:0,Zi=(15&Lt)<<2|en>>6,Ws=63&en;Zt||(Ws=64,ft||(Zi=64)),be.push(ie[Be>>2],ie[(3&Be)<<4|Lt>>4],ie[Zi],ie[Ws])}return be.join("")},encodeString:function(K,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(K):this.encodeByteArray(_e(K),W)},decodeString:function(K,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(K):function(K){for(var W=[],ie=0,be=0;ie<K.length;){var oe=K[ie++];if(oe<128)W[be++]=String.fromCharCode(oe);else if(oe>191&&oe<224){var Be=K[ie++];W[be++]=String.fromCharCode((31&oe)<<6|63&Be)}else if(oe>239&&oe<365){var Zt=((7&oe)<<18|(63&(Be=K[ie++]))<<12|(63&(ft=K[ie++]))<<6|63&K[ie++])-65536;W[be++]=String.fromCharCode(55296+(Zt>>10)),W[be++]=String.fromCharCode(56320+(1023&Zt))}else{Be=K[ie++];var ft=K[ie++];W[be++]=String.fromCharCode((15&oe)<<12|(63&Be)<<6|63&ft)}}return W.join("")}(this.decodeStringToByteArray(K,W))},decodeStringToByteArray:function(K,W){this.init_();for(var ie=W?this.charToByteMapWebSafe_:this.charToByteMap_,be=[],oe=0;oe<K.length;){var Be=ie[K.charAt(oe++)],Lt=oe<K.length?ie[K.charAt(oe)]:0,en=++oe<K.length?ie[K.charAt(oe)]:64,Gi=++oe<K.length?ie[K.charAt(oe)]:64;if(++oe,null==Be||null==Lt||null==en||null==Gi)throw Error();be.push(Be<<2|Lt>>4),64!==en&&(be.push(Lt<<4&240|en>>2),64!==Gi&&be.push(en<<6&192|Gi))}return be},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ne=function(K){var W=_e(K);return J.encodeByteArray(W,!0)},Z=function(K){try{return J.decodeString(K,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function H(K){return re(void 0,K)}function re(K,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return W}for(var be in W)!W.hasOwnProperty(be)||!Y(be)||(K[be]=re(K[be],W[be]));return K}function Y(K){return"__proto__"!==K}var ee=function(){function K(){var W=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ie,be){W.resolve=ie,W.reject=be})}return K.prototype.wrapCallback=function(W){var ie=this;return function(be,oe){be?ie.reject(be):ie.resolve(oe),"function"==typeof W&&(ie.promise.catch(function(){}),1===W.length?W(be):W(be,oe))}},K}();function ge(K,W){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var be=W||"demo-project",oe=K.iat||0,Be=K.sub||K.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ft=(0,u.pi)({iss:"https://securetoken.google.com/"+be,aud:be,iat:oe,exp:oe+3600,auth_time:oe,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},K);return[J.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),J.encodeString(JSON.stringify(ft),!1),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Le(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ln(){return Ce().indexOf("Electron/")>=0}function ot(){var K=Ce();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function nn(){return Ce().indexOf("MSAppHost/")>=0}function An(){return!1}function $t(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Me=function(K){function W(ie,be,oe){var Be=K.call(this,be)||this;return Be.code=ie,Be.customData=oe,Be.name="FirebaseError",Object.setPrototypeOf(Be,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(Be,pe.prototype.create),Be}return(0,u.ZT)(W,K),W}(Error),pe=function(){function K(W,ie,be){this.service=W,this.serviceName=ie,this.errors=be}return K.prototype.create=function(W){for(var ie=[],be=1;be<arguments.length;be++)ie[be-1]=arguments[be];var oe=ie[0]||{},Be=this.service+"/"+W,ft=this.errors[W],Lt=ft?ut(ft,oe):"Error",Zt=this.serviceName+": "+Lt+" ("+Be+").",en=new Me(Be,Zt,oe);return en},K}();function ut(K,W){return K.replace(dt,function(ie,be){var oe=W[be];return null!=oe?String(oe):"<"+be+"?>"})}var dt=/\{\$([^}]+)}/g;function gn(K){return JSON.parse(K)}function rt(K){return JSON.stringify(K)}var it=function(K){var W={},ie={},be={},oe="";try{var Be=K.split(".");W=gn(Z(Be[0])||""),ie=gn(Z(Be[1])||""),oe=Be[2],be=ie.d||{},delete ie.d}catch(ft){}return{header:W,claims:ie,data:be,signature:oe}},Mt=function(K){var ie=it(K).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},mn=function(K){var W=it(K).claims;return"object"==typeof W&&!0===W.admin};function Wt(K,W){return Object.prototype.hasOwnProperty.call(K,W)}function Or(K,W){if(Object.prototype.hasOwnProperty.call(K,W))return K[W]}function Bn(K){for(var W in K)if(Object.prototype.hasOwnProperty.call(K,W))return!1;return!0}function di(K,W,ie){var be={};for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)&&(be[oe]=W.call(ie,K[oe],oe,K));return be}function bo(K){for(var W=[],ie=function(Zt,en){Array.isArray(en)?en.forEach(function(si){W.push(encodeURIComponent(Zt)+"="+encodeURIComponent(si))}):W.push(encodeURIComponent(Zt)+"="+encodeURIComponent(en))},be=0,oe=Object.entries(K);be<oe.length;be++){var Be=oe[be];ie(Be[0],Be[1])}return W.length?"&"+W.join("&"):""}var Rt=function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}return K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function(W,ie){ie||(ie=0);var be=this.W_;if("string"==typeof W)for(var oe=0;oe<16;oe++)be[oe]=W.charCodeAt(ie)<<24|W.charCodeAt(ie+1)<<16|W.charCodeAt(ie+2)<<8|W.charCodeAt(ie+3),ie+=4;else for(oe=0;oe<16;oe++)be[oe]=W[ie]<<24|W[ie+1]<<16|W[ie+2]<<8|W[ie+3],ie+=4;for(oe=16;oe<80;oe++)be[oe]=4294967295&((Be=be[oe-3]^be[oe-8]^be[oe-14]^be[oe-16])<<1|Be>>>31);var Gi,Zi,ft=this.chain_[0],Lt=this.chain_[1],Zt=this.chain_[2],en=this.chain_[3],si=this.chain_[4];for(oe=0;oe<80;oe++){oe<40?oe<20?(Gi=en^Lt&(Zt^en),Zi=1518500249):(Gi=Lt^Zt^en,Zi=1859775393):oe<60?(Gi=Lt&Zt|en&(Lt|Zt),Zi=2400959708):(Gi=Lt^Zt^en,Zi=3395469782);var Be=(ft<<5|ft>>>27)+Gi+si+Zi+be[oe]&4294967295;si=en,en=Zt,Zt=4294967295&(Lt<<30|Lt>>>2),Lt=ft,ft=Be}this.chain_[0]=this.chain_[0]+ft&4294967295,this.chain_[1]=this.chain_[1]+Lt&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+en&4294967295,this.chain_[4]=this.chain_[4]+si&4294967295},K.prototype.update=function(W,ie){if(null!=W){void 0===ie&&(ie=W.length);for(var be=ie-this.blockSize,oe=0,Be=this.buf_,ft=this.inbuf_;oe<ie;){if(0===ft)for(;oe<=be;)this.compress_(W,oe),oe+=this.blockSize;if("string"==typeof W){for(;oe<ie;)if(Be[ft]=W.charCodeAt(oe),++oe,++ft===this.blockSize){this.compress_(Be),ft=0;break}}else for(;oe<ie;)if(Be[ft]=W[oe],++oe,++ft===this.blockSize){this.compress_(Be),ft=0;break}}this.inbuf_=ft,this.total_+=ie}},K.prototype.digest=function(){var W=[],ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var be=this.blockSize-1;be>=56;be--)this.buf_[be]=255&ie,ie/=256;this.compress_(this.buf_);var oe=0;for(be=0;be<5;be++)for(var Be=24;Be>=0;Be-=8)W[oe]=this.chain_[be]>>Be&255,++oe;return W},K}();function yi(K,W){var ie=new vi(K,W);return ie.subscribe.bind(ie)}var vi=function(){function K(W,ie){var be=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(function(){W(be)}).catch(function(oe){be.error(oe)})}return K.prototype.next=function(W){this.forEachObserver(function(ie){ie.next(W)})},K.prototype.error=function(W){this.forEachObserver(function(ie){ie.error(W)}),this.close(W)},K.prototype.complete=function(){this.forEachObserver(function(W){W.complete()}),this.close()},K.prototype.subscribe=function(W,ie,be){var Be,oe=this;if(void 0===W&&void 0===ie&&void 0===be)throw new Error("Missing Observer.");void 0===(Be=function(K,W){if("object"!=typeof K||null===K)return!1;for(var ie=0,be=["next","error","complete"];ie<be.length;ie++){var oe=be[ie];if(oe in K&&"function"==typeof K[oe])return!0}return!1}(W)?W:{next:W,error:ie,complete:be}).next&&(Be.next=Zn),void 0===Be.error&&(Be.error=Zn),void 0===Be.complete&&(Be.complete=Zn);var ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{oe.finalError?Be.error(oe.finalError):Be.complete()}catch(Lt){}}),this.observers.push(Be),ft},K.prototype.unsubscribeOne=function(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function(W){if(!this.finalized)for(var ie=0;ie<this.observers.length;ie++)this.sendOne(ie,W)},K.prototype.sendOne=function(W,ie){var be=this;this.task.then(function(){if(void 0!==be.observers&&void 0!==be.observers[W])try{ie(be.observers[W])}catch(oe){"undefined"!=typeof console&&console.error&&console.error(oe)}})},K.prototype.close=function(W){var ie=this;this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(function(){ie.observers=void 0,ie.onNoObservers=void 0}))},K}();function Zn(){}var qn=function(K,W,ie,be){var oe;if(be<W?oe="at least "+W:be>ie&&(oe=0===ie?"none":"no more than "+ie),oe)throw new Error(K+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+oe+".")};function ws(K,W){return K+" failed: "+W+" argument "}function kr(K,W,ie,be){if((!be||ie)&&"function"!=typeof ie)throw new Error(ws(K,W)+"must be a valid function.")}function ri(K,W,ie,be){if((!be||ie)&&("object"!=typeof ie||null===ie))throw new Error(ws(K,W)+"must be a valid context object.")}var gh=function(K){for(var W=[],ie=0,be=0;be<K.length;be++){var oe=K.charCodeAt(be);if(oe>=55296&&oe<=56319){var Be=oe-55296;be++,k(be<K.length,"Surrogate pair missing trail surrogate."),oe=65536+(Be<<10)+(K.charCodeAt(be)-56320)}oe<128?W[ie++]=oe:oe<2048?(W[ie++]=oe>>6|192,W[ie++]=63&oe|128):oe<65536?(W[ie++]=oe>>12|224,W[ie++]=oe>>6&63|128,W[ie++]=63&oe|128):(W[ie++]=oe>>18|240,W[ie++]=oe>>12&63|128,W[ie++]=oe>>6&63|128,W[ie++]=63&oe|128)}return W},Vn=function(K){for(var W=0,ie=0;ie<K.length;ie++){var be=K.charCodeAt(ie);be<128?W++:be<2048?W+=2:be>=55296&&be<=56319?(W+=4,ie++):W+=3}return W};function ng(K){return K&&K._delegate?K._delegate:K}},2329:(Ze,De,j)=>{"use strict";j.d(De,{Z:()=>u.Z});var u=j(9759),k="8.9.1";u.Z.registerVersion("firebase",k,"app"),u.Z.SDK_VERSION=k},3098:(Ze,De,j)=>{"use strict";j.d(De,{P:()=>_e});var u=j(9193),he=j(5917),k=j(205);class _e{constructor(J,ne,Z){this.kind=J,this.value=ne,this.error=Z,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,ne,Z){switch(this.kind){case"N":return J&&J(this.value);case"E":return ne&&ne(this.error);case"C":return Z&&Z()}}accept(J,ne,Z){return J&&"function"==typeof J.next?this.observe(J):this.do(J,ne,Z)}toObservable(){switch(this.kind){case"N":return(0,he.of)(this.value);case"E":return(0,k._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new _e("N",J):_e.undefinedValueNotification}static createError(J){return new _e("E",void 0,J)}static createComplete(){return _e.completeNotification}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0)},7574:(Ze,De,j)=>{"use strict";j.d(De,{y:()=>re});var u=j(7393),k=j(9181),te=j(6490),se=j(6554),J=j(4487);var H=j(2494);let re=(()=>{class ee{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const Se=new ee;return Se.source=this,Se.operator=Ce,Se}subscribe(Ce,Se,Ge){const{operator:Oe}=this,Le=function(ee,ge,Ce){if(ee){if(ee instanceof u.L)return ee;if(ee[k.b])return ee[k.b]()}return ee||ge||Ce?new u.L(ee,ge,Ce):new u.L(te.c)}(Ce,Se,Ge);if(Le.add(Oe?Oe.call(Le,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!Le.syncErrorThrowable?this._subscribe(Le):this._trySubscribe(Le)),H.v.useDeprecatedSynchronousErrorHandling&&Le.syncErrorThrowable&&(Le.syncErrorThrowable=!1,Le.syncErrorThrown))throw Le.syncErrorValue;return Le}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Se){H.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=Se),function(ee){for(;ee;){const{closed:ge,destination:Ce,isStopped:Se}=ee;if(ge||Se)return!1;ee=Ce&&Ce instanceof u.L?Ce:null}return!0}(Ce)?Ce.error(Se):console.warn(Se)}}forEach(Ce,Se){return new(Se=Y(Se))((Ge,Oe)=>{let Le;Le=this.subscribe(qt=>{try{Ce(qt)}catch(Ln){Oe(Ln),Le&&Le.unsubscribe()}},Oe,Ge)})}_subscribe(Ce){const{source:Se}=this;return Se&&Se.subscribe(Ce)}[se.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(ee){return 0===ee.length?J.y:1===ee.length?ee[0]:function(Ce){return ee.reduce((Se,Ge)=>Ge(Se),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=Y(Ce))((Se,Ge)=>{let Oe;this.subscribe(Le=>Oe=Le,Le=>Ge(Le),()=>Se(Oe))})}}return ee.create=ge=>new ee(ge),ee})();function Y(ee){if(ee||(ee=H.v.Promise||Promise),!ee)throw new Error("no Promise impl found");return ee}},6490:(Ze,De,j)=>{"use strict";j.d(De,{c:()=>k});var u=j(2494),he=j(4449);const k={closed:!0,next(te){},error(te){if(u.v.useDeprecatedSynchronousErrorHandling)throw te;(0,he.z)(te)},complete(){}}},9765:(Ze,De,j)=>{"use strict";j.d(De,{Yc:()=>J,xQ:()=>ne});var u=j(7574),he=j(7393),k=j(5319),te=j(7971),_e=j(8858),se=j(9181);class J extends he.L{constructor(re){super(re),this.destination=re}}let ne=(()=>{class H extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new J(this)}lift(Y){const ee=new Z(this,this);return ee.operator=Y,ee}next(Y){if(this.closed)throw new te.N;if(!this.isStopped){const{observers:ee}=this,ge=ee.length,Ce=ee.slice();for(let Se=0;Se<ge;Se++)Ce[Se].next(Y)}}error(Y){if(this.closed)throw new te.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:ee}=this,ge=ee.length,Ce=ee.slice();for(let Se=0;Se<ge;Se++)Ce[Se].error(Y);this.observers.length=0}complete(){if(this.closed)throw new te.N;this.isStopped=!0;const{observers:Y}=this,ee=Y.length,ge=Y.slice();for(let Ce=0;Ce<ee;Ce++)ge[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new te.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new te.N;return this.hasError?(Y.error(this.thrownError),k.w.EMPTY):this.isStopped?(Y.complete(),k.w.EMPTY):(this.observers.push(Y),new _e.W(this,Y))}asObservable(){const Y=new u.y;return Y.source=this,Y}}return H.create=(re,Y)=>new Z(re,Y),H})();class Z extends ne{constructor(re,Y){super(),this.destination=re,this.source=Y}next(re){const{destination:Y}=this;Y&&Y.next&&Y.next(re)}error(re){const{destination:Y}=this;Y&&Y.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:Y}=this;return Y?this.source.subscribe(re):k.w.EMPTY}}},8858:(Ze,De,j)=>{"use strict";j.d(De,{W:()=>he});var u=j(5319);class he extends u.w{constructor(te,_e){super(),this.subject=te,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const te=this.subject,_e=te.observers;if(this.subject=null,!_e||0===_e.length||te.isStopped||te.closed)return;const se=_e.indexOf(this.subscriber);-1!==se&&_e.splice(se,1)}}},7393:(Ze,De,j)=>{"use strict";j.d(De,{L:()=>J});var u=j(9105),he=j(6490),k=j(5319),te=j(9181),_e=j(2494),se=j(4449);class J extends k.w{constructor(H,re,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=he.c;break;case 1:if(!H){this.destination=he.c;break}if("object"==typeof H){H instanceof J?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new ne(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new ne(this,H,re,Y)}}[te.b](){return this}static create(H,re,Y){const ee=new J(H,re,Y);return ee.syncErrorThrowable=!1,ee}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class ne extends J{constructor(H,re,Y,ee){super(),this._parentSubscriber=H;let ge,Ce=this;(0,u.m)(re)?ge=re:re&&(ge=re.next,Y=re.error,ee=re.complete,re!==he.c&&(Ce=Object.create(re),(0,u.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=ge,this._error=Y,this._complete=ee}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;_e.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:Y}=_e.v;if(this._error)Y&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(re.syncErrorThrowable)Y?(re.syncErrorValue=H,re.syncErrorThrown=!0):(0,se.z)(H),this.unsubscribe();else{if(this.unsubscribe(),Y)throw H;(0,se.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const re=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,re){try{H.call(this._context,re)}catch(Y){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,se.z)(Y)}}__tryOrSetError(H,re,Y){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,Y)}catch(ee){return _e.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=ee,H.syncErrorThrown=!0,!0):((0,se.z)(ee),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(Ze,De,j)=>{"use strict";j.d(De,{w:()=>se});var u=j(9796),he=j(1555),k=j(9105);const _e=(()=>{function ne(Z){return Error.call(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((H,re)=>`${re+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z,this}return ne.prototype=Object.create(Error.prototype),ne})();class se{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:re,_unsubscribe:Y,_subscriptions:ee}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof se)H.remove(this);else if(null!==H)for(let ge=0;ge<H.length;++ge)H[ge].remove(this);if((0,k.m)(Y)){re&&(this._unsubscribe=void 0);try{Y.call(this)}catch(ge){Z=ge instanceof _e?J(ge.errors):[ge]}}if((0,u.k)(ee)){let ge=-1,Ce=ee.length;for(;++ge<Ce;){const Se=ee[ge];if((0,he.K)(Se))try{Se.unsubscribe()}catch(Ge){Z=Z||[],Ge instanceof _e?Z=Z.concat(J(Ge.errors)):Z.push(Ge)}}}if(Z)throw new _e(Z)}add(Z){let H=Z;if(!Z)return se.EMPTY;switch(typeof Z){case"function":H=new se(Z);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof se)){const ee=H;H=new se,H._subscriptions=[ee]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:re}=H;if(null===re)H._parentOrParents=this;else if(re instanceof se){if(re===this)return H;H._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return H;re.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[H]:Y.push(H),H}remove(Z){const H=this._subscriptions;if(H){const re=H.indexOf(Z);-1!==re&&H.splice(re,1)}}}var ne;function J(ne){return ne.reduce((Z,H)=>Z.concat(H instanceof _e?H.errors:H),[])}se.EMPTY=((ne=new se).closed=!0,ne)},2494:(Ze,De,j)=>{"use strict";j.d(De,{v:()=>he});let u=!1;const he={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const te=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+te.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=k},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ze,De,j)=>{"use strict";j.d(De,{IY:()=>te,Ds:()=>se,ft:()=>ne});var u=j(7393),he=j(7574),k=j(7444);class te extends u.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends u.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function ne(Z,H){if(H.closed)return;if(Z instanceof he.y)return Z.subscribe(H);let re;try{re=(0,k.s)(Z)(H)}catch(Y){H.error(Y)}return re}},2441:(Ze,De,j)=>{"use strict";j.d(De,{c:()=>_e,N:()=>se});var u=j(9765),he=j(7574),k=j(5319),te=j(1307);class _e extends he.y{constructor(re,Y){super(),this.source=re,this.subjectFactory=Y,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new k.w,re.add(this.source.subscribe(new J(this.getSubject(),this))),re.closed&&(this._connection=null,re=k.w.EMPTY)),re}refCount(){return(0,te.x)()(this)}}const se=(()=>{const H=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class J extends u.Yc{constructor(re,Y){super(re),this.connectable=Y}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const Y=re._connection;re._refCount=0,re._subject=null,re._connection=null,Y&&Y.unsubscribe()}}}},9193:(Ze,De,j)=>{"use strict";j.d(De,{E:()=>he,c:()=>k});var u=j(7574);const he=new u.y(_e=>_e.complete());function k(_e){return _e?function(_e){return new u.y(se=>_e.schedule(()=>se.complete()))}(_e):he}},4402:(Ze,De,j)=>{"use strict";j.d(De,{D:()=>Ce});var u=j(7574),he=j(7444),k=j(5319),te=j(6554),J=j(4087),ne=j(377),re=j(4072),Y=j(9489);function Ce(Se,Ge){return Ge?function(Se,Ge){if(null!=Se){if(function(Se){return Se&&"function"==typeof Se[te.L]}(Se))return function(Se,Ge){return new u.y(Oe=>{const Le=new k.w;return Le.add(Ge.schedule(()=>{const qt=Se[te.L]();Le.add(qt.subscribe({next(Ln){Le.add(Ge.schedule(()=>Oe.next(Ln)))},error(Ln){Le.add(Ge.schedule(()=>Oe.error(Ln)))},complete(){Le.add(Ge.schedule(()=>Oe.complete()))}}))})),Le})}(Se,Ge);if((0,re.t)(Se))return function(Se,Ge){return new u.y(Oe=>{const Le=new k.w;return Le.add(Ge.schedule(()=>Se.then(qt=>{Le.add(Ge.schedule(()=>{Oe.next(qt),Le.add(Ge.schedule(()=>Oe.complete()))}))},qt=>{Le.add(Ge.schedule(()=>Oe.error(qt)))}))),Le})}(Se,Ge);if((0,Y.z)(Se))return(0,J.r)(Se,Ge);if(function(Se){return Se&&"function"==typeof Se[ne.hZ]}(Se)||"string"==typeof Se)return function(Se,Ge){if(!Se)throw new Error("Iterable cannot be null");return new u.y(Oe=>{const Le=new k.w;let qt;return Le.add(()=>{qt&&"function"==typeof qt.return&&qt.return()}),Le.add(Ge.schedule(()=>{qt=Se[ne.hZ](),Le.add(Ge.schedule(function(){if(Oe.closed)return;let Ln,ot;try{const nn=qt.next();Ln=nn.value,ot=nn.done}catch(nn){return void Oe.error(nn)}ot?Oe.complete():(Oe.next(Ln),this.schedule())}))})),Le})}(Se,Ge)}throw new TypeError((null!==Se&&typeof Se||Se)+" is not observable")}(Se,Ge):Se instanceof u.y?Se:new u.y((0,he.s)(Se))}},6693:(Ze,De,j)=>{"use strict";j.d(De,{n:()=>te});var u=j(7574),he=j(5015),k=j(4087);function te(_e,se){return se?(0,k.r)(_e,se):new u.y((0,he.V)(_e))}},6682:(Ze,De,j)=>{"use strict";j.d(De,{T:()=>_e});var u=j(7574),he=j(4869),k=j(3282),te=j(6693);function _e(...se){let J=Number.POSITIVE_INFINITY,ne=null,Z=se[se.length-1];return(0,he.K)(Z)?(ne=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(J=se.pop())):"number"==typeof Z&&(J=se.pop()),null===ne&&1===se.length&&se[0]instanceof u.y?se[0]:(0,k.J)(J)((0,te.n)(se,ne))}},5917:(Ze,De,j)=>{"use strict";j.d(De,{of:()=>te});var u=j(4869),he=j(6693),k=j(4087);function te(..._e){let se=_e[_e.length-1];return(0,u.K)(se)?(_e.pop(),(0,k.r)(_e,se)):(0,he.n)(_e)}},205:(Ze,De,j)=>{"use strict";j.d(De,{_:()=>he});var u=j(7574);function he(te,_e){return new u.y(_e?se=>_e.schedule(k,0,{error:te,subscriber:se}):se=>se.error(te))}function k({error:te,subscriber:_e}){_e.error(te)}},8002:(Ze,De,j)=>{"use strict";j.d(De,{U:()=>he});var u=j(7393);function he(_e,se){return function(ne){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new k(_e,se))}}class k{constructor(se,J){this.project=se,this.thisArg=J}call(se,J){return J.subscribe(new te(se,this.project,this.thisArg))}}class te extends u.L{constructor(se,J,ne){super(se),this.project=J,this.count=0,this.thisArg=ne||this}_next(se){let J;try{J=this.project.call(this.thisArg,se,this.count++)}catch(ne){return void this.destination.error(ne)}this.destination.next(J)}}},3282:(Ze,De,j)=>{"use strict";j.d(De,{J:()=>k});var u=j(9773),he=j(4487);function k(te=Number.POSITIVE_INFINITY){return(0,u.zg)(he.y,te)}},9773:(Ze,De,j)=>{"use strict";j.d(De,{zg:()=>te});var u=j(8002),he=j(4402),k=j(5345);function te(ne,Z,H=Number.POSITIVE_INFINITY){return"function"==typeof Z?re=>re.pipe(te((Y,ee)=>(0,he.D)(ne(Y,ee)).pipe((0,u.U)((ge,Ce)=>Z(Y,ge,ee,Ce))),H)):("number"==typeof Z&&(H=Z),re=>re.lift(new _e(ne,H)))}class _e{constructor(Z,H=Number.POSITIVE_INFINITY){this.project=Z,this.concurrent=H}call(Z,H){return H.subscribe(new se(Z,this.project,this.concurrent))}}class se extends k.Ds{constructor(Z,H,re=Number.POSITIVE_INFINITY){super(Z),this.project=H,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Z){this.active<this.concurrent?this._tryNext(Z):this.buffer.push(Z)}_tryNext(Z){let H;const re=this.index++;try{H=this.project(Z,re)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(H)}_innerSub(Z){const H=new k.IY(this),re=this.destination;re.add(H);const Y=(0,k.ft)(Z,H);Y!==H&&re.add(Y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Z){this.destination.next(Z)}notifyComplete(){const Z=this.buffer;this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ze,De,j)=>{"use strict";j.d(De,{QV:()=>k,ht:()=>_e});var u=j(7393),he=j(3098);function k(J,ne=0){return function(H){return H.lift(new te(J,ne))}}class te{constructor(ne,Z=0){this.scheduler=ne,this.delay=Z}call(ne,Z){return Z.subscribe(new _e(ne,this.scheduler,this.delay))}}class _e extends u.L{constructor(ne,Z,H=0){super(ne),this.scheduler=Z,this.delay=H}static dispatch(ne){const{notification:Z,destination:H}=ne;Z.observe(H),this.unsubscribe()}scheduleMessage(ne){this.destination.add(this.scheduler.schedule(_e.dispatch,this.delay,new se(ne,this.destination)))}_next(ne){this.scheduleMessage(he.P.createNext(ne))}_error(ne){this.scheduleMessage(he.P.createError(ne)),this.unsubscribe()}_complete(){this.scheduleMessage(he.P.createComplete()),this.unsubscribe()}}class se{constructor(ne,Z){this.notification=ne,this.destination=Z}}},1307:(Ze,De,j)=>{"use strict";j.d(De,{x:()=>he});var u=j(7393);function he(){return function(se){return se.lift(new k(se))}}class k{constructor(se){this.connectable=se}call(se,J){const{connectable:ne}=this;ne._refCount++;const Z=new te(se,ne),H=J.subscribe(Z);return Z.closed||(Z.connection=ne.connect()),H}}class te extends u.L{constructor(se,J){super(se),this.connectable=J}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const J=se._refCount;if(J<=0)return void(this.connection=null);if(se._refCount=J-1,J>1)return void(this.connection=null);const{connection:ne}=this,Z=se._connection;this.connection=null,Z&&(!ne||Z===ne)&&Z.unsubscribe()}}},8819:(Ze,De,j)=>{"use strict";j.d(De,{B:()=>J});var u=j(2441);var te=j(1307),_e=j(9765);function se(){return new _e.xQ}function J(){return ne=>(0,te.x)()(function(ne,Z){return function(re){let Y;Y="function"==typeof ne?ne:function(){return ne};const ee=Object.create(re,u.N);return ee.source=re,ee.subjectFactory=Y,ee}}(se)(ne))}},9673:(Ze,De,j)=>{"use strict";j.d(De,{R:()=>_e});var u=j(7574),he=j(4581),k=j(6561);class te extends u.y{constructor(ne,Z=0,H=he.e){super(),this.source=ne,this.delayTime=Z,this.scheduler=H,(!(0,k.k)(Z)||Z<0)&&(this.delayTime=0),(!H||"function"!=typeof H.schedule)&&(this.scheduler=he.e)}static create(ne,Z=0,H=he.e){return new te(ne,Z,H)}static dispatch(ne){const{source:Z,subscriber:H}=ne;return this.add(Z.subscribe(H))}_subscribe(ne){return this.scheduler.schedule(te.dispatch,this.delayTime,{source:this.source,subscriber:ne})}}function _e(J,ne=0){return function(H){return H.lift(new se(J,ne))}}class se{constructor(ne,Z){this.scheduler=ne,this.delay=Z}call(ne,Z){return new te(Z,this.delay,this.scheduler).subscribe(ne)}}},3342:(Ze,De,j)=>{"use strict";j.d(De,{b:()=>te});var u=j(7393);function he(){}var k=j(9105);function te(J,ne,Z){return function(re){return re.lift(new _e(J,ne,Z))}}class _e{constructor(ne,Z,H){this.nextOrObserver=ne,this.error=Z,this.complete=H}call(ne,Z){return Z.subscribe(new se(ne,this.nextOrObserver,this.error,this.complete))}}class se extends u.L{constructor(ne,Z,H,re){super(ne),this._tapNext=he,this._tapError=he,this._tapComplete=he,this._tapError=H||he,this._tapComplete=re||he,(0,k.m)(Z)?(this._context=this,this._tapNext=Z):Z&&(this._context=Z,this._tapNext=Z.next||he,this._tapError=Z.error||he,this._tapComplete=Z.complete||he)}_next(ne){try{this._tapNext.call(this._context,ne)}catch(Z){return void this.destination.error(Z)}this.destination.next(ne)}_error(ne){try{this._tapError.call(this._context,ne)}catch(Z){return void this.destination.error(Z)}this.destination.error(ne)}_complete(){try{this._tapComplete.call(this._context)}catch(ne){return void this.destination.error(ne)}return this.destination.complete()}}},4087:(Ze,De,j)=>{"use strict";j.d(De,{r:()=>k});var u=j(7574),he=j(5319);function k(te,_e){return new u.y(se=>{const J=new he.w;let ne=0;return J.add(_e.schedule(function(){ne!==te.length?(se.next(te[ne++]),se.closed||J.add(this.schedule())):se.complete()})),J})}},6465:(Ze,De,j)=>{"use strict";j.d(De,{o:()=>k});var u=j(5319);class he extends u.w{constructor(_e,se){super()}schedule(_e,se=0){return this}}class k extends he{constructor(_e,se){super(_e,se),this.scheduler=_e,this.work=se,this.pending=!1}schedule(_e,se=0){if(this.closed)return this;this.state=_e;const J=this.id,ne=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ne,J,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(ne,this.id,se),this}requestAsyncId(_e,se,J=0){return setInterval(_e.flush.bind(_e,this),J)}recycleAsyncId(_e,se,J=0){if(null!==J&&this.delay===J&&!1===this.pending)return se;clearInterval(se)}execute(_e,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(_e,se);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,se){let ne,J=!1;try{this.work(_e)}catch(Z){J=!0,ne=!!Z&&Z||new Error(Z)}if(J)return this.unsubscribe(),ne}_unsubscribe(){const _e=this.id,se=this.scheduler,J=se.actions,ne=J.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&J.splice(ne,1),null!=_e&&(this.id=this.recycleAsyncId(se,_e,null)),this.delay=null}}},6102:(Ze,De,j)=>{"use strict";j.d(De,{v:()=>he});let u=(()=>{class k{constructor(_e,se=k.now){this.SchedulerAction=_e,this.now=se}schedule(_e,se=0,J){return new this.SchedulerAction(this,_e).schedule(J,se)}}return k.now=()=>Date.now(),k})();class he extends u{constructor(te,_e=u.now){super(te,()=>he.delegate&&he.delegate!==this?he.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(te,_e=0,se){return he.delegate&&he.delegate!==this?he.delegate.schedule(te,_e,se):super.schedule(te,_e,se)}flush(te){const{actions:_e}=this;if(this.active)return void _e.push(te);let se;this.active=!0;do{if(se=te.execute(te.state,te.delay))break}while(te=_e.shift());if(this.active=!1,se){for(;te=_e.shift();)te.unsubscribe();throw se}}}},4581:(Ze,De,j)=>{"use strict";j.d(De,{e:()=>Y,E:()=>re});let u=1;const he=Promise.resolve(),k={};function te(ee){return ee in k&&(delete k[ee],!0)}const _e={setImmediate(ee){const ge=u++;return k[ge]=!0,he.then(()=>te(ge)&&ee()),ge},clearImmediate(ee){te(ee)}};var J=j(6465),Z=j(6102);const re=new class extends Z.v{flush(ge){this.active=!0,this.scheduled=void 0;const{actions:Ce}=this;let Se,Ge=-1,Oe=Ce.length;ge=ge||Ce.shift();do{if(Se=ge.execute(ge.state,ge.delay))break}while(++Ge<Oe&&(ge=Ce.shift()));if(this.active=!1,Se){for(;++Ge<Oe&&(ge=Ce.shift());)ge.unsubscribe();throw Se}}}(class extends J.o{constructor(ge,Ce){super(ge,Ce),this.scheduler=ge,this.work=Ce}requestAsyncId(ge,Ce,Se=0){return null!==Se&&Se>0?super.requestAsyncId(ge,Ce,Se):(ge.actions.push(this),ge.scheduled||(ge.scheduled=_e.setImmediate(ge.flush.bind(ge,null))))}recycleAsyncId(ge,Ce,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(ge,Ce,Se);0===ge.actions.length&&(_e.clearImmediate(Ce),ge.scheduled=void 0)}}),Y=re},3637:(Ze,De,j)=>{"use strict";j.d(De,{z:()=>k,P:()=>te});var u=j(6465);const k=new(j(6102).v)(u.o),te=k},7771:(Ze,De,j)=>{"use strict";j.d(De,{c:()=>se,N:()=>_e});var u=j(6465),k=j(6102);const _e=new class extends k.v{}(class extends u.o{constructor(ne,Z){super(ne,Z),this.scheduler=ne,this.work=Z}schedule(ne,Z=0){return Z>0?super.schedule(ne,Z):(this.delay=Z,this.state=ne,this.scheduler.flush(this),this)}execute(ne,Z){return Z>0||this.closed?super.execute(ne,Z):this._execute(ne,Z)}requestAsyncId(ne,Z,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(ne,Z,H):ne.flush(this)}}),se=_e},377:(Ze,De,j)=>{"use strict";j.d(De,{hZ:()=>he});const he="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ze,De,j)=>{"use strict";j.d(De,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ze,De,j)=>{"use strict";j.d(De,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ze,De,j)=>{"use strict";j.d(De,{N:()=>he});const he=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Ze,De,j)=>{"use strict";function u(he){setTimeout(()=>{throw he},0)}j.d(De,{z:()=>u})},4487:(Ze,De,j)=>{"use strict";function u(he){return he}j.d(De,{y:()=>u})},9796:(Ze,De,j)=>{"use strict";j.d(De,{k:()=>u});const u=Array.isArray||(he=>he&&"number"==typeof he.length)},9489:(Ze,De,j)=>{"use strict";j.d(De,{z:()=>u});const u=he=>he&&"number"==typeof he.length&&"function"!=typeof he},9105:(Ze,De,j)=>{"use strict";function u(he){return"function"==typeof he}j.d(De,{m:()=>u})},6561:(Ze,De,j)=>{"use strict";j.d(De,{k:()=>he});var u=j(9796);function he(k){return!(0,u.k)(k)&&k-parseFloat(k)+1>=0}},1555:(Ze,De,j)=>{"use strict";function u(he){return null!==he&&"object"==typeof he}j.d(De,{K:()=>u})},4072:(Ze,De,j)=>{"use strict";function u(he){return!!he&&"function"!=typeof he.subscribe&&"function"==typeof he.then}j.d(De,{t:()=>u})},4869:(Ze,De,j)=>{"use strict";function u(he){return he&&"function"==typeof he.schedule}j.d(De,{K:()=>u})},7444:(Ze,De,j)=>{"use strict";j.d(De,{s:()=>re});var u=j(5015),he=j(4449),te=j(377),se=j(6554),ne=j(9489),Z=j(4072),H=j(1555);const re=Y=>{if(Y&&"function"==typeof Y[se.L])return(Y=>ee=>{const ge=Y[se.L]();if("function"!=typeof ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ge.subscribe(ee)})(Y);if((0,ne.z)(Y))return(0,u.V)(Y);if((0,Z.t)(Y))return(Y=>ee=>(Y.then(ge=>{ee.closed||(ee.next(ge),ee.complete())},ge=>ee.error(ge)).then(null,he.z),ee))(Y);if(Y&&"function"==typeof Y[te.hZ])return(Y=>ee=>{const ge=Y[te.hZ]();for(;;){let Ce;try{Ce=ge.next()}catch(Se){return ee.error(Se),ee}if(Ce.done){ee.complete();break}if(ee.next(Ce.value),ee.closed)break}return"function"==typeof ge.return&&ee.add(()=>{ge.return&&ge.return()}),ee})(Y);{const ge=`You provided ${(0,H.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ge)}}},5015:(Ze,De,j)=>{"use strict";j.d(De,{V:()=>u});const u=he=>k=>{for(let te=0,_e=he.length;te<_e&&!k.closed;te++)k.next(he[te]);k.complete()}},5993:(Ze,De,j)=>{"use strict";var u=j(7716);let he=null;function k(){return he}const J=new u.OlP("DocumentToken");let ne=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,u.Yz7)({factory:Z,token:i,providedIn:"platform"}),i})();function Z(){return(0,u.LFG)(re)}const H=new u.OlP("Location Initialized");let re=(()=>{class i extends ne{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,o){Y()?this._history.pushState(e,s,o):this.location.hash=o}replaceState(e,s,o){Y()?this._history.replaceState(e,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=(0,u.Yz7)({factory:ee,token:i,providedIn:"platform"}),i})();function Y(){return!!window.history.pushState}function ee(){return new re((0,u.LFG)(J))}function ge(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Ce(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Se(i){return i&&"?"!==i[0]?"?"+i:i}let Ge=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,u.Yz7)({factory:Oe,token:i,providedIn:"root"}),i})();function Oe(i){const t=(0,u.LFG)(J).location;return new qt((0,u.LFG)(ne),t&&t.origin||"")}const Le=new u.OlP("appBaseHref");let qt=(()=>{class i extends Ge{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ge(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Se(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${s}${o}`:s}pushState(e,s,o,c){const f=this.prepareExternalUrl(o+Se(c));this._platformLocation.pushState(e,s,f)}replaceState(e,s,o,c){const f=this.prepareExternalUrl(o+Se(c));this._platformLocation.replaceState(e,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(ne),u.LFG(Le,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),Ln=(()=>{class i extends Ge{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=ge(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,o,c){let f=this.prepareExternalUrl(o+Se(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,s,f)}replaceState(e,s,o,c){let f=this.prepareExternalUrl(o+Se(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(ne),u.LFG(Le,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),ot=(()=>{class i{constructor(e,s){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ce($t(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Se(s))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,$t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",o=null){this._platformStrategy.pushState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Se(s)),o)}replaceState(e,s="",o=null){this._platformStrategy.replaceState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Se(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(o=>o(e,s))}subscribe(e,s,o){return this._subject.subscribe({next:e,error:s,complete:o})}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ge),u.LFG(ne))},i.normalizeQueryParams=Se,i.joinWithSlash=ge,i.stripTrailingSlash=Ce,i.\u0275prov=(0,u.Yz7)({factory:nn,token:i,providedIn:"root"}),i})();function nn(){return new ot((0,u.LFG)(Ge),(0,u.LFG)(ne))}function $t(i){return i.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Zero=0]="Zero",me[me.One=1]="One",me[me.Two=2]="Two",me[me.Few=3]="Few",me[me.Many=4]="Many",me[me.Other=5]="Other",me))();const jt=u.kL8;class ya{}let Tc=(()=>{class i extends ya{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(jt(s||this.locale)(e)){case me.Zero:return"zero";case me.One:return"one";case me.Two:return"two";case me.Few:return"few";case me.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.soG))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function Ti(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const s=e.indexOf("="),[o,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}let Cs=(()=>{class i{constructor(e,s,o,c){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=o,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class Ot{constructor(t,e,s,o){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xe=(()=>{class i{constructor(e,s,o){this._viewContainer=e,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((o,c,f)=>{if(null==o.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new Ot(null,this._ngForOf,-1,-1),null===f?void 0:f),C=new kt(o,y);s.push(C)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const y=this._viewContainer.get(c);this._viewContainer.move(y,f);const C=new kt(o,y);s.push(C)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=c,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class kt{constructor(t,e){this.record=t,this.view=e}}let Ft=(()=>{class i{constructor(e,s){this._viewContainer=e,this._context=new _u,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){cl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){cl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.s_b),u.Y36(u.Rgc))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class _u{constructor(){this.$implicit=null,this.ngIf=null}}function cl(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}class Es{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let er=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),xt=(()=>{class i{constructor(e,s,o){this.ngSwitch=o,o._addCase(),this._view=new Es(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(er,9))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Pt=(()=>{class i{constructor(e,s,o){o._addDefault(new Es(e,s))}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(er,9))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngSwitchDefault",""]]}),i})();class Gy{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ba{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}onDestroy(t){}}const Uy=new ba,Rc=new Gy;let jy=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,u.QGY)(e))return Uy;if((0,u.F4k)(e))return Rc;throw function(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,u.AaK)(i)}'`)}(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.sBO,16))},i.\u0275pipe=u.Yjl({name:"async",type:i,pure:!1}),i})(),ji=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[{provide:ya,useClass:Tc}]}),i})();function Zs(i){return"browser"===i}function Js(i){return"server"===i}let dn=(()=>{class i{}return i.\u0275prov=(0,u.Yz7)({token:i,providedIn:"root",factory:()=>new ug((0,u.LFG)(J),window)}),i})();class ug{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const c=o.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],o-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kc(this.window.history)||kc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function kc(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class hl{}class fl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new fl,he||(he=i)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(_t=_t||document.querySelector("base"),_t?_t.getAttribute("href"):null);return null==e?null:function(i){_n=_n||document.createElement("a"),_n.setAttribute("href",i);const t=_n.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){_t=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ti(document.cookie,t)}}let _n,_t=null;const On=new u.OlP("TRANSITION_ID"),Br=[{provide:u.ip1,useFactory:function(i,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const s=k(),o=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let c=0;c<o.length;c++)s.remove(o[c])})}},deps:[On,J,u.zs3],multi:!0}];class bu{static init(){(0,u.VLi)(new bu)}addToWindow(t){u.dqk.getAngularTestability=(s,o=!0)=>{const c=t.findTestabilityInTree(s,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(s=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,f=!1;const y=function(C){f=f||C,c--,0==c&&s(f)};o.forEach(function(C){C.whenStable(y)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:s?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let So=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const Eu=new u.OlP("EventManagerPlugins");let Te=(()=>{class i{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,o){return this._findPluginFor(s).addEventListener(e,s,o)}addGlobalEventListener(e,s,o){return this._findPluginFor(s).addGlobalEventListener(e,s,o)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const o=this._plugins;for(let c=0;c<o.length;c++){const f=o[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Eu),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Gt{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const o=k().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,s)}}let Su=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),kn=(()=>{class i extends Su{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,o){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,o.push(s.appendChild(f))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(xu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(e,o,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xu))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function xu(i){k().remove(i)}const Ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hi=/%COMP%/g;function Jn(i,t,e){for(let s=0;s<t.length;s++){let o=t[s];Array.isArray(o)?Jn(i,o,e):(o=o.replace(Hi,i),e.push(o))}return e}function gr(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let As=(()=>{class i{constructor(e,s,o){this.eventManager=e,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Vr(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new Jy(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(e),o}case 1:case u.ifc.ShadowDom:return new nr(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const o=Jn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Te),u.LFG(kn),u.LFG(u.AFp))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Vr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ca[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,o){if(o){e=o+":"+e;const c=Ca[o];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const o=Ca[s];o?t.removeAttributeNS(o,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,s,o&u.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gr(s)):this.eventManager.addEventListener(t,e,gr(s))}}class Jy extends Vr{constructor(t,e,s,o){super(t),this.component=s;const c=Jn(o+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Hi,o+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Hi,i)}(o+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class nr extends Vr{constructor(t,e,s,o){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Jn(o.id,o.styles,[]);for(let f=0;f<c.length;f++){const y=document.createElement("style");y.textContent=c[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Mu=(()=>{class i extends Gt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,o){return e.addEventListener(s,o,!1),()=>this.removeEventListener(e,s,o)}removeEventListener(e,s,o){return e.removeEventListener(s,o)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const eo=["alt","control","meta","shift"],tv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let nv=(()=>{class i extends Gt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,s,o){const c=i.parseEventName(s),f=i.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const s=e.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const c=i._normalizeKey(s.pop());let f="";if(eo.forEach(C=>{const x=s.indexOf(C);x>-1&&(s.splice(x,1),f+=C+".")}),f+=c,0!=s.length||0===c.length)return null;const y={};return y.domEventName=o,y.fullKey=f,y}static getEventFullKey(e){let s="",o=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&ai.hasOwnProperty(t)&&(t=ai[t]))}return tv[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eo.forEach(c=>{c!=o&&Vc[c](e)&&(s+=c+".")}),s+=o,s}static eventCallback(e,s,o){return c=>{i.getEventFullKey(c)===e&&o.runGuarded(()=>s(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),zi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(Io)},token:i,providedIn:"root"}),i})(),Io=(()=>{class i extends zi{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case u.q3G.NONE:return s;case u.q3G.HTML:return(0,u.qzn)(s,"HTML")?(0,u.z3N)(s):(0,u.EiD)(this._doc,String(s)).toString();case u.q3G.STYLE:return(0,u.qzn)(s,"Style")?(0,u.z3N)(s):s;case u.q3G.SCRIPT:if((0,u.qzn)(s,"Script"))return(0,u.z3N)(s);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(s),(0,u.qzn)(s,"URL")?(0,u.z3N)(s):(0,u.mCW)(String(s));case u.q3G.RESOURCE_URL:if((0,u.qzn)(s,"ResourceURL"))return(0,u.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=(0,u.Yz7)({factory:function(){return function(i){return new Io(i.get(J))}((0,u.LFG)(u.gxx))},token:i,providedIn:"root"}),i})();const Oo=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){fl.makeCurrent(),bu.init()},multi:!0},{provide:J,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),xh=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Eu,useClass:Mu,multi:!0,deps:[J,u.R0b,u.Lbi]},{provide:Eu,useClass:nv,multi:!0,deps:[J]},[],{provide:As,useClass:As,deps:[Te,kn,u.AFp]},{provide:u.FYo,useExisting:As},{provide:Su,useExisting:kn},{provide:kn,useClass:kn,deps:[J]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Te,useClass:Te,deps:[Eu,u.R0b]},{provide:hl,useClass:So,deps:[]},[]];let Dh=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:u.AFp,useValue:e.appId},{provide:On,useExisting:u.AFp},Br]}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(i,12))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:xh,imports:[ji,u.hGG]}),i})();"undefined"!=typeof window&&window;var ze=j(9765),Fu=j(7971);class wi extends ze.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fu.N;return this._value}next(t){super.next(this._value=t)}}var Fn=j(7574),fi=j(6682),pi=j(7393);function rn(i,t){return function(s){return s.lift(new Sg(i,t))}}class Sg{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xg(t,this.predicate,this.thisArg))}}class xg extends pi.L{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}var $n=j(3342);const vl={provide:u.tb,useFactory:function(i,t){return()=>{if(Zs(t)){const e=Array.from(i.querySelectorAll(`[class*=${Dg}]`)),s=/\bflex-layout-.+?\b/g;e.forEach(o=>{o.classList.contains(`${Dg}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(s,"")})}}},deps:[J,u.Lbi],multi:!0},Dg="flex-layout-";let Pu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[vl]}),i})();class Ms{constructor(t=!1,e="all",s="",o="",c=0){this.matches=t,this.mediaQuery=e,this.mqAlias=s,this.suffix=o,this.priority=c,this.property=""}clone(){return new Ms(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Ma=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(e,s,o){const c=this.stylesheet.get(e);c?c.set(s,o):this.stylesheet.set(e,new Map([[s,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,s){const o=this.stylesheet.get(e);let c="";if(o){const f=o.get(s);("number"==typeof f||"string"==typeof f)&&(c=f+"")}return c}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const jc={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},_r=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>jc}),to=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ko=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Ta(i,t){return i=i?i.clone():new Ms,t&&(i.mqAlias=t.alias,i.mediaQuery=t.mediaQuery,i.suffix=t.suffix,i.priority=t.priority),i}const Fo="inline",Ia=["row","column","row-reverse","column-reverse"];function rv(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}let Mn=(()=>{class i{constructor(e,s,o,c){this.elementRef=e,this.styleBuilder=s,this.styler=o,this.marshal=c,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ze.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split(".").slice(1).join(".");this.setValue(e[s].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,s){const o=this.styleBuilder,c=o.shouldCache;let f=this.styleCache.get(e);(!f||!c)&&(f=o.buildStyles(e,s),c&&this.styleCache.set(e,f)),this.mru=Object.assign({},f),this.applyStyleToElement(f),o.sideEffect(e,f,s)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,s=!1){if(e){const[o,c]=this.styler.getFlowDirection(e);if(!c&&s){const f=function(i){let[t,e,s]=function(i){i=i?i.toLowerCase():"";let[t,e,s]=i.split(" ");return Ia.find(o=>o===t)||(t=Ia[0]),e===Fo&&(e=s!==Fo?s:"",s=Fo),[t,rv(e),!!s]}(i);return function(i,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":t||null}}(t,e,s)}(o);this.styler.applyStyleToElements(f,[e])}return o.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,s,o=this.nativeElement){this.styler.applyStyleToElement(o,e,s)}setValue(e,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,s)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return i.\u0275fac=function(e){u.$Z()},i.\u0275dir=u.lG2({type:i,features:[u.TTD]}),i})();const Rh=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Oh="(orientation: portrait) and (max-width: 599.98px)",Pn="(orientation: landscape) and (max-width: 959.98px)",Ag="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",kh="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Fh="(orientation: portrait) and (min-width: 840px)",Mg="(orientation: landscape) and (min-width: 1280px)",No={HANDSET:`${Oh}, ${Pn}`,TABLET:`${Ag} , ${kh}`,WEB:`${Fh}, ${Mg} `,HANDSET_PORTRAIT:`${Oh}`,TABLET_PORTRAIT:`${Ag} `,WEB_PORTRAIT:`${Fh}`,HANDSET_LANDSCAPE:`${Pn}`,TABLET_LANDSCAPE:`${kh}`,WEB_LANDSCAPE:`${Mg}`},tE=[{alias:"handset",priority:2e3,mediaQuery:No.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:No.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:No.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:No.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:No.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:No.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:No.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:No.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:No.WEB_PORTRAIT,overlapping:!0}],Ra=/(\.|-|_)/g;function ov(i){let t=i.length>0?i.charAt(0):"",e=i.length>1?i.slice(1):"";return t.toUpperCase()+e}function Lo(i,t=[]){const e={};return i.forEach(s=>{e[s.alias]=s}),t.forEach(s=>{e[s.alias]?function(i,...t){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let s in e)e.hasOwnProperty(s)&&(i[s]=e[s])}(e[s.alias],s):e[s.alias]=s}),function(i){return i.forEach(t=>{t.suffix||(t.suffix=function(i){return i.replace(Ra,"|").split("|").map(ov).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i}(Object.keys(e).map(s=>e[s]))}const Hc=new u.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=(0,u.f3M)(ko),t=(0,u.f3M)(_r),e=[].concat.apply([],(i||[]).map(o=>Array.isArray(o)?o:[o]));return Lo((t.disableDefaultBps?[]:Rh).concat(t.addOrientationBps?tE:[]),e)}});function Nn(i,t){return(t&&t.priority||0)-(i&&i.priority||0)}function zc(i,t){return(i.priority||0)-(t.priority||0)}let Bo=(()=>{class i{constructor(e){this.findByMap=new Map,this.items=[...e].sort(zc)}findByAlias(e){return e?this.findWithPredicate(e,s=>s.alias==e):null}findByQuery(e){return this.findWithPredicate(e,s=>s.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,s){let o=this.findByMap.get(e);return o||(o=this.items.find(s)||null,this.findByMap.set(e,o)),o||null}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Hc))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(Hc))},token:i,providedIn:"root"}),i})(),Yc=(()=>{class i{constructor(e,s,o){this._zone=e,this._platformId=s,this._document=o,this.source=new wi(new Ms(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((s,o)=>{s.matches&&e.push(o)}),e}isActive(e){const s=this.registry.get(e);return s?s.matches:this.registerQuery(e).some(o=>o.matches)}observe(e,s=!1){if(e&&e.length){const o=this._observable$.pipe(rn(f=>!s||e.indexOf(f.mediaQuery)>-1)),c=new Fn.y(f=>{const y=this.registerQuery(e);if(y.length){const C=y.pop();y.forEach(x=>{f.next(x)}),this.source.next(C)}f.complete()});return(0,fi.T)(c,o)}return this._observable$}registerQuery(e){const s=Array.isArray(e)?e:[e],o=[];return function(i,t){const e=i.filter(s=>!qc[s]);if(e.length>0){const s=e.join(", ");try{const o=t.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),t.head.appendChild(o),e.forEach(c=>qc[c]=o)}catch(o){console.error(o)}}}(s,this._document),s.forEach(c=>{const f=C=>{this._zone.run(()=>this.source.next(new Ms(C.matches,c)))};let y=this.registry.get(c);y||(y=this.buildMQL(c),y.addListener(f),this.pendingRemoveListenerFns.push(()=>y.removeListener(f)),this.registry.set(c,y)),y.matches&&o.push(new Ms(!0,c))}),o}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(i,t){return t&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Zs(this._platformId))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.R0b),u.LFG(u.Lbi),u.LFG(J))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(u.R0b),(0,u.LFG)(u.Lbi),(0,u.LFG)(J))},token:i,providedIn:"root"}),i})();const qc={},Pa="print",Ph={alias:Pa,mediaQuery:Pa,priority:1e3};let Tg=(()=>{class i{constructor(e,s,o){this.breakpoints=e,this.layoutConfig=s,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new nE,this.deactivations=[]}withPrintQuery(e){return[...e,Pa]}isPrintEvent(e){return e.mediaQuery.startsWith(Pa)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const s=this.breakpoints.findByQuery(e);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(Nn)}updateEvent(e){let s=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(s=this.getEventBreakpoints(e)[0],e.mediaQuery=s?s.mediaQuery:""),Ta(e,s)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Ms(!0,Pa))),e.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(o)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(s)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,s){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const s=this.breakpoints.findByQuery(e.mediaQuery);s&&(this.deactivations.push(s),this.deactivations.sort(Nn))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Bo),u.LFG(_r),u.LFG(J))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(Bo),(0,u.LFG)(_r),(0,u.LFG)(J))},token:i,providedIn:"root"}),i})();class nE{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Ph),t.sort(Nn),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){var i;t&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=(i=t)&&i.mediaQuery.startsWith(Pa)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function Wc(i){for(let t in i){let e=i[t]||"";switch(t){case"display":i.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",i["-webkit-flex-direction"]=e,i["flex-direction"]=e;break;case"order":i.order=i["-webkit-"+t]=isNaN(+e)?"0":e}}return i}let hn=(()=>{class i{constructor(e,s,o,c){this._serverStylesheet=e,this._serverModuleLoaded=s,this._platformId=o,this.layoutConfig=c}applyStyleToElement(e,s,o=null){let c={};"string"==typeof s&&(c[s]=o,s=c),c=this.layoutConfig.disableVendorPrefixes?s:Wc(s),this._applyMultiValueStyleToElement(c,e)}applyStyleToElements(e,s=[]){const o=this.layoutConfig.disableVendorPrefixes?e:Wc(e);s.forEach(c=>{this._applyMultiValueStyleToElement(o,c)})}getFlowDirection(e){const s="flex-direction";let o=this.lookupStyle(e,s);return[o||"row",this.lookupInlineStyle(e,s)||Js(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,s){return e.getAttribute(s)||""}lookupInlineStyle(e,s){return Zs(this._platformId)?e.style.getPropertyValue(s):this._getServerStyle(e,s)}lookupStyle(e,s,o=!1){let c="";return e&&((c=this.lookupInlineStyle(e,s))||(Zs(this._platformId)?o||(c=getComputedStyle(e).getPropertyValue(s)):this._serverModuleLoaded&&(c=this._serverStylesheet.getStyleForElement(e,s)))),c?c.trim():""}_applyMultiValueStyleToElement(e,s){Object.keys(e).sort().forEach(o=>{const c=e[o],f=Array.isArray(c)?c:[c];f.sort();for(let y of f)y=y?y+"":"",Zs(this._platformId)||!this._serverModuleLoaded?Zs(this._platformId)?s.style.setProperty(o,y):this._setServerStyle(s,o,y):this._serverStylesheet.addStyleToElement(s,o,y)})}_setServerStyle(e,s,o){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const c=this._readStyleAttribute(e);c[s]=o||"",this._writeStyleAttribute(e,c)}_getServerStyle(e,s){return this._readStyleAttribute(e)[s]||""}_readStyleAttribute(e){const s={},o=e.getAttribute("style");if(o){const c=o.split(/;+/g);for(let f=0;f<c.length;f++){const y=c[f].trim();if(y.length>0){const C=y.indexOf(":");if(-1===C)throw new Error(`Invalid CSS style: ${y}`);s[y.substr(0,C).trim()]=y.substr(C+1).trim()}}}return s}_writeStyleAttribute(e,s){let o="";for(const c in s)s[c]&&(o+=c+":"+s[c]+";");e.setAttribute("style",o)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ma),u.LFG(to),u.LFG(u.Lbi),u.LFG(_r))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(Ma),(0,u.LFG)(to),(0,u.LFG)(u.Lbi),(0,u.LFG)(_r))},token:i,providedIn:"root"}),i})();class Tn{constructor(){this.shouldCache=!0}sideEffect(t,e,s){}}function Qc(i,t="1",e="1"){let s=[t,e,i],o=i.indexOf("calc");if(o>0){s[2]=Kc(i.substring(o).trim());let c=i.substr(0,o).trim().split(" ");2==c.length&&(s[0]=c[0],s[1]=c[1])}else if(0==o)s[2]=Kc(i.trim());else{let c=i.split(" ");s=3===c.length?c:[t,e,i]}return s}function Kc(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let En=(()=>{class i{constructor(e,s,o){this.matchMedia=e,this.breakpoints=s,this.hook=o,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ze.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const s=this.findByQuery(e.mediaQuery);s&&((e=Ta(e,s)).matches&&-1===this.activatedBreakpoints.indexOf(s)?(this.activatedBreakpoints.push(s),this.activatedBreakpoints.sort(Nn),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(s)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(s),1),this.activatedBreakpoints.sort(Nn),this.updateStyles()))}init(e,s,o,c,f=[]){wl(this.updateMap,e,s,o),wl(this.clearMap,e,s,c),this.buildElementKeyMap(e,s),this.watchExtraTriggers(e,s,f)}getValue(e,s,o){const c=this.elementMap.get(e);if(c){const f=void 0!==o?c.get(o):this.getActivatedValues(c,s);if(f)return f.get(s)}}hasValue(e,s){const o=this.elementMap.get(e);if(o){const c=this.getActivatedValues(o,s);if(c)return void 0!==c.get(s)||!1}return!1}setValue(e,s,o,c){let f=this.elementMap.get(e);if(f){const C=(f.get(c)||new Map).set(s,o);f.set(c,C),this.elementMap.set(e,f)}else f=(new Map).set(c,(new Map).set(s,o)),this.elementMap.set(e,f);const y=this.getValue(e,s);void 0!==y&&this.updateElement(e,s,y)}trackValue(e,s){return this.subject.asObservable().pipe(rn(o=>o.element===e&&o.key===s))}updateStyles(){this.elementMap.forEach((e,s)=>{const o=new Set(this.elementKeyMap.get(s));let c=this.getActivatedValues(e);c&&c.forEach((f,y)=>{this.updateElement(s,y,f),o.delete(y)}),o.forEach(f=>{if(c=this.getActivatedValues(e,f),c){const y=c.get(f);this.updateElement(s,f,y)}else this.clearElement(s,f)})})}clearElement(e,s){const o=this.clearMap.get(e);if(o){const c=o.get(s);c&&(c(),this.subject.next({element:e,key:s,value:""}))}}updateElement(e,s,o){const c=this.updateMap.get(e);if(c){const f=c.get(s);f&&(f(o),this.subject.next({element:e,key:s,value:o}))}}releaseElement(e){const s=this.watcherMap.get(e);s&&(s.forEach(c=>c.unsubscribe()),this.watcherMap.delete(e));const o=this.elementMap.get(e);o&&(o.forEach((c,f)=>o.delete(f)),this.elementMap.delete(e))}triggerUpdate(e,s){const o=this.elementMap.get(e);if(o){const c=this.getActivatedValues(o,s);c&&(s?this.updateElement(e,s,c.get(s)):c.forEach((f,y)=>this.updateElement(e,y,f)))}}buildElementKeyMap(e,s){let o=this.elementKeyMap.get(e);o||(o=new Set,this.elementKeyMap.set(e,o)),o.add(s)}watchExtraTriggers(e,s,o){if(o&&o.length){let c=this.watcherMap.get(e);if(c||(c=new Map,this.watcherMap.set(e,c)),!c.get(s)){const y=(0,fi.T)(...o).subscribe(()=>{const C=this.getValue(e,s);this.updateElement(e,s,C)});c.set(s,y)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,s){for(let c=0;c<this.activatedBreakpoints.length;c++){const y=e.get(this.activatedBreakpoints[c].alias);if(y&&(void 0===s||y.has(s)&&null!=y.get(s)))return y}const o=e.get("");return void 0===s||o&&o.has(s)?o:void 0}observeActivations(){const s=this.breakpoints.items.map(o=>o.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(s)).pipe((0,$n.b)(this.hook.interceptEvents(this)),rn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Yc),u.LFG(Bo),u.LFG(Tg))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(Yc),(0,u.LFG)(Bo),(0,u.LFG)(Tg))},token:i,providedIn:"root"}),i})();function wl(i,t,e,s){if(void 0!==s){let o=i.get(t);o||(o=new Map,i.set(t,o)),o.set(e,s)}}function at(i){return null!=i&&"false"!=`${i}`}function Wn(i,t=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function Go(i){return Array.isArray(i)?i:[i]}function jn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ir(i){return i instanceof u.SBq?i.nativeElement:i}var yr=j(5345);function yt(i){return t=>t.lift(new Nh(i))}class Nh{constructor(t){this.notifier=t}call(t,e){const s=new uv(t),o=(0,yr.ft)(this.notifier,new yr.IY(s));return o&&!s.seenValue?(s.add(o),e.subscribe(s)):s}}class uv extends yr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Og=(()=>{class i extends Tn{buildStyles(e,s){return{display:"true"===e?s.display||(s.isServer?"initial":""):"none"}}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275prov=(0,u.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Cl=(()=>{class i extends Mn{constructor(e,s,o,c,f,y,C){super(e,s,o,c),this.layoutConfig=f,this.platformId=y,this.serverModuleLoaded=C,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let o=0;o<e.length;o++)if(this.marshal.hasValue(e[o],"flex")){this.hasFlexChild=!0;break}Xc.has(this.nativeElement)?this.display=Xc.get(this.nativeElement):(this.display=this.getDisplayStyle(),Xc.set(this.nativeElement,this.display)),this.init();const s=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===s||""===s?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split("."),c=o.slice(1).join("."),f=e[s].currentValue;let y=""===f||0!==f&&at(f);"fxHide"===o[0]&&(y=!y),this.setValue(y,c)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(yt(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const s=Js(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:s}),s&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Og),u.Y36(hn),u.Y36(En),u.Y36(_r),u.Y36(u.Lbi),u.Y36(to))},i.\u0275dir=u.lG2({type:i,features:[u.qOj,u.TTD]}),i})();const Xc=new WeakMap,El=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let Lu=(()=>{class i extends Cl{constructor(){super(...arguments),this.inputs=El}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[u.qOj]}),i})(),kg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pu]]}),i})();const Hr=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(J)}});let gi=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const o=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||o;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Hr,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Hr,8))},token:i,providedIn:"root"}),i})(),zr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();const Ua="inline",Xn=["row","column","row-reverse","column-reverse"];function Ng(i){i=i?i.toLowerCase():"";let[t,e,s]=i.split(" ");return Xn.find(o=>o===t)||(t=Xn[0]),e===Ua&&(e=s!==Ua?s:"",s=Ua),[t,ed(e),!!s]}function Uu(i){let[t]=Ng(i);return t.indexOf("row")>-1}function ed(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}let Lg=(()=>{class i extends Tn{buildStyles(e){return function(i){let[t,e,s]=Ng(i);return function(i,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":t||null}}(t,e,s)}(e)}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275prov=(0,u.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const Gh=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Ho=(()=>{class i extends Mn{constructor(e,s,o,c){super(e,o,s,c),this.DIRECTIVE_KEY="layout",this.styleCache=Bg,this.init()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(hn),u.Y36(Lg),u.Y36(En))},i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})(),Uh=(()=>{class i extends Ho{constructor(){super(...arguments),this.inputs=Gh}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[u.qOj]}),i})();const Bg=new Map,Vg={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let jh=(()=>{class i extends Tn{constructor(e){super(),this._styler=e}buildStyles(e,s){return e.endsWith(nd)?function(i,t){const[e,s]=i.split(" "),c=x=>`-${x}`;let f="0px",y=c(s||e),C="0px";return"rtl"===t?C=c(e):f=c(e),{margin:`0px ${f} ${y} ${C}`}}(e=e.slice(0,e.indexOf(nd)),s.directionality):{}}sideEffect(e,s,o){const c=o.items;if(e.endsWith(nd)){const f=function(i,t){const[e,s]=i.split(" ");let c="0px",y="0px";return"rtl"===t?y=e:c=e,{padding:`0px ${c} ${s||e} ${y}`}}(e=e.slice(0,e.indexOf(nd)),o.directionality);this._styler.applyStyleToElements(f,o.items)}else{const f=c.pop(),y=function(i,t){const e=Yh(t.directionality,t.layout),s=Object.assign({},Vg);return s[e]=i,s}(e,o);this._styler.applyStyleToElements(y,c),this._styler.applyStyleToElements(Vg,[f])}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(hn))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(hn))},token:i,providedIn:"root"}),i})();const td=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Yo=(()=>{class i extends Mn{constructor(e,s,o,c,f,y){super(e,f,c,y),this.zone=s,this.directionality=o,this.styleUtils=c,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ze.xQ;const C=[this.directionality.change,this.observerSubject.asObservable()];this.init(C),this.marshal.trackValue(this.nativeElement,"layout").pipe(yt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,s=[];for(let o=e.length;o--;)s[o]=e[o];return s}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const o=e.value.split(" ");this.layout=o[0],Xn.find(c=>c===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const s=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,c)=>{const f=+this.styler.lookupStyle(o,"order"),y=+this.styler.lookupStyle(c,"order");return isNaN(f)||isNaN(y)||f===y?0:f>y?1:-1});if(s.length>0){const o=this.directionality.value,c=this.layout;"row"===c&&"rtl"===o?this.styleCache=hv:"row"===c&&"rtl"!==o?this.styleCache=Gg:"column"===c&&"rtl"===o?this.styleCache=fv:"column"===c&&"rtl"!==o&&(this.styleCache=pv),this.addStyles(e,{directionality:o,items:s,layout:c})}}clearStyles(){const e=Object.keys(this.mru).length>0,s=e?"padding":Yh(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[s]:""},this.childrenNodes)}willDisplay(e){const s=this.marshal.getValue(e,"show-hide");return!0===s||void 0===s&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(gi),u.Y36(hn),u.Y36(jh),u.Y36(En))},i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})(),Hh=(()=>{class i extends Yo{constructor(){super(...arguments),this.inputs=td}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[u.qOj]}),i})();const hv=new Map,fv=new Map,Gg=new Map,pv=new Map,nd=" grid";function Yh(i,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===i?"margin-left":"margin-right";case"row-reverse":return"rtl"===i?"margin-right":"margin-left";default:return"rtl"===i?"margin-left":"margin-right"}}function qo(i,...t){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let s in e)e.hasOwnProperty(s)&&(i[s]=e[s]);return i}let aE=(()=>{class i extends Tn{constructor(e){super(),this.layoutConfig=e}buildStyles(e,s){let[o,c,...f]=e.split(" "),y=f.join(" ");const C=s.direction.indexOf("column")>-1?"column":"row",x=Uu(C)?"max-width":"max-height",M=Uu(C)?"min-width":"min-height",R=String(y).indexOf("calc")>-1,F=R||"auto"===y,V=String(y).indexOf("%")>-1&&!R,U=String(y).indexOf("px")>-1||String(y).indexOf("rem")>-1||String(y).indexOf("em")>-1||String(y).indexOf("vw")>-1||String(y).indexOf("vh")>-1;let Q=R||U;o="0"==o?0:o,c="0"==c?0:c;const le=!o&&!c;let ce={};const Ae={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(y||""){case"":const Ie=!1!==this.layoutConfig.useColumnBasisZero;y="row"===C?"0%":Ie?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,y="auto";break;case"grow":y="100%";break;case"noshrink":c=0,y="auto";break;case"auto":break;case"none":o=0,c=0,y="auto";break;default:!Q&&!V&&!isNaN(y)&&(y+="%"),"0%"===y&&(Q=!0),"0px"===y&&(y="0%"),ce=qo(Ae,R?{"flex-grow":o,"flex-shrink":c,"flex-basis":Q?y:"100%"}:{flex:`${o} ${c} ${Q?y:"100%"}`})}return ce.flex||ce["flex-grow"]||(ce=qo(Ae,R?{"flex-grow":o,"flex-shrink":c,"flex-basis":y}:{flex:`${o} ${c} ${y}`})),"0%"!==y&&"0px"!==y&&"0.000000001px"!==y&&"auto"!==y&&(ce[M]=le||Q&&o?y:null,ce[x]=le||!F&&c?y:null),ce[M]||ce[x]?s.hasWrap&&(ce[R?"flex-basis":"flex"]=ce[x]?R?ce[x]:`${o} ${c} ${ce[x]}`:R?ce[M]:`${o} ${c} ${ce[M]}`):ce=qo(Ae,R?{"flex-grow":o,"flex-shrink":c,"flex-basis":y}:{flex:`${o} ${c} ${y}`}),qo(ce,{"box-sizing":"border-box"})}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(_r))},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i((0,u.LFG)(_r))},token:i,providedIn:"root"}),i})();const Dl=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let jg=(()=>{class i extends Mn{constructor(e,s,o,c,f){super(e,c,s,f),this.layoutConfig=o,this.marshal=f,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(yt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(yt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const o=e.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,c=o.startsWith("row"),f=this.wrap;c&&f?this.styleCache=ja:c&&!f?this.styleCache=$o:!c&&f?this.styleCache=zg:!c&&!f&&(this.styleCache=Hg);const C=Qc(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(C.join(" "),{direction:o,hasWrap:f})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const s=Qc(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(hn),u.Y36(_r),u.Y36(aE),u.Y36(En))},i.\u0275dir=u.lG2({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[u.qOj]}),i})(),rr=(()=>{class i extends jg{constructor(){super(...arguments),this.inputs=Dl}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[u.qOj]}),i})();const $o=new Map,Hg=new Map,ja=new Map,zg=new Map;let Wh=(()=>{class i extends Tn{buildStyles(e,s){const o={},[c,f]=e.split(" ");switch(c){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;case"start":case"flex-start":default:o["justify-content"]="flex-start"}switch(f){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;case"stretch":default:o["align-items"]=o["align-content"]="stretch"}return qo(o,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===f?Uu(s.layout)?null:"100%":null,"max-height":"stretch"===f&&Uu(s.layout)?"100%":null})}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275prov=(0,u.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const wv=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let hE=(()=>{class i extends Mn{constructor(e,s,o,c){super(e,o,s,c),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(yt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const s=this.layout||"row",o=this.inline;"row"===s&&o?this.styleCache=Qh:"row"!==s||o?"row-reverse"===s&&o?this.styleCache=Tl:"row-reverse"!==s||o?"column"===s&&o?this.styleCache=Ei:"column"!==s||o?"column-reverse"===s&&o?this.styleCache=od:"column-reverse"===s&&!o&&(this.styleCache=sd):this.styleCache=Ii:this.styleCache=Ha:this.styleCache=Ml,this.addStyles(e,{layout:s,inline:o})}onLayoutChange(e){const s=e.value.split(" ");this.layout=s[0],this.inline=e.value.includes("inline"),Xn.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(hn),u.Y36(Wh),u.Y36(En))},i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})(),Kg=(()=>{class i extends hE{constructor(){super(...arguments),this.inputs=wv}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[u.qOj]}),i})();const Ml=new Map,Ii=new Map,Ha=new Map,sd=new Map,Qh=new Map,Ei=new Map,Tl=new Map,od=new Map;let Yr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pu,zr]]}),i})(),hm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pu]]}),i})(),TP=(()=>{class i{constructor(e,s){Js(s)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,s=[]){return{ngModule:i,providers:e.serverLoaded?[{provide:_r,useValue:Object.assign(Object.assign({},jc),e)},{provide:ko,useValue:s,multi:!0},{provide:to,useValue:!0}]:[{provide:_r,useValue:Object.assign(Object.assign({},jc),e)},{provide:ko,useValue:s,multi:!0}]}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(to),u.LFG(u.Lbi))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Yr,kg,hm],Yr,kg,hm]}),i})();const EE=["*"];let fm,ST=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-layout"]],ngContentSelectors:EE,decls:3,vars:0,consts:[["fxLayout","row wrap","fxLayoutAlign","center center",1,"layout-wrapper"],["fxFlex","80%","fxFlex.lt-md","100%",1,"flex-wrapper"]],template:function(e,s){1&e&&(u.F$t(),u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u.qZA())},directives:[Uh,Kg,rr],styles:[".layout-wrapper[_ngcontent-%COMP%]{height:100%}.flex-wrapper[_ngcontent-%COMP%]{height:100%}"]}),i})();try{fm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){fm=!1}let or,Ut=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Zs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.Lbi))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(u.Lbi))},token:i,providedIn:"root"}),i})(),hd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();const SE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gv(){if(or)return or;if("object"!=typeof document||!document)return or=new Set(SE),or;let i=document.createElement("input");return or=new Set(SE.filter(t=>(i.setAttribute("type",t),i.type===t))),or}let af,pm,Ol,Uv;function fd(i){return function(){if(null==af&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>af=!0}))}finally{af=af||!1}return af}()?i:!!i.capture}function xE(){if(null==Ol){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ol=!1,Ol;if("scrollBehavior"in document.documentElement.style)Ol=!0;else{const i=Element.prototype.scrollTo;Ol=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ol}function lf(){if("object"!=typeof document||!document)return 0;if(null==pm){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),s=e.style;s.width="2px",s.height="1px",i.appendChild(e),document.body.appendChild(i),pm=0,0===i.scrollLeft&&(i.scrollLeft=1,pm=0===i.scrollLeft?1:2),i.parentNode.removeChild(i)}return pm}function jv(i){if(function(){if(null==Uv){const i="undefined"!=typeof document?document.head:null;Uv=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Uv}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function qa(i){return i.composedPath?i.composedPath()[0]:i.target}var Ye=j(5917),uf=j(9796),DT=j(9105),et=j(8002);function ks(i,t,e,s){return(0,DT.m)(e)&&(s=e,e=void 0),s?ks(i,t,e).pipe((0,et.U)(o=>(0,uf.k)(o)?s(...o):s(o))):new Fn.y(o=>{Hv(i,t,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,e)})}function Hv(i,t,e,s,o){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(t,e,o),c=()=>f.removeEventListener(t,e,o)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(t,e),c=()=>f.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,y=i.length;f<y;f++)Hv(i[f],t,e,s,o)}s.add(c)}var RP=j(6465),gm=j(6102);new class extends gm.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,o=-1,c=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++o<c&&(t=e.shift()));if(this.active=!1,s){for(;++o<c&&(t=e.shift());)t.unsubscribe();throw s}}}(class extends RP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var qv=j(4581),ei=j(5319);function Qu(i,t){return e=>e.lift(new OP(i,t))}class OP{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ME(t,this.compare,this.keySelector))}}class ME extends pi.L{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:o}=this;e=o?o(t):t}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}var Ku=j(3637);class $v{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new kP(t,this.durationSelector))}}class kP extends yr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:o}=this;e=o(t)}catch(o){return this.destination.error(o)}const s=(0,yr.ft)(e,new yr.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var TT=j(6561),Wv=j(4869);function FP(i){const{index:t,period:e,subscriber:s}=i;if(s.next(t),!s.closed){if(-1===e)return s.complete();i.index=t+1,this.schedule(i,e)}}function Qv(i,t=Ku.P){return function(i){return function(e){return e.lift(new $v(i))}}(()=>function(i=0,t,e){let s=-1;return(0,TT.k)(t)?s=Number(t)<1?1:Number(t):(0,Wv.K)(t)&&(e=t),(0,Wv.K)(e)||(e=Ku.P),new Fn.y(o=>{const c=(0,TT.k)(i)?i:+i-e.now();return e.schedule(FP,c,{index:0,period:s,subscriber:o})})}(i,t))}var Kv=j(3282);function Zv(...i){return(0,Kv.J)(1)((0,Ye.of)(...i))}function li(...i){const t=i[i.length-1];return(0,Wv.K)(t)?(i.pop(),e=>Zv(i,e,t)):e=>Zv(i,e)}function Jv(){return i=>i.lift(new Fl)}class Fl{call(t,e){return e.subscribe(new Xv(t))}}class Xv extends pi.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ti=j(4402);function Qn(i,t){return"function"==typeof t?e=>e.pipe(Qn((s,o)=>(0,ti.D)(i(s,o)).pipe((0,et.U)((c,f)=>t(s,c,o,f))))):e=>e.lift(new eb(i))}class eb{constructor(t){this.project=t}call(t,e){return e.subscribe(new TE(t,this.project))}}class TE extends yr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const s=new yr.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,yr.ft)(t,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}j(7771);var Pl=j(9746);j(8858);class Ll{constructor(t=!1,e,s=!0){this._multiple=t,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ze.xQ,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Wa=(()=>{class i{constructor(e,s,o){this._ngZone=e,this._platform=s,this._scrolled=new ze.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Fn.y(s=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(Qv(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ye.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const o=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(rn(c=>!c||o.indexOf(c)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((o,c)=>{this._scrollableContainsElement(c,e)&&s.push(c)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let o=ir(s),c=e.getElementRef().nativeElement;do{if(o==c)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ks(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.R0b),u.LFG(Ut),u.LFG(J,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(u.R0b),u.LFG(Ut),u.LFG(J,8))},token:i,providedIn:"root"}),i})(),md=(()=>{class i{constructor(e,s,o,c){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=o,this.dir=c,this._destroyed=new ze.xQ,this._elementScrolled=new Fn.y(f=>this.ngZone.runOutsideAngular(()=>ks(this.elementRef.nativeElement,"scroll").pipe(yt(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),o&&0!=lf()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==lf()?e.left=e.right:1==lf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;xE()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",o="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==e?e=f?o:s:"end"==e&&(e=f?s:o),f&&2==lf()?e==s?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:f&&1==lf()?e==s?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==s?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Wa),u.Y36(u.R0b),u.Y36(gi,8))},i.\u0275dir=u.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),io=(()=>{class i{constructor(e,s,o){this._platform=e,this._change=new ze.xQ,this._changeListener=c=>{this._change.next(c)},this._document=o,s.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),o=e.documentElement,c=o.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||s.scrollY||o.scrollTop||0,left:-c.left||e.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Qv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut),u.LFG(u.R0b),u.LFG(J,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut),u.LFG(u.R0b),u.LFG(J,8))},token:i,providedIn:"root"}),i})(),_d=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})(),qr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[zr,hd,_d],zr,_d]}),i})();function Ka(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function _f(i,t=Ku.P){return e=>e.lift(new JE(i,t))}class JE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new XE(t,this.dueTime,this.scheduler))}}class XE extends pi.L{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(hI,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function hI(i){i.debouncedNext()}const fb=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var ro=j(9193);function $i(i){return t=>0===i?(0,ro.c)():t.lift(new pb(i))}class pb{constructor(t){if(this.total=t,this.total<0)throw new fb}call(t,e){return e.subscribe(new fI(t,this.total))}}class fI extends pi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function eS(i){return t=>t.lift(new pI(i))}class pI{constructor(t){this.total=t}call(t,e){return e.subscribe(new gI(t,this.total))}}class gI extends pi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let gb=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),tS=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=ir(e);return new Fn.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new ze.xQ,o=this._mutationObserverFactory.create(c=>s.next(c));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:o}=this._observedElements.get(e);s&&s.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(gb))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(gb))},token:i,providedIn:"root"}),i})(),bd=(()=>{class i{constructor(e,s,o){this._contentObserver=e,this._elementRef=s,this._ngZone=o,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Wn(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(_f(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(tS),u.Y36(u.SBq),u.Y36(u.R0b))},i.\u0275dir=u.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Gl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[gb]}),i})();class Ju{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ze.xQ,this._typeaheadSubscription=ei.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ze.xQ,this.change=new ze.xQ,t instanceof u.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$n.b)(e=>this._pressedLetters.push(e)),_f(t),rn(()=>this._pressedLetters.length>0),(0,et.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let o=1;o<s.length+1;o++){const c=(this._activeItemIndex+o)%s.length,f=s[c];if(!this._skipPredicateFn(f)&&0===f.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||Ka(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),s="number"==typeof t?t:e.indexOf(t),o=e[s];this._activeItem=null==o?null:o,this._activeItemIndex=s}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const o=(this._activeItemIndex+t*s+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const s=this._getItemsArray();if(s[t]){for(;this._skipPredicateFn(s[t]);)if(!s[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof u.n_E?this._items.toArray():this._items}}class Cd extends Ju{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Ul extends Ju{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Xu=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(s&&(-1===bb(s)||!this.isVisible(s)))return!1;let o=e.nodeName.toLowerCase(),c=bb(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==c:"video"===o?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||vb(i))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut))},token:i,providedIn:"root"}),i})();function vb(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function bb(i){if(!vb(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class cS{constructor(t,e,s,o,c=!1){this._element=t,this._checker=e,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const s=this._getFirstTabbableElement(e);return null==s||s.focus(t),!!s}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let s=0;s<e.length;s++){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let s=e.length-1;s>=0;s--){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe($i(1)).subscribe(t)}}let dS=(()=>{class i{constructor(e,s,o){this._checker=e,this._ngZone=s,this._document=o}create(e,s=!1){return new cS(e,this._checker,this._ngZone,this._document,s)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Xu),u.LFG(u.R0b),u.LFG(J))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Xu),u.LFG(u.R0b),u.LFG(J))},token:i,providedIn:"root"}),i})();function wb(i){return 0===i.offsetX&&0===i.offsetY}function Cb(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const CI=new u.OlP("cdk-input-modality-detector-options"),EI={ignoreKeys:[18,17,224,91,16]},bf=fd({passive:!0,capture:!0});let SI=(()=>{class i{constructor(e,s,o,c){this._platform=e,this._mostRecentTarget=null,this._modality=new wi(null),this._lastTouchMs=0,this._onKeydown=f=>{var y,C;(null===(C=null===(y=this._options)||void 0===y?void 0:y.ignoreKeys)||void 0===C?void 0:C.some(x=>x===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=qa(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wb(f)?"keyboard":"mouse"),this._mostRecentTarget=qa(f))},this._onTouchstart=f=>{Cb(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qa(f))},this._options=Object.assign(Object.assign({},EI),c),this.modalityDetected=this._modality.pipe(eS(1)),this.modalityChanged=this.modalityDetected.pipe(Qu()),e.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,bf),o.addEventListener("mousedown",this._onMousedown,bf),o.addEventListener("touchstart",this._onTouchstart,bf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,bf),document.removeEventListener("mousedown",this._onMousedown,bf),document.removeEventListener("touchstart",this._onTouchstart,bf))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut),u.LFG(u.R0b),u.LFG(J),u.LFG(CI,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut),u.LFG(u.R0b),u.LFG(J),u.LFG(CI,8))},token:i,providedIn:"root"}),i})();const xI=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),AI=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Cm=(()=>{class i{constructor(e,s,o,c){this._ngZone=s,this._defaultOptions=c,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...s){const o=this._defaultOptions;let c,f;return 1===s.length&&"number"==typeof s[0]?f=s[0]:[c,f]=s,this.clear(),clearTimeout(this._previousTimeout),c||(c=o&&o.politeness?o.politeness:"polite"),null==f&&o&&(f=o.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(y=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,y(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",s=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c]);return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xI,8),u.LFG(u.R0b),u.LFG(J),u.LFG(AI,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(xI,8),u.LFG(u.R0b),u.LFG(J),u.LFG(AI,8))},token:i,providedIn:"root"}),i})();const Em=new u.OlP("cdk-focus-monitor-default-options"),Ad=fd({passive:!0,capture:!0});let Ja=(()=>{class i{constructor(e,s,o,c,f){this._ngZone=e,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ze.xQ,this._rootNodeFocusAndBlurListener=y=>{const C=qa(y),x="focus"===y.type?this._onFocus:this._onBlur;for(let M=C;M;M=M.parentElement)x.call(this,y,M)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,s=!1){const o=ir(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ye.of)(null);const c=jv(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const y={checkChildren:s,subject:new ze.xQ,rootNode:c};return this._elementInfo.set(o,y),this._registerGlobalListeners(y),y.subject}stopMonitoring(e){const s=ir(e),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(e,s,o){const c=ir(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([y,C])=>this._originChanged(y,s,C)):(this._setOrigin(s),"function"==typeof c.focus&&c.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,o){o?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOrigin(e,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,s){const o=this._elementInfo.get(s),c=qa(e);!o||!o.checkChildren&&s!==c||this._originChanged(s,this._getFocusOrigin(c),o)}_onBlur(e,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ad),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ad)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yt(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ad),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ad),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,s,o){this._setClasses(e,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((o,c)=>{(c===e||o.checkChildren&&c.contains(e))&&s.push([c,o])}),s}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.R0b),u.LFG(Ut),u.LFG(SI),u.LFG(J,8),u.LFG(Em,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(u.R0b),u.LFG(Ut),u.LFG(SI),u.LFG(J,8),u.LFG(Em,8))},token:i,providedIn:"root"}),i})();const MI="cdk-high-contrast-black-on-white",TI="cdk-high-contrast-white-on-black",Sb="cdk-high-contrast-active";let xb=(()=>{class i{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(e):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sb),e.remove(MI),e.remove(TI),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(e.add(Sb),e.add(MI)):2===s&&(e.add(Sb),e.add(TI))}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut),u.LFG(J))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut),u.LFG(J))},token:i,providedIn:"root"}),i})(),ON=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xb))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[hd,Gl]]}),i})();const fS=new u.GfV("12.2.2");class ec{}const Xo="*";function jl(i,t){return{type:7,name:i,definitions:t,options:{}}}function $r(i,t=null){return{type:4,styles:t,timings:i}}function pS(i,t=null){return{type:2,steps:i,options:t}}function zn(i){return{type:6,styles:i,offset:null}}function us(i,t,e){return{type:0,name:i,styles:t,options:e}}function Wr(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function RI(i=null){return{type:9,options:i}}function kI(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function Ab(i){Promise.resolve(null).then(i)}class Hl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ab(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class PI{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,o=0;const c=this.players.length;0==c?Ab(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++s==c&&this._onDestroy()}),f.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,y)=>Math.max(f,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(o)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}function gS(){return"undefined"!=typeof window&&void 0!==window.document}function mS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Fs(i){switch(i.length){case 0:return new Hl;case 1:return i[0];default:return new PI(i)}}function Mb(i,t,e,s,o={},c={}){const f=[],y=[];let C=-1,x=null;if(s.forEach(M=>{const R=M.offset,F=R==C,V=F&&x||{};Object.keys(M).forEach(U=>{let Q=U,le=M[U];if("offset"!==U)switch(Q=t.normalizePropertyName(Q,f),le){case"!":le=o[U];break;case Xo:le=c[U];break;default:le=t.normalizeStyleValue(U,Q,le,f)}V[Q]=le}),F||y.push(V),x=V,C=R}),f.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${f.join(M)}`)}return y}function Cf(i,t,e,s){switch(t){case"start":i.onStart(()=>s(e&&Ef(e,"start",i)));break;case"done":i.onDone(()=>s(e&&Ef(e,"done",i)));break;case"destroy":i.onDestroy(()=>s(e&&Ef(e,"destroy",i)))}}function Ef(i,t,e){const s=e.totalTime,c=Tb(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==s?i.totalTime:s,!!e.disabled),f=i._data;return null!=f&&(c._data=f),c}function Tb(i,t,e,s,o="",c=0,f){return{element:i,triggerName:t,fromState:e,toState:s,phaseName:o,totalTime:c,disabled:!!f}}function br(i,t,e){let s;return i instanceof Map?(s=i.get(t),s||i.set(t,s=e)):(s=i[t],s||(s=i[t]=e)),s}function Sm(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let xm=(i,t)=>!1,Ib=(i,t)=>!1,Dm=(i,t,e)=>[];const Rb=mS();(Rb||"undefined"!=typeof Element)&&(xm=gS()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),Ib=(()=>{if(Rb||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,s)=>t.apply(e,[s]):Ib}})(),Dm=(i,t,e)=>{let s=[];if(e){const o=i.querySelectorAll(t);for(let c=0;c<o.length;c++)s.push(o[c])}else{const o=i.querySelector(t);o&&s.push(o)}return s});let zl=null,Am=!1;function Sf(i){zl||(zl=("undefined"!=typeof document?document.body:null)||{},Am=!!zl.style&&"WebkitAppearance"in zl.style);let t=!0;return zl.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in zl.style,!t&&Am&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in zl.style)),t}const Fb=Ib,Mm=xm,Tm=Dm;function Im(i){const t={};return Object.keys(i).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=i[e]}),t}let Pb=(()=>{class i{validateStyleProperty(e){return Sf(e)}matchesElement(e,s){return Fb(e,s)}containsElement(e,s){return Mm(e,s)}query(e,s,o){return Tm(e,s,o)}computeStyle(e,s,o){return o||""}animate(e,s,o,c,f,y=[],C){return new Hl(o,c)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Rm{}Rm.NOOP=new Pb;const xf="ng-enter",Df="ng-leave",Af="ng-trigger",Mf=".ng-trigger",Lb="ng-animating",Om=".ng-animating";function Yl(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bS(parseFloat(t[1]),t[2])}function bS(i,t){switch(t){case"s":return 1e3*i;default:return i}}function km(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let o,c=0,f="";if("string"==typeof i){const y=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};o=bS(parseFloat(y[1]),y[2]);const C=y[3];null!=C&&(c=bS(parseFloat(C),y[4]));const x=y[5];x&&(f=x)}else o=i;if(!e){let y=!1,C=t.length;o<0&&(t.push("Duration values below 0 are not allowed for this animation step."),y=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&t.splice(C,0,`The provided timing value "${i}" is invalid.`)}return{duration:o,delay:c,easing:f}}(i,t,e)}function tc(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function In(i,t,e={}){if(t)for(let s in i)e[s]=i[s];else tc(i,e);return e}function Bb(i,t,e){return e?t+":"+e+";":""}function CS(i){let t="";for(let e=0;e<i.style.length;e++){const s=i.style.item(e);t+=Bb(0,s,i.style.getPropertyValue(s))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Bb(0,xS(e),i.style[e]));i.setAttribute("style",t)}function ea(i,t,e){i.style&&(Object.keys(t).forEach(s=>{const o=Vb(s);e&&!e.hasOwnProperty(s)&&(e[s]=i.style[o]),i.style[o]=t[s]}),mS()&&CS(i))}function ql(i,t){i.style&&(Object.keys(t).forEach(e=>{const s=Vb(e);i.style[s]=""}),mS()&&CS(i))}function Tf(i){return Array.isArray(i)?1==i.length?i[0]:pS(i):i}const Fm=new RegExp("{{\\s*(.+?)\\s*}}","g");function nc(i){let t=[];if("string"==typeof i){let e;for(;e=Fm.exec(i);)t.push(e[1]);Fm.lastIndex=0}return t}function Pm(i,t,e){const s=i.toString(),o=s.replace(Fm,(c,f)=>{let y=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),y=""),y.toString()});return o==s?i:o}function Nm(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const SS=/-+([a-z0-9])/g;function Vb(i){return i.replace(SS,(...t)=>t[1].toUpperCase())}function xS(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function VI(i,t){return 0===i||0===t}function Lm(i,t,e){const s=Object.keys(e);if(s.length&&t.length){let c=t[0],f=[];if(s.forEach(y=>{c.hasOwnProperty(y)||f.push(y),c[y]=e[y]}),f.length)for(var o=1;o<t.length;o++){let y=t[o];f.forEach(function(C){y[C]=Ps(i,C)})}}return t}function wr(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ps(i,t){return window.getComputedStyle(i)[t]}function GI(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,t,e){if(":"==i[0]){const C=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof C)return void t.push(C);i=C}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const o=s[1],c=s[2],f=s[3];t.push(Gb(o,f));"<"==c[0]&&!("*"==o&&"*"==f)&&t.push(Gb(f,o))}(s,e,t)):e.push(i),e}const Qr=new Set(["true","1"]),If=new Set(["false","0"]);function Gb(i,t){const e=Qr.has(i)||If.has(i),s=Qr.has(t)||If.has(t);return(o,c)=>{let f="*"==i||i==o,y="*"==t||t==c;return!f&&e&&"boolean"==typeof o&&(f=o?Qr.has(i):If.has(i)),!y&&s&&"boolean"==typeof c&&(y=c?Qr.has(t):If.has(t)),f&&y}}const UI=new RegExp("s*:selfs*,?","g");function Ub(i,t,e){return new jb(i).build(t,e)}class jb{constructor(t){this._driver=t}build(t,e){const s=new MS(e);return this._resetContextStyleTimingState(s),wr(this,Tf(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,o=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const C=y,x=C.name;x.toString().split(/\s*,\s*/).forEach(M=>{C.name=M,c.push(this.visitState(C,e))}),C.name=x}else if(1==y.type){const C=this.visitTransition(y,e);s+=C.queryCount,o+=C.depCount,f.push(C)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:s,depCount:o,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(s.containsDynamicStyles){const c=new Set,f=o||{};if(s.styles.forEach(y=>{if(Of(y)){const C=y;Object.keys(C).forEach(x=>{nc(C[x]).forEach(M=>{f.hasOwnProperty(M)||c.add(M)})})}}),c.size){const y=Nm(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:t.name,style:s,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=wr(this,Tf(t.animation),e);return{type:1,matchers:GI(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:na(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>wr(this,s,e)),options:na(t.options)}}visitGroup(t,e){const s=e.currentTime;let o=0;const c=t.steps.map(f=>{e.currentTime=s;const y=wr(this,f,e);return o=Math.max(o,e.currentTime),y});return e.currentTime=o,{type:3,steps:c,options:na(t.options)}}visitAnimate(t,e){const s=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return Hb(km(i,t).duration,0,"");const s=i;if(s.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Hb(0,0,"");return c.dynamic=!0,c.strValue=s,c}return e=e||km(s,t),Hb(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let o,c=t.styles?t.styles:zn({});if(5==c.type)o=this.visitKeyframes(c,e);else{let f=t.styles,y=!1;if(!f){y=!0;const x={};s.easing&&(x.easing=s.easing),f=zn(x)}e.currentTime+=s.duration+s.delay;const C=this.visitStyle(f,e);C.isEmptyStep=y,o=C}return e.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Xo?s.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(t.styles);let o=!1,c=null;return s.forEach(f=>{if(Of(f)){const y=f,C=y.easing;if(C&&(c=C,delete y.easing),!o)for(let x in y)if(y[x].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let o=e.currentTime,c=e.currentTime;s&&c>0&&(c-=s.duration+s.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void e.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const C=e.collectedStyles[e.currentQuerySelector],x=C[y];let M=!0;x&&(c!=o&&c>=x.startTime&&o<=x.endTime&&(e.errors.push(`The CSS property "${y}" that exists between the times of "${x.startTime}ms" and "${x.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${o}ms"`),M=!1),c=x.startTime),M&&(C[y]={startTime:c,endTime:o}),e.options&&function(i,t,e){const s=t.params||{},o=nc(i);o.length&&o.forEach(c=>{s.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[y],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let c=0;const f=[];let y=!1,C=!1,x=0;const M=t.steps.map(ce=>{const Ae=this._makeStyleAst(ce,e);let Ie=null!=Ae.offset?Ae.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(Of(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(Of(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(Ae.styles),qe=0;return null!=Ie&&(c++,qe=Ae.offset=Ie),C=C||qe<0||qe>1,y=y||qe<x,x=qe,f.push(qe),Ae});C&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&e.errors.push("Please ensure that all keyframe offsets are in order");const R=t.steps.length;let F=0;c>0&&c<R?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(F=1/(R-1));const V=R-1,U=e.currentTime,Q=e.currentAnimateTimings,le=Q.duration;return M.forEach((ce,Ae)=>{const Ie=F>0?Ae==V?1:F*Ae:f[Ae],qe=Ie*le;e.currentTime=U+Q.delay+qe,Q.duration=qe,this._validateStyleAst(ce,e),ce.offset=Ie,s.styles.push(ce)}),s}visitReference(t,e){return{type:8,animation:wr(this,Tf(t.animation),e),options:na(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:na(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:na(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(UI,"")),[i=i.replace(/@\*/g,Mf).replace(/@\w+/g,e=>Mf+"-"+e.substr(1)).replace(/:animating/g,Om),t]}(t.selector);e.currentQuerySelector=s.length?s+" "+c:c,br(e.collectedStyles,e.currentQuerySelector,{});const y=wr(this,Tf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:y,originalSelector:t.selector,options:na(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:km(t.timings,e.errors,!0);return{type:12,animation:wr(this,Tf(t.animation),e),timings:s,options:null}}}class MS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Of(i){return!Array.isArray(i)&&"object"==typeof i}function na(i){return i?(i=tc(i)).params&&(i.params=function(i){return i?tc(i):null}(i.params)):i={},i}function Hb(i,t,e){return{duration:i,delay:t,easing:e}}function Vm(i,t,e,s,o,c,f=null,y=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:s,duration:o,delay:c,totalTime:o+c,easing:f,subTimeline:y}}class kf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const IS=new RegExp(":enter","g"),RS=new RegExp(":leave","g");function Um(i,t,e,s,o,c={},f={},y,C,x=[]){return(new OS).buildKeyframes(i,t,e,s,o,c,f,y,C,x)}class OS{buildKeyframes(t,e,s,o,c,f,y,C,x,M=[]){x=x||new kf;const R=new jm(t,e,x,o,c,M,[]);R.options=C,R.currentTimeline.setStyles([f],null,R.errors,C),wr(this,s,R);const F=R.timelines.filter(V=>V.containsAnimation());if(F.length&&Object.keys(y).length){const V=F[F.length-1];V.allowOnlyTimelineStyles()||V.setStyles([y],null,R.errors,C)}return F.length?F.map(V=>V.buildKeyframes()):[Vm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.consume(e.element);if(s){const o=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let c=e.currentTimeline.currentTime;const f=null!=s.duration?Yl(s.duration):null,y=null!=s.delay?Yl(s.delay):null;return 0!==f&&t.forEach(C=>{const x=e.appendInstructionToTimeline(C,f,y);c=Math.max(c,x.duration+x.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),wr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let o=e;const c=t.options;if(c&&(c.params||c.delay)&&(o=e.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ff);const f=Yl(c.delay);o.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>wr(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let o=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Yl(t.options.delay):0;t.steps.forEach(f=>{const y=e.createSubContext(t.options);c&&y.delayNextStep(c),wr(this,f,y),o=Math.max(o,y.currentTimeline.currentTime),s.push(y.currentTimeline)}),s.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return km(e.params?Pm(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),o.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(s.duration),this.visitStyle(c,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,o=e.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const c=o&&o.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(c):s.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,o=e.currentTimeline.duration,c=s.duration,y=e.createSubContext().currentTimeline;y.easing=s.easing,t.styles.forEach(C=>{y.forwardTime((C.offset||0)*c),y.setStyles(C.styles,C.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(o+c),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,o=t.options||{},c=o.delay?Yl(o.delay):0;c&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ff);let f=s;const y=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=y.length;let C=null;y.forEach((x,M)=>{e.currentQueryIndex=M;const R=e.createSubContext(t.options,x);c&&R.delayNextStep(c),x===e.element&&(C=R.currentTimeline),wr(this,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,o=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),y=f*(e.currentQueryTotal-1);let C=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":C=y-C;break;case"full":C=s.currentStaggerTime}const M=e.currentTimeline;C&&M.delayNextStep(C);const R=M.currentTime;wr(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=o.currentTime-R+(o.startTime-s.currentTimeline.startTime)}}const Ff={};class jm{constructor(t,e,s,o,c,f,y,C){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=c,this.errors=f,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ff,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new Pf(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let o=this.options;null!=s.duration&&(o.duration=Yl(s.duration)),null!=s.delay&&(o.delay=Yl(s.delay));const c=s.params;if(c){let f=o.params;f||(f=this.options.params={}),Object.keys(c).forEach(y=>{(!e||!f.hasOwnProperty(y))&&(f[y]=Pm(c[y],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(o=>{s[o]=e[o]})}}return t}createSubContext(t=null,e,s){const o=e||this.element,c=new jm(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Ff,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},c=new kS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,o,c,f){let y=[];if(o&&y.push(this.element),t.length>0){t=(t=t.replace(IS,"."+this._enterClassName)).replace(RS,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=s);0!==s&&(x=s<0?x.slice(x.length+s,x.length):x.slice(0,s)),y.push(...x)}return!c&&0==y.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),y}}class Pf{constructor(t,e,s,o){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Pf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Xo,this._currentKeyframe[e]=Xo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,o){e&&(this._previousKeyframe.easing=e);const c=o&&o.params||{},f=function(i,t){const e={};let s;return i.forEach(o=>{"*"===o?(s=s||Object.keys(t),s.forEach(c=>{e[c]=Xo})):In(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(y=>{const C=Pm(f[y],c,s);this._pendingStyles[y]=C,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:Xo),this._updateStyle(y,C)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],o=t._styleSummary[e];(!s||o.time>s.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((y,C)=>{const x=In(y,!0);Object.keys(x).forEach(M=>{const R=x[M];"!"==R?t.add(M):R==Xo&&e.add(M)}),s||(x.offset=C/this.duration),o.push(x)});const c=t.size?Nm(t.values()):[],f=e.size?Nm(e.values()):[];if(s){const y=o[0],C=tc(y);y.offset=0,C.offset=1,o=[y,C]}return Vm(this.element,o,c,f,this.duration,this.startTime,this.easing,!1)}}class kS extends Pf{constructor(t,e,s,o,c,f,y=!1){super(t,e,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=y,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=s+e,y=e/f,C=In(t[0],!1);C.offset=0,c.push(C);const x=In(t[0],!1);x.offset=FS(y),c.push(x);const M=t.length-1;for(let R=1;R<=M;R++){let F=In(t[R],!1);F.offset=FS((e+F.offset*s)/f),c.push(F)}s=f,e=0,o="",t=c}return Vm(this.element,t,this.preStyleProps,this.postStyleProps,s,e,o,!0)}}function FS(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class qb{}class YI extends qb{normalizePropertyName(t,e){return Vb(t)}normalizeStyleValue(t,e,s,o){let c="";const f=s.toString().trim();if(qI[e]&&0!==s&&"0"!==s)if("number"==typeof s)c="px";else{const y=s.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&o.push(`Please provide a CSS unit value for ${t}:${s}`)}return f+c}}const qI=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PS(i,t,e,s,o,c,f,y,C,x,M,R,F){return{type:0,element:i,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:c,toState:s,toStyles:f,timelines:y,queriedElements:C,preStyleProps:x,postStyleProps:M,totalTime:R,errors:F}}const $b={};class NS{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,o){return function(i,t,e,s,o){return i.some(c=>c(t,e,s,o))}(this.ast.matchers,t,e,s,o)}buildStyles(t,e,s){const o=this._stateStyles["*"],c=this._stateStyles[t],f=o?o.buildStyles(e,s):{};return c?c.buildStyles(e,s):f}build(t,e,s,o,c,f,y,C,x,M){const R=[],F=this.ast.options&&this.ast.options.params||$b,U=this.buildStyles(s,y&&y.params||$b,R),Q=C&&C.params||$b,le=this.buildStyles(o,Q,R),ce=new Set,Ae=new Map,Ie=new Map,qe="void"===o,Ke={params:Object.assign(Object.assign({},F),Q)},Nt=M?[]:Um(t,e,this.ast.animation,c,f,U,le,Ke,x,R);let on=0;if(Nt.forEach(bs=>{on=Math.max(bs.duration+bs.delay,on)}),R.length)return PS(e,this._triggerName,s,o,qe,U,le,[],[],Ae,Ie,on,R);Nt.forEach(bs=>{const ga=bs.element,VC=br(Ae,ga,{});bs.preStyleProps.forEach(eg=>VC[eg]=!0);const GC=br(Ie,ga,{});bs.postStyleProps.forEach(eg=>GC[eg]=!0),ga!==e&&ce.add(ga)});const yo=Nm(ce.values());return PS(e,this._triggerName,s,o,qe,U,le,Nt,yo,Ae,Ie,on)}}class QI{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},o=tc(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(o[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(y=>{let C=f[y];C.length>1&&(C=Pm(C,o,e));const x=this.normalizer.normalizePropertyName(y,e);C=this.normalizer.normalizeStyleValue(y,x,C,e),s[x]=C})}}),s}}class ZI{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new QI(o.style,o.options&&o.options.params||{},s)}),Wb(this.states,"true","1"),Wb(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new NS(t,o,this.states))}),this.fallbackTransition=function(i,t,e){return new NS(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,y)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,o){return this.transitionFactories.find(f=>f.match(t,e,s,o))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function Wb(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const LS=new kf;class BS{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],o=Ub(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,s){const o=t.element,c=Mb(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(o,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const o=[],c=this._animations[t];let f;const y=new Map;if(c?(f=Um(this._driver,e,c,xf,Df,{},{},s,LS,o),f.forEach(M=>{const R=br(y,M.element,{});M.postStyleProps.forEach(F=>R[F]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);y.forEach((M,R)=>{Object.keys(M).forEach(F=>{M[F]=this._driver.computeStyle(R,F,Xo)})});const x=Fs(f.map(M=>{const R=y.get(M.element);return this._buildPlayer(M,{},R)}));return this._playersById[t]=x,x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,s,o){const c=Tb(e,"","","");return Cf(this._getPlayer(t),s,c,o),()=>{}}command(t,e,s,o){if("register"==s)return void this.register(t,o[0]);if("create"==s)return void this.create(t,e,o[0]||{});const c=this._getPlayer(t);switch(s){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Qb="ng-animate-queued",Kb="ng-animate-disabled",Zb=".ng-animate-disabled",Jb=[],Hm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ic={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ns="__ng_removed";class Xb{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=null!=(i=s?t.value:t)?i:null,s){const c=tc(t);delete c.value,this.options=c}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(o=>{null==s[o]&&(s[o]=e[o])})}}}const ia="void",jS=new Xb(ia);class ew{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cr(e,this._hostClassName)}listen(t,e,s,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=s)&&"done"!=i)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);var i;const c=br(this._elementListeners,t,[]),f={name:e,phase:s,callback:o};c.push(f);const y=br(this._engine.statesByElement,t,{});return y.hasOwnProperty(e)||(Cr(t,Af),Cr(t,Af+"-"+e),y[e]=jS),()=>{this._engine.afterFlush(()=>{const C=c.indexOf(f);C>=0&&c.splice(C,1),this._triggers[e]||delete y[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,s,o=!0){const c=this._getTrigger(e),f=new zm(this.id,e,t);let y=this._engine.statesByElement.get(t);y||(Cr(t,Af),Cr(t,Af+"-"+e),this._engine.statesByElement.set(t,y={}));let C=y[e];const x=new Xb(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&x.absorbOptions(C.options),y[e]=x,C||(C=jS),x.value!==ia&&C.value===x.value){if(!function(i,t){const e=Object.keys(i),s=Object.keys(t);if(e.length!=s.length)return!1;for(let o=0;o<e.length;o++){const c=e[o];if(!t.hasOwnProperty(c)||i[c]!==t[c])return!1}return!0}(C.params,x.params)){const Q=[],le=c.matchStyles(C.value,C.params,Q),ce=c.matchStyles(x.value,x.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{ql(t,le),ea(t,ce)})}return}const F=br(this._engine.playersByElement,t,[]);F.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let V=c.matchTransition(C.value,x.value,t,x.params),U=!1;if(!V){if(!o)return;V=c.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:C,toState:x,player:f,isFallbackTransition:U}),U||(Cr(t,Qb),f.onStart(()=>{Sn(t,Qb)})),f.onDone(()=>{let Q=this.players.indexOf(f);Q>=0&&this.players.splice(Q,1);const le=this._engine.playersByElement.get(t);if(le){let ce=le.indexOf(f);ce>=0&&le.splice(ce,1)}}),this.players.push(f),F.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,Mf,!0);s.forEach(o=>{if(o[Ns])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(f=>f.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,s,o){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(y=>{if(this._triggers[y]){const C=this.trigger(t,y,ia,o);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),s&&Fs(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const o=new Set;e.forEach(c=>{const f=c.name;if(o.has(f))return;o.add(f);const C=this._triggers[f].fallbackTransition,x=s[f]||jS,M=new Xb(ia),R=new zm(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:C,fromState:x,toState:M,player:R,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(s.totalAnimations){const c=s.players.length?s.playersByQueriedElement.get(t):[];if(c&&c.length)o=!0;else{let f=t;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)s.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Ns];(!c||c===Hm)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Cr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const c=s.element,f=this._elementListeners.get(c);f&&f.forEach(y=>{if(y.name==s.triggerName){const C=Tb(c,s.triggerName,s.fromState.value,s.toState.value);C._data=t,Cf(s.player,y.phase,C,y.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(s)}),this._queue=[],e.sort((s,o)=>{const c=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class VN{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new ew(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let c=s;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let o=this._namespaceLookup[t];o&&o.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const o=Object.keys(s);for(let c=0;c<o.length;c++){const f=s[o[c]].namespaceId;if(f){const y=this._fetchNamespace(f);y&&e.add(y)}}}return e}trigger(t,e,s,o){if(ct(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,s,o),!0}return!1}insertNode(t,e,s,o){if(!ct(e))return;const c=e[Ns];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,s)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cr(t,Kb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sn(t,Kb))}removeNode(t,e,s,o){if(ct(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),s){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,s,o){this.collectedLeaveElements.push(e),e[Ns]={namespaceId:t,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(t,e,s,o,c){return ct(e)?this._fetchNamespace(t).listen(e,s,o,c):()=>{}}_buildInstruction(t,e,s,o,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,o,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Mf,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Om,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ns];if(e&&e.setForRemoval){if(t[Ns]=Hm,e.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Zb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Zb,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Cr(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?Fs(e).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const s=new kf,o=[],c=new Map,f=[],y=new Map,C=new Map,x=new Map,M=new Set;this.disabledNodes.forEach(nt=>{M.add(nt);const mt=this.driver.query(nt,".ng-animate-queued",!0);for(let It=0;It<mt.length;It++)M.add(mt[It])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=Nf(F,this.collectedEnterElements),U=new Map;let Q=0;V.forEach((nt,mt)=>{const It=xf+Q++;U.set(mt,It),nt.forEach(an=>Cr(an,It))});const le=[],ce=new Set,Ae=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const mt=this.collectedLeaveElements[nt],It=mt[Ns];It&&It.setForRemoval&&(le.push(mt),ce.add(mt),It.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(an=>ce.add(an)):Ae.add(mt))}const Ie=new Map,qe=Nf(F,Array.from(ce));qe.forEach((nt,mt)=>{const It=Df+Q++;Ie.set(mt,It),nt.forEach(an=>Cr(an,It))}),t.push(()=>{V.forEach((nt,mt)=>{const It=U.get(mt);nt.forEach(an=>Sn(an,It))}),qe.forEach((nt,mt)=>{const It=Ie.get(mt);nt.forEach(an=>Sn(an,It))}),le.forEach(nt=>{this.processLeaveNode(nt)})});const Ke=[],Nt=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(It=>{const an=It.player,fr=It.element;if(Ke.push(an),this.collectedEnterElements.length){const pu=fr[Ns];if(pu&&pu.setForMove)return void an.destroy()}const fu=!R||!this.driver.containsElement(R,fr),vo=Ie.get(fr),ph=U.get(fr),_i=this._buildInstruction(It,s,ph,vo,fu);if(_i.errors&&_i.errors.length)Nt.push(_i);else{if(fu)return an.onStart(()=>ql(fr,_i.fromStyles)),an.onDestroy(()=>ea(fr,_i.toStyles)),void o.push(an);if(It.isFallbackTransition)return an.onStart(()=>ql(fr,_i.fromStyles)),an.onDestroy(()=>ea(fr,_i.toStyles)),void o.push(an);_i.timelines.forEach(pu=>pu.stretchStartingKeyframe=!0),s.append(fr,_i.timelines),f.push({instruction:_i,player:an,element:fr}),_i.queriedElements.forEach(pu=>br(y,pu,[]).push(an)),_i.preStyleProps.forEach((pu,UC)=>{const yT=Object.keys(pu);if(yT.length){let tg=C.get(UC);tg||C.set(UC,tg=new Set),yT.forEach(DP=>tg.add(DP))}}),_i.postStyleProps.forEach((pu,UC)=>{const yT=Object.keys(pu);let tg=x.get(UC);tg||x.set(UC,tg=new Set),yT.forEach(DP=>tg.add(DP))})}});if(Nt.length){const nt=[];Nt.forEach(mt=>{nt.push(`@${mt.triggerName} has failed due to:\n`),mt.errors.forEach(It=>nt.push(`- ${It}\n`))}),Ke.forEach(mt=>mt.destroy()),this.reportError(nt)}const on=new Map,yo=new Map;f.forEach(nt=>{const mt=nt.element;s.has(mt)&&(yo.set(mt,mt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,on))}),o.forEach(nt=>{const mt=nt.element;this._getPreviousPlayers(mt,!1,nt.namespaceId,nt.triggerName,null).forEach(an=>{br(on,mt,[]).push(an),an.destroy()})});const bs=le.filter(nt=>nw(nt,C,x)),ga=new Map;YS(ga,this.driver,Ae,x,Xo).forEach(nt=>{nw(nt,C,x)&&bs.push(nt)});const GC=new Map;V.forEach((nt,mt)=>{YS(GC,this.driver,new Set(nt),C,"!")}),bs.forEach(nt=>{const mt=ga.get(nt),It=GC.get(nt);ga.set(nt,Object.assign(Object.assign({},mt),It))});const eg=[],ZU=[],JU={};f.forEach(nt=>{const{element:mt,player:It,instruction:an}=nt;if(s.has(mt)){if(M.has(mt))return It.onDestroy(()=>ea(mt,an.toStyles)),It.disabled=!0,It.overrideTotalTime(an.totalTime),void o.push(It);let fr=JU;if(yo.size>1){let vo=mt;const ph=[];for(;vo=vo.parentNode;){const _i=yo.get(vo);if(_i){fr=_i;break}ph.push(vo)}ph.forEach(_i=>yo.set(_i,fr))}const fu=this._buildAnimation(It.namespaceId,an,on,c,GC,ga);if(It.setRealPlayer(fu),fr===JU)eg.push(It);else{const vo=this.playersByElement.get(fr);vo&&vo.length&&(It.parentPlayer=Fs(vo)),o.push(It)}}else ql(mt,an.fromStyles),It.onDestroy(()=>ea(mt,an.toStyles)),ZU.push(It),M.has(mt)&&o.push(It)}),ZU.forEach(nt=>{const mt=c.get(nt.element);if(mt&&mt.length){const It=Fs(mt);nt.setRealPlayer(It)}}),o.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<le.length;nt++){const mt=le[nt],It=mt[Ns];if(Sn(mt,Df),It&&It.hasAnimation)continue;let an=[];if(y.size){let fu=y.get(mt);fu&&fu.length&&an.push(...fu);let vo=this.driver.query(mt,Om,!0);for(let ph=0;ph<vo.length;ph++){let _i=y.get(vo[ph]);_i&&_i.length&&an.push(..._i)}}const fr=an.filter(fu=>!fu.destroyed);fr.length?UN(this,mt,fr):this.processLeaveNode(mt)}return le.length=0,eg.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const mt=this.players.indexOf(nt);this.players.splice(mt,1)}),nt.play()}),eg}elementContainsData(t,e){let s=!1;const o=e[Ns];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,o,c){let f=[];if(e){const y=this.playersByQueriedElement.get(t);y&&(f=y)}else{const y=this.playersByElement.get(t);if(y){const C=!c||c==ia;y.forEach(x=>{x.queued||!C&&x.triggerName!=o||f.push(x)})}}return(s||o)&&(f=f.filter(y=>!(s&&s!=y.namespaceId||o&&o!=y.triggerName))),f}_beforeAnimationBuild(t,e,s){const c=e.element,f=e.isRemovalTransition?void 0:t,y=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const x=C.element,M=x!==c,R=br(s,x,[]);this._getPreviousPlayers(x,M,f,y,e.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),R.push(V)})}ql(c,e.fromStyles)}_buildAnimation(t,e,s,o,c,f){const y=e.triggerName,C=e.element,x=[],M=new Set,R=new Set,F=e.timelines.map(U=>{const Q=U.element;M.add(Q);const le=Q[Ns];if(le&&le.removedBeforeQueried)return new Hl(U.duration,U.delay);const ce=Q!==C,Ae=function(i){const t=[];return qm(i,t),t}((s.get(Q)||Jb).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===Q),Ie=c.get(Q),qe=f.get(Q),Ke=Mb(0,this._normalizer,0,U.keyframes,Ie,qe),Nt=this._buildPlayer(U,Ke,Ae);if(U.subTimeline&&o&&R.add(Q),ce){const on=new zm(t,y,Q);on.setRealPlayer(Nt),x.push(on)}return Nt});x.forEach(U=>{br(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function(i,t,e){let s;if(i instanceof Map){if(s=i.get(t),s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&i.delete(t)}}else if(s=i[t],s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&delete i[t]}return s}(this.playersByQueriedElement,U.element,U))}),M.forEach(U=>Cr(U,Lb));const V=Fs(F);return V.onDestroy(()=>{M.forEach(U=>Sn(U,Lb)),ea(C,e.toStyles)}),R.forEach(U=>{br(o,U,[]).push(V)}),V}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Hl(t.duration,t.delay)}}class zm{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Hl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>Cf(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){br(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ct(i){return i&&1===i.nodeType}function zS(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function YS(i,t,e,s,o){const c=[];e.forEach(C=>c.push(zS(C)));const f=[];s.forEach((C,x)=>{const M={};C.forEach(R=>{const F=M[R]=t.computeStyle(x,R,o);(!F||0==F.length)&&(x[Ns]=ic,f.push(x))}),i.set(x,M)});let y=0;return e.forEach(C=>zS(C,c[y++])),f}function Nf(i,t){const e=new Map;if(i.forEach(y=>e.set(y,[])),0==t.length)return e;const o=new Set(t),c=new Map;function f(y){if(!y)return 1;let C=c.get(y);if(C)return C;const x=y.parentNode;return C=e.has(x)?x:o.has(x)?1:f(x),c.set(y,C),C}return t.forEach(y=>{const C=f(y);1!==C&&e.get(C).push(y)}),e}const Ym="$$classes";function Cr(i,t){if(i.classList)i.classList.add(t);else{let e=i[Ym];e||(e=i[Ym]={}),e[t]=!0}}function Sn(i,t){if(i.classList)i.classList.remove(t);else{let e=i[Ym];e&&delete e[t]}}function UN(i,t,e){Fs(e).onDone(()=>i.processLeaveNode(t))}function qm(i,t){for(let e=0;e<i.length;e++){const s=i[e];s instanceof PI?qm(s.players,t):t.push(s)}}function nw(i,t,e){const s=e.get(i);if(!s)return!1;let o=t.get(i);return o?s.forEach(c=>o.add(c)):t.set(i,s),e.delete(i),!0}class Lf{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new VN(t,e,s),this._timelineEngine=new BS(t,e,s),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(t,e,s,o,c){const f=t+"-"+o;let y=this._triggerCache[f];if(!y){const C=[],x=Ub(this._driver,c,C);if(C.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);y=function(i,t,e){return new ZI(i,t,e)}(o,x,this._normalizer),this._triggerCache[f]=y}this._transitionEngine.registerTrigger(e,o,y)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,o){this._transitionEngine.insertNode(t,e,s,o)}onRemove(t,e,s,o){this._transitionEngine.removeNode(t,e,o||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,o){if("@"==s.charAt(0)){const[c,f]=Sm(s);this._timelineEngine.command(c,e,f,o)}else this._transitionEngine.trigger(t,e,s,o)}listen(t,e,s,o,c){if("@"==s.charAt(0)){const[f,y]=Sm(s);return this._timelineEngine.listen(f,e,y,c)}return this._transitionEngine.listen(t,e,s,o,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function iw(i,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=rw(t[0]),t.length>1&&(s=rw(t[t.length-1]))):t&&(e=rw(t)),e||s?new rc(i,e,s):null}class rc{constructor(t,e,s){this._element=t,this._startStyles=e,this._endStyles=s,this._state=0;let o=rc.initialStylesByElement.get(t);o||rc.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ea(this._element,this._initialStyles),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rc.initialStylesByElement.delete(this._element),this._startStyles&&(ql(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ql(this._element,this._endStyles),this._endStyles=null),ea(this._element,this._initialStyles),this._state=3)}}function rw(i){let t=null;const e=Object.keys(i);for(let s=0;s<e.length;s++){const o=e[s];tR(o)&&(t=t||{},t[o]=i[o])}return t}function tR(i){return"display"===i||"position"===i}rc.initialStylesByElement=new WeakMap;const Md="animation",$S="animationend";class rR{constructor(t,e,s,o,c,f,y){this._element=t,this._name=e,this._duration=s,this._delay=o,this._easing=c,this._fillMode=f,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(i,t){const e=aw(i,"").trim();let s=0;e.length&&(function(i,t){let e=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&e++;return e}(e)+1,t=`${e}, ${t}`),$l(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Td(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bf(this._element,this._name,"paused")}resume(){Bf(this._element,this._name,"running")}setPosition(t){const e=sw(this._element,this._name);this._position=t*this._duration,$l(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Td(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const s=aw(i,"").split(","),o=ow(s,t);o>=0&&(s.splice(o,1),$l(i,"",s.join(",")))}(this._element,this._name))}}function Bf(i,t,e){$l(i,"PlayState",e,sw(i,t))}function sw(i,t){const e=aw(i,"");return e.indexOf(",")>0?ow(e.split(","),t):ow([e],t)}function ow(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function Td(i,t,e){e?i.removeEventListener($S,t):i.addEventListener($S,t)}function $l(i,t,e,s){const o=Md+t;if(null!=s){const c=i.style[o];if(c.length){const f=c.split(",");f[s]=e,e=f.join(",")}}i.style[o]=e}function aw(i,t){return i.style[Md+t]||""}class lw{constructor(t,e,s,o,c,f,y,C){this.element=t,this.keyframes=e,this.animationName=s,this._duration=o,this._delay=c,this._finalStyles=y,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new rR(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(t[s]=e?this._finalStyles[s]:Ps(this.element,s))})}this.currentSnapshot=t}}class ZS extends Hl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Im(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class JS{constructor(){this._count=0}validateStyleProperty(t){return Sf(t)}matchesElement(t,e){return Fb(t,e)}containsElement(t,e){return Mm(t,e)}query(t,e,s){return Tm(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,s){s=s.map(y=>Im(y));let o=`@keyframes ${e} {\n`,c="";s.forEach(y=>{c=" ";const C=parseFloat(y.offset);o+=`${c}${100*C}% {\n`,c+=" ",Object.keys(y).forEach(x=>{const M=y[x];switch(x){case"offset":return;case"easing":return void(M&&(o+=`${c}animation-timing-function: ${M};\n`));default:return void(o+=`${c}${x}: ${M};\n`)}}),o+=`${c}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(t,e,s,o,c,f=[],y){const C=f.filter(le=>le instanceof lw),x={};VI(s,o)&&C.forEach(le=>{let ce=le.currentSnapshot;Object.keys(ce).forEach(Ae=>x[Ae]=ce[Ae])});const M=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(t[o]=s[o])})}),t}(e=Lm(t,e,x));if(0==s)return new ZS(t,M);const R="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(t,R,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(F);const U=iw(t,e),Q=new lw(t,e,R,s,o,c,M,U);return Q.onDestroy(()=>{var i;(i=F).parentNode.removeChild(i)}),Q}}class cw{constructor(t,e,s,o){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ps(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class $m{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XS().toString()),this._cssKeyframesDriver=new JS}validateStyleProperty(t){return Sf(t)}matchesElement(t,e){return Fb(t,e)}containsElement(t,e){return Mm(t,e)}query(t,e,s){return Tm(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,s,o,c,f=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,s,o,c,f);const M={duration:s,delay:o,fill:0==o?"both":"forwards"};c&&(M.easing=c);const R={},F=f.filter(U=>U instanceof cw);VI(s,o)&&F.forEach(U=>{let Q=U.currentSnapshot;Object.keys(Q).forEach(le=>R[le]=Q[le])});const V=iw(t,e=Lm(t,e=e.map(U=>In(U,!1)),R));return new cw(t,e,M,V)}}function XS(){return gS()&&Element.prototype.animate||{}}let ex=(()=>{class i extends ec{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?pS(e):e;return tx(this._renderer,null,s,"register",[o]),new Vf(s,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.FYo),u.LFG(J))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Vf extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new dR(this._id,t,e||{},this._renderer)}}class dR{constructor(t,e,s,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tx(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function tx(i,t,e,s,o){return i.setProperty(t,`@@${e}:${s}`,o)}const nx="@.disabled";let hR=(()=>{class i{constructor(e,s,o){this.delegate=e,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,s){const c=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let M=this._rendererCache.get(c);return M||(M=new dw("",c,this.engine),this._rendererCache.set(c,M)),M}const f=s.id,y=s.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const C=M=>{Array.isArray(M)?M.forEach(C):this.engine.registerTrigger(f,y,e,M.name,M)};return s.data.animation.forEach(C),new fR(this,y,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,o){e>=0&&e<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,y]=c;f(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.FYo),u.LFG(Lf),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class dw{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,o=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,o){this.delegate.setAttribute(t,e,s,o)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,o){this.delegate.setStyle(t,e,s,o)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==nx?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fR extends dw{constructor(t,e,s,o){super(e,s,o),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nx?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const o=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,o,c,f,y=>{this.factory.scheduleListenerCallback(y._data||-1,s,y)})}return this.delegate.listen(t,e,s)}}let gR=(()=>{class i extends Lf{constructor(e,s,o){super(e.body,s,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J),u.LFG(Rm),u.LFG(qb))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const ni=new u.OlP("AnimationModuleType"),hw=[{provide:ec,useClass:ex},{provide:qb,useFactory:function(){return new YI}},{provide:Lf,useClass:gR},{provide:u.FYo,useFactory:function(i,t,e){return new hR(i,t,e)},deps:[As,Lf,u.R0b]}],sx=[{provide:Rm,useFactory:function(){return"function"==typeof XS()?new $m:new JS}},{provide:ni,useValue:"BrowserAnimations"},...hw],Qm=[{provide:Rm,useClass:Pb},{provide:ni,useValue:"NoopAnimations"},...hw];let _R=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Qm:sx}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:sx,imports:[Dh]}),i})();function bR(i,t){if(1&i&&u._UZ(0,"mat-pseudo-checkbox",4),2&i){const e=u.oxw();u.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function wR(i,t){if(1&i&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&i){const e=u.oxw();u.xp6(1),u.hij("(",e.group.label,")")}}const fw=["*"],ax=new u.GfV("12.2.2"),SR=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let oc,Qt=(()=>{class i{constructor(e,s,o){this._hasDoneGlobalChecks=!1,this._document=o,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,u.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const s=getComputedStyle(e);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ax.full!==fS.full&&console.warn("The Angular Material version ("+ax.full+") does not match the Angular CDK version ("+fS.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xb),u.LFG(SR,8),u.LFG(J))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[zr],zr]}),i})();function Wl(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=at(t)}}}function sc(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Xa(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=at(t)}}}function pw(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Wn(e):this.defaultTabIndex}}}function gw(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new ze.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{oc="undefined"!=typeof Intl}catch(i){oc=!1}let Zm=(()=>{class i{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),OR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function ao(i,t,e){const s=i.nativeElement.classList;e?s.add(t):s.remove(t)}let kR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt],Qt]}),i})();class vw{constructor(t,e,s){this._renderer=t,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gf={enterDuration:225,exitDuration:150},Ql=fd({passive:!0}),px=["mousedown","touchstart"],PR=["mouseup","mouseleave","touchend","touchcancel"];class gx{constructor(t,e,s,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ir(s))}fadeInRipple(t,e,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},Gf),s.animation);s.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const f=s.radius||function(i,t,e){const s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(s*s+o*o)}(t,e,o),y=t-o.left,C=e-o.top,x=c.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=y-f+"px",M.style.top=C-f+"px",M.style.height=2*f+"px",M.style.width=2*f+"px",null!=s.color&&(M.style.backgroundColor=s.color),M.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const R=new vw(this,M,s);return R.state=0,this._activeRipples.add(R),s.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const F=R===this._mostRecentTransientRipple;R.state=1,!s.persistent&&(!F||!this._isPointerDown)&&R.fadeOut()},x),R}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=t.element,o=Object.assign(Object.assign({},Gf),t.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ir(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(px))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PR),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=wb(t),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Cb(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ql)})})}_removeTriggerEvents(){this._triggerElement&&(px.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ql)}),this._pointerUpEventsRegistered&&PR.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ql)}))}}const _x=new u.OlP("mat-ripple-global-options");let cs=(()=>{class i{constructor(e,s,o,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new gx(this,s,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ut),u.Y36(_x,8),u.Y36(ni,8))},i.\u0275dir=u.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&u.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),Uf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt,hd],Qt]}),i})(),yx=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(ni,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,s){2&e&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),vx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt]]}),i})();const bw=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),NR=Wl(class{});let LR=0,Jm=(()=>{class i extends NR{constructor(e){var s;super(),this._labelId="mat-optgroup-label-"+LR++,this._inert=null!==(s=null==e?void 0:e.inertGroups)&&void 0!==s&&s}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(bw,8))},i.\u0275dir=u.lG2({type:i,inputs:{label:"label"},features:[u.qOj]}),i})();const Xm=new u.OlP("MatOptgroup");let wx=0;class BR{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let $N=(()=>{class i{constructor(e,s,o,c){this._element=e,this._changeDetectorRef=s,this._parent=o,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+wx++,this.onSelectionChange=new u.vpe,this._stateChanges=new ze.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=at(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,s){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ka(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new BR(this,e))}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(void 0),u.Y36(Jm))},i.\u0275dir=u.lG2({type:i,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),e_=(()=>{class i extends $N{constructor(e,s,o,c){super(e,s,o,c)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(bw,8),u.Y36(Xm,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,s){1&e&&u.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(c){return s._handleKeydown(c)}),2&e&&(u.Ikx("id",s.id),u.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),u.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:fw,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,s){1&e&&(u.F$t(),u.YNc(0,bR,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,wR,2,1,"span",2),u._UZ(4,"div",3)),2&e&&(u.Q6J("ngIf",s.multiple),u.xp6(3),u.Q6J("ngIf",s.group&&s.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[Ft,cs,yx],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function Cx(i,t,e){if(e.length){let s=t.toArray(),o=e.toArray(),c=0;for(let f=0;f<i+1;f++)s[f].group&&s[f].group===o[c]&&c++;return c}return 0}let ww=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Uf,ji,Qt,vx]]}),i})();function Cw(i){return t=>t.lift(new Ex(i))}class Ex{constructor(t){this.value=t}call(t,e){return e.subscribe(new GR(t,this.value))}}class GR extends pi.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const t_=["*"];function Sx(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){return u.CHM(e),u.oxw()._onBackdropClicked()}),u.qZA()}if(2&i){const e=u.oxw();u.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function n_(i,t){1&i&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const UR=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],xx=["mat-drawer","mat-drawer-content","*"];function i_(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){return u.CHM(e),u.oxw()._onBackdropClicked()}),u.qZA()}if(2&i){const e=u.oxw();u.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function r_(i,t){1&i&&(u.TgZ(0,"mat-sidenav-content",3),u.Hsn(1,2),u.qZA())}const jf=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],jR=["mat-sidenav","mat-sidenav-content","*"],Dx=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",HR={transformDrawer:jl("transform",[us("open, open-instant",zn({transform:"none",visibility:"visible"})),us("void",zn({"box-shadow":"none",visibility:"hidden"})),Wr("void => open-instant",$r("0ms")),Wr("void <=> open, open-instant => void",$r("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},zR=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Ew=new u.OlP("MAT_DRAWER_CONTAINER");let s_=(()=>{class i extends md{constructor(e,s,o,c,f){super(o,c,f),this._changeDetectorRef=e,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>Mx)),u.Y36(u.SBq),u.Y36(Wa),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,s){2&e&&u.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[u.qOj],ngContentSelectors:t_,decls:1,vars:0,template:function(e,s){1&e&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Ax=(()=>{class i{constructor(e,s,o,c,f,y,C){this._elementRef=e,this._focusTrapFactory=s,this._focusMonitor=o,this._platform=c,this._ngZone=f,this._doc=y,this._container=C,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ze.xQ,this._animationEnd=new ze.xQ,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(rn(x=>x),(0,et.U)(()=>{})),this.openedStart=this._animationStarted.pipe(rn(x=>x.fromState!==x.toState&&0===x.toState.indexOf("open")),Cw(void 0)),this._closedStream=this.openedChange.pipe(rn(x=>!x),(0,et.U)(()=>{})),this.closedStart=this._animationStarted.pipe(rn(x=>x.fromState!==x.toState&&"void"===x.toState),Cw(void 0)),this._destroyed=new ze.xQ,this.onPositionChanged=new u.vpe,this._modeChanged=new ze.xQ,this.openedChange.subscribe(x=>{x?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{ks(this._elementRef.nativeElement,"keydown").pipe(rn(x=>27===x.keyCode&&!this.disableClose&&!Ka(x)),yt(this._destroyed)).subscribe(x=>this._ngZone.run(()=>{this.close(),x.stopPropagation(),x.preventDefault()}))}),this._animationEnd.pipe(Qu((x,M)=>x.fromState===M.fromState&&x.toState===M.toState)).subscribe(x=>{const{fromState:M,toState:R}=x;(0===R.indexOf("open")&&"void"===M||"void"===R&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=at(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=at(e)}get opened(){return this._opened}set opened(e){this.toggle(at(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const s=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,s){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),s)}_setOpen(e,s,o="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=o):(this._animationState="void",s&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe($i(1)).subscribe(f=>c(f?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(dS),u.Y36(Ja),u.Y36(Ut),u.Y36(u.R0b),u.Y36(J,8),u.Y36(Ew,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,s){1&e&&u.WFA("@transform.start",function(c){return s._animationStartListener(c)})("@transform.done",function(c){return s._animationDoneListener(c)}),2&e&&(u.uIk("align",null),u.d8E("@transform",s._animationState),u.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:t_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,s){1&e&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA())},directives:[md],encapsulation:2,data:{animation:[HR.transformDrawer]},changeDetection:0}),i})(),Mx=(()=>{class i{constructor(e,s,o,c,f,y=!1,C){this._dir=e,this._element=s,this._ngZone=o,this._changeDetectorRef=c,this._animationMode=C,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new ze.xQ,this._doCheckSubject=new ze.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ze.xQ,e&&e.change.pipe(yt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),f.change().pipe(yt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=y}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=at(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:at(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(li(this._allDrawers),yt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(li(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_f(10),yt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,s-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();s+=o,e-=o}e=e||null,s=s||null,(e!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:e,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(rn(s=>s.fromState!==s.toState),yt(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(yt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(yt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe($i(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(yt((0,fi.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const s=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?s.add(o):s.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(gi,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(io),u.Y36(zR),u.Y36(ni,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,s_,5),u.Suo(o,Ax,5)),2&e){let c;u.iGM(c=u.CRH())&&(s._content=c.first),u.iGM(c=u.CRH())&&(s._allDrawers=c)}},viewQuery:function(e,s){if(1&e&&u.Gf(s_,5),2&e){let o;u.iGM(o=u.CRH())&&(s._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,s){2&e&&u.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:Ew,useExisting:i}])],ngContentSelectors:xx,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(u.F$t(UR),u.YNc(0,Sx,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,n_,2,0,"mat-drawer-content",1)),2&e&&(u.Q6J("ngIf",s.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!s._content))},directives:[Ft,s_],styles:[Dx],encapsulation:2,changeDetection:0}),i})(),Sw=(()=>{class i extends s_{constructor(e,s,o,c,f){super(e,s,o,c,f)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>qR)),u.Y36(u.SBq),u.Y36(Wa),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,s){2&e&&u.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[u.qOj],ngContentSelectors:t_,decls:1,vars:0,template:function(e,s){1&e&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Tx=(()=>{class i extends Ax{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=at(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Wn(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Wn(e)}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,s){2&e&&(u.uIk("align",null),u.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),u.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[u.qOj],ngContentSelectors:t_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,s){1&e&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA())},directives:[md],encapsulation:2,data:{animation:[HR.transformDrawer]},changeDetection:0}),i})(),qR=(()=>{class i extends Mx{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,Sw,5),u.Suo(o,Tx,5)),2&e){let c;u.iGM(c=u.CRH())&&(s._content=c.first),u.iGM(c=u.CRH())&&(s._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,s){2&e&&u.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[u._Bn([{provide:Ew,useExisting:i}]),u.qOj],ngContentSelectors:jR,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,s){1&e&&(u.F$t(jf),u.YNc(0,i_,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,r_,2,0,"mat-sidenav-content",1)),2&e&&(u.Q6J("ngIf",s.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!s._content))},directives:[Ft,Sw,md],styles:[Dx],encapsulation:2,changeDetection:0}),i})(),Ix=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,Qt,hd,_d],_d,Qt]}),i})();var Hf=j(1555);function Rx(...i){if(1===i.length){const t=i[0];if((0,uf.k)(t))return o_(t,null);if((0,Hf.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return o_(e.map(s=>t[s]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return o_(i=1===i.length&&(0,uf.k)(i[0])?i[0]:i,null).pipe((0,et.U)(e=>t(...e)))}return o_(i,null)}function o_(i,t){return new Fn.y(e=>{const s=i.length;if(0===s)return void e.complete();const o=new Array(s);let c=0,f=0;for(let y=0;y<s;y++){const C=(0,ti.D)(i[y]);let x=!1;e.add(C.subscribe({next:M=>{x||(x=!0,f++),o[y]=M},error:M=>e.error(M),complete:()=>{c++,(c===s||!x)&&(f===s&&e.next(t?t.reduce((M,R,F)=>(M[R]=o[F],M),{}):o),e.complete())}}))}})}let Ox=(()=>{class i{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.Qsj),u.Y36(u.SBq))},i.\u0275dir=u.lG2({type:i}),i})(),sa=(()=>{class i extends Ox{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})();const Wi=new u.OlP("NgValueAccessor"),QN={provide:Wi,useExisting:(0,u.Gpc)(()=>ac),multi:!0},a_=new u.OlP("CompositionEventMode");let ac=(()=>{class i extends Ox{constructor(e,s,o){super(e,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=k()?k().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(a_,8))},i.\u0275dir=u.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&u.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[u._Bn([QN]),u.qOj]}),i})();function Kl(i){return null==i||0===i.length}function xw(i){return null!=i&&"number"==typeof i.length}const Qi=new u.OlP("NgValidators"),oa=new u.OlP("NgAsyncValidators"),Px=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aa{static min(t){return function(i){return t=>{if(Kl(t.value)||Kl(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function(i){return t=>{if(Kl(t.value)||Kl(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function(i){return Kl(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function(i){return Kl(i.value)||Px.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function(i){return t=>Kl(t.value)||!xw(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(i){return t=>xw(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(i){if(!i)return Ls;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),s=>{if(Kl(s.value))return null;const o=s.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return ds(t)}static composeAsync(t){return Zl(t)}}function Ls(i){return null}function sn(i){return null!=i}function el(i){const t=(0,u.QGY)(i)?(0,ti.D)(i):i;return(0,u.CqO)(t),t}function lc(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Rd(i,t){return t.map(e=>e(i))}function Et(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function ds(i){if(!i)return null;const t=i.filter(sn);return 0==t.length?null:function(e){return lc(Rd(e,t))}}function qf(i){return null!=i?ds(Et(i)):null}function Zl(i){if(!i)return null;const t=i.filter(sn);return 0==t.length?null:function(e){return Rx(Rd(e,t).map(el)).pipe((0,et.U)(lc))}}function Vx(i){return null!=i?Zl(Et(i)):null}function Mw(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Tw(i){return i._rawValidators}function QR(i){return i._rawAsyncValidators}function Iw(i){return i?Array.isArray(i)?i:[i]:[]}function l_(i,t){return Array.isArray(i)?i.includes(t):i===t}function hs(i,t){const e=Iw(t);return Iw(i).forEach(o=>{l_(e,o)||e.push(o)}),e}function Yn(i,t){return Iw(t).filter(e=>!l_(i,e))}let Bs=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i}),i})(),ar=(()=>{class i extends Bs{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})();class la extends Bs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rw{constructor(t){this._cd=t}is(t){var e,s,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[t])}}let tl=(()=>{class i extends Rw{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(la,2))},i.\u0275dir=u.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[u.qOj]}),i})(),Wf=(()=>{class i extends Rw{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(ar,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[u.qOj]}),i})();function uc(i,t){Xl(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Ow(i,t)})}(i,t),function(i,t){const e=(s,o)=>{t.valueAccessor.writeValue(s),o&&t.viewToModelUpdate(s)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Ow(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Jl(i,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),u_(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Od(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Xl(i,t){const e=Tw(i);null!==t.validator?i.setValidators(Mw(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const s=QR(i);null!==t.asyncValidator?i.setAsyncValidators(Mw(s,t.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const o=()=>i.updateValueAndValidity();Od(t._rawValidators,o),Od(t._rawAsyncValidators,o)}function u_(i,t){let e=!1;if(null!==i){if(null!==t.validator){const o=Tw(i);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==t.validator);c.length!==o.length&&(e=!0,i.setValidators(c))}}if(null!==t.asyncValidator){const o=QR(i);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==t.asyncValidator);c.length!==o.length&&(e=!0,i.setAsyncValidators(c))}}}const s=()=>{};return Od(t._rawValidators,s),Od(t._rawAsyncValidators,s),e}function Ow(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Kf(i,t){Xl(i,t)}function bt(i,t){i._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function eu(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Zf="VALID",d_="INVALID",Jf="PENDING",h_="DISABLED";function Oi(i){return(Pw(i)?i.validators:i)||null}function $x(i){return Array.isArray(i)?qf(i):i||null}function Fw(i,t){return(Pw(t)?t.asyncValidators:i)||null}function f_(i){return Array.isArray(i)?Vx(i):i||null}function Pw(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Nw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=$x(this._rawValidators),this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zf}get invalid(){return this.status===d_}get pending(){return this.status==Jf}get disabled(){return this.status===h_}get enabled(){return this.status!==h_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$x(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=f_(t)}addValidators(t){this.setValidators(hs(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hs(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yn(t,this._rawAsyncValidators))}hasValidator(t){return l_(this._rawValidators,t)}hasAsyncValidator(t){return l_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=h_,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zf,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zf||this.status===Jf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?h_:Zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jf,this._hasOwnPendingAsyncValidator=!0;const e=el(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let s=i;return t.forEach(o=>{s=s instanceof cc?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof XR&&s.at(o)||null}),s}(this,t)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?h_:this.errors?d_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jf)?Jf:this._anyControlsHaveStatus(d_)?d_:Zf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fs extends Nw{constructor(t=null,e,s){super(Oi(e),Fw(s,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){eu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){eu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class cc extends Nw{constructor(t,e,s){super(Oi(e),Fw(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,o)=>{s.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e instanceof fs?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((o,c)=>{s=e(s,o,c)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class XR extends Nw{constructor(t,e,s){super(Oi(e),Fw(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,o)=>{s.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof fs?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const eO={provide:ar,useExisting:(0,u.Gpc)(()=>ep)},Xf=(()=>Promise.resolve(null))();let ep=(()=>{class i extends ar{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new cc({},qf(e),Vx(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Xf.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),uc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Xf.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),eu(this._directives,e)})}addFormGroup(e){Xf.then(()=>{const s=this._findContainer(e.path),o=new cc({});Kf(o,e),s.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Xf.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){Xf.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,bt(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(Qi,10),u.Y36(oa,10))},i.\u0275dir=u.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&u.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([eO]),u.qOj]}),i})(),tp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const rO={provide:Wi,useExisting:(0,u.Gpc)(()=>tu),multi:!0};let tu=(()=>{class i extends sa{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=s=>{e(""==s?null:parseFloat(s))}}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,s){1&e&&u.NdJ("input",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},features:[u._Bn([rO]),u.qOj]}),i})(),Bw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();const Vw=new u.OlP("NgModelWithFormControlWarning"),lO={provide:ar,useExisting:(0,u.Gpc)(()=>ua)};let ua=(()=>{class i extends ar{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(u_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return uc(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){Jl(e.control||null,e,!1),eu(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,bt(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,o=this.form.get(e.path);s!==o&&(Jl(s||null,e),o instanceof fs&&(uc(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);Kf(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(i,t){return u_(i,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xl(this.form,this),this._oldForm&&u_(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(Qi,10),u.Y36(oa,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&u.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([lO]),u.qOj,u.TTD]}),i})();const Uw={provide:la,useExisting:(0,u.Gpc)(()=>kd)};let kd=(()=>{class i extends la{constructor(e,s,o,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(i,t){if(!t)return null;let e,s,o;return Array.isArray(t),t.forEach(c=>{c.constructor===ac?e=c:function(i){return Object.getPrototypeOf(i.constructor)===sa}(c)?s=c:o=c}),o||s||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(ar,13),u.Y36(Qi,10),u.Y36(oa,10),u.Y36(Wi,10),u.Y36(Vw,8))},i.\u0275dir=u.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Uw]),u.qOj,u.TTD]}),i._ngModelWarningSentOnce=!1,i})(),m_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Bw]]}),i})(),EO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[m_]}),i})(),uD=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Vw,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[m_]}),i})(),xO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt],Qt]}),i})();const $w=["*"],DO=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],rp=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Qw=Wl(Xa(class{})),pD=Xa(class{}),gD=new u.OlP("MatList"),Kw=new u.OlP("MatNavList");let AO=(()=>{class i extends Qw{constructor(){super(...arguments),this._stateChanges=new ze.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[u._Bn([{provide:Kw,useExisting:i}]),u.qOj,u.TTD],ngContentSelectors:$w,decls:1,vars:0,template:function(e,s){1&e&&(u.F$t(),u.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),mD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),_D=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})(),sp=(()=>{class i extends pD{constructor(e,s,o,c){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new ze.xQ,this._disabled=!1,this._isInteractiveList=!!(o||c&&"action-list"===c._getListType()),this._list=o||c;const f=this._getHostElement();"button"===f.nodeName.toLowerCase()&&!f.hasAttribute("type")&&f.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(yt(this._destroyed)).subscribe(()=>{s.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=at(e)}ngAfterContentInit(){!function(i,t,e="mat"){i.changes.pipe(li(i)).subscribe(({length:s})=>{ao(t,`${e}-2-line`,!1),ao(t,`${e}-3-line`,!1),ao(t,`${e}-multi-line`,!1),2===s||3===s?ao(t,`${e}-${s}-line`,!0):s>3&&ao(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Kw,8),u.Y36(gD,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,mD,5),u.Suo(o,_D,5),u.Suo(o,OR,5)),2&e){let c;u.iGM(c=u.CRH())&&(s._avatar=c.first),u.iGM(c=u.CRH())&&(s._icon=c.first),u.iGM(c=u.CRH())&&(s._lines=c)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,s){2&e&&u.ekj("mat-list-item-disabled",s.disabled)("mat-list-item-avatar",s._avatar||s._icon)("mat-list-item-with-avatar",s._avatar||s._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[u.qOj],ngContentSelectors:rp,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,s){1&e&&(u.F$t(DO),u.TgZ(0,"div",0),u._UZ(1,"div",1),u.Hsn(2),u.TgZ(3,"div",2),u.Hsn(4,1),u.qZA(),u.Hsn(5,2),u.qZA()),2&e&&(u.xp6(1),u.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s._isRippleDisabled()))},directives:[cs],encapsulation:2,changeDetection:0}),i})(),vD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[kR,Uf,Qt,vx,ji],kR,Qt,vx,xO]}),i})();class IO extends pi.L{notifyNext(t,e,s,o,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Jw extends pi.L{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Xw=j(7444);function e0(i,t,e,s,o=new Jw(i,e,s)){if(!o.closed)return t instanceof Fn.y?t.subscribe(o):(0,Xw.s)(t)(o)}var t0=j(6693);const y_={};function bD(...i){let t,e;return(0,Wv.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,uf.k)(i[0])&&(i=i[0]),(0,t0.n)(i,e).lift(new RO(t))}class RO{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new OO(t,this.resultSelector))}}class OO extends IO{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(y_),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(e0(this,t[s],void 0,s))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const o=this.values,f=this.toRespond?o[s]===y_?--this.toRespond:this.toRespond:0;o[s]=e,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const ap=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function lp(i){return new Fn.y(t=>{let e;try{e=i()}catch(o){return void t.error(o)}return(e?(0,ti.D)(e):(0,ro.c)()).subscribe(t)})}var wD=j(2441);function nu(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new CD(i,t,e))}}class CD{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new ED(t,this.accumulator,this.seed,this.hasSeed))}}class ED extends pi.L{constructor(t,e,s,o){super(t),this.accumulator=e,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function iu(i){return function(e){const s=new SD(i),o=e.lift(s);return s.caught=o}}class SD{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xD(t,this.selector,this.caught))}}class xD extends yr.Ds{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const s=new yr.IY(this);this.add(s);const o=(0,yr.ft)(e,s);o!==s&&this.add(o)}}}var Er=j(9773);function dc(i,t){return(0,Er.zg)(i,t,1)}function n0(i){return function(e){return 0===i?(0,ro.c)():e.lift(new lL(i))}}class lL{constructor(t){if(this.total=t,this.total<0)throw new fb}call(t,e){return e.subscribe(new Sr(t,this.total))}}class Sr extends pi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,o=this.count++;e.length<s?e.push(t):e[o%s]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<s;c++){const f=e++%s;t.next(o[f])}}t.complete()}}function hc(i=uL){return t=>t.lift(new kO(i))}class kO{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new FO(t,this.errorFactory))}}class FO extends pi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function uL(){return new ap}function Pd(i=null){return t=>t.lift(new PO(i))}class PO{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new r0(t,this.defaultValue))}}class r0 extends pi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var DD=j(4487);function fc(i,t){const e=arguments.length>=2;return s=>s.pipe(i?rn((o,c)=>i(o,c,s)):DD.y,$i(1),e?Pd(t):hc(()=>new ap))}var NO=j(1307);function v_(i){return t=>t.lift(new MD(i))}class MD{constructor(t){this.callback=t}call(t,e){return e.subscribe(new TD(t,this.callback))}}class TD extends pi.L{constructor(t,e){super(t),this.add(new ei.w(e))}}class Gs{constructor(t,e){this.id=t,this.url=e}}class up extends Gs{constructor(t,e,s="imperative",o=null){super(t,e),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class b_ extends Gs{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class s0 extends Gs{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LO extends Gs{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ID extends Gs{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w_ extends Gs{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RD extends Gs{constructor(t,e,s,o,c){super(t,e),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BO extends Gs{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o0 extends Gs{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C_{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OD{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kD{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FD{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PD{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ND{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class LD{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nd(i){return new LD(i)}const BD="ngNavigationCancelingError";function E_(i){const t=Error("NavigationCancelingError: "+i);return t[BD]=!0,t}function VD(i,t,e){const s=e.path.split("/");if(s.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<i.length))return null;const o={};for(let c=0;c<s.length;c++){const f=s[c],y=i[c];if(f.startsWith(":"))o[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:i.slice(0,s.length),posParams:o}}function lo(i,t){const e=i?Object.keys(i):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!a0(i[o],t[o]))return!1;return!0}function a0(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),s=[...t].sort();return e.every((o,c)=>s[c]===o)}return i===t}function UD(i){return Array.prototype.concat.apply([],i)}function jD(i){return i.length>0?i[i.length-1]:null}function Fi(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function nl(i){return(0,u.CqO)(i)?i:(0,u.QGY)(i)?(0,ti.D)(Promise.resolve(i)):(0,Ye.of)(i)}const hL={exact:function HO(i,t,e){if(!Bd(i.segments,t.segments)||!l0(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!i.children[s]||!HO(i.children[s],t.children[s],e))return!1;return!0},subset:zO},UO={exact:function(i,t){return lo(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>a0(i[e],t[e]))},ignored:()=>!0};function jO(i,t,e){return hL[e.paths](i.root,t.root,e.matrixParams)&&UO[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function zO(i,t,e){return YO(i,t,t.segments,e)}function YO(i,t,e,s){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!Bd(o,e)||t.hasChildren()||!l0(o,e,s))}if(i.segments.length===e.length){if(!Bd(i.segments,e)||!l0(i.segments,e,s))return!1;for(const o in t.children)if(!i.children[o]||!zO(i.children[o],t.children[o],s))return!1;return!0}{const o=e.slice(0,i.segments.length),c=e.slice(i.segments.length);return!!(Bd(i.segments,o)&&l0(i.segments,o,s)&&i.children[Vt])&&YO(i.children[Vt],t,c,s)}}function l0(i,t,e){return t.every((s,o)=>UO[e](i[o].parameters,s.parameters))}class Ld{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return qO.serialize(this)}}class Kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fi(e,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c0(this)}}class S_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nd(this.parameters)),this._parameterMap}toString(){return KO(this)}}function Bd(i,t){return i.length===t.length&&i.every((e,s)=>e.path===t[s].path)}class u0{}class HD{parse(t){const e=new XO(t);return new Ld(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${x_(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const s=i[e];return Array.isArray(s)?s.map(o=>`${D_(e)}=${D_(o)}`).join("&"):`${D_(e)}=${D_(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const qO=new HD;function c0(i){return i.segments.map(t=>KO(t)).join("/")}function x_(i,t){if(!i.hasChildren())return c0(i);if(t){const e=i.children[Vt]?x_(i.children[Vt],!1):"",s=[];return Fi(i.children,(o,c)=>{c!==Vt&&s.push(`${c}:${x_(o,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(i,t){let e=[];return Fi(i.children,(s,o)=>{o===Vt&&(e=e.concat(t(s,o)))}),Fi(i.children,(s,o)=>{o!==Vt&&(e=e.concat(t(s,o)))}),e}(i,(s,o)=>o===Vt?[x_(i.children[Vt],!1)]:[`${o}:${x_(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Vt]?`${c0(i)}/${e[0]}`:`${c0(i)}/(${e.join("//")})`}}function $O(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function D_(i){return $O(i).replace(/%3B/gi,";")}function d0(i){return $O(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h0(i){return decodeURIComponent(i)}function QO(i){return h0(i.replace(/\+/g,"%20"))}function KO(i){return`${d0(i.path)}${function(i){return Object.keys(i).map(t=>`;${d0(t)}=${d0(i[t])}`).join("")}(i.parameters)}`}const yL=/^[^\/()?;=#]+/;function A_(i){const t=i.match(yL);return t?t[0]:""}const f0=/^[^=?&#]+/,zD=/^[^?&#]+/;class XO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Vt]=new Kt(t,e)),s}parseSegment(){const t=A_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new S_(h0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=A_(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const o=A_(this.remaining);o&&(s=o,this.capture(s))}t[h0(e)]=h0(s)}parseQueryParam(t){const e=function(i){const t=i.match(f0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const f=function(i){const t=i.match(zD);return t?t[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=QO(e),c=QO(s);if(t.hasOwnProperty(o)){let f=t[o];Array.isArray(f)||(f=[f],t[o]=f),f.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=A_(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;s.indexOf(":")>-1?(c=s.substr(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Vt);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[Vt]:new Kt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class M_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=T_(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=T_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=I_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return I_(t,this._root).map(e=>e.value)}}function T_(i,t){if(i===t.value)return t;for(const e of t.children){const s=T_(i,e);if(s)return s}return null}function I_(i,t){if(i===t.value)return[t];for(const e of t.children){const s=I_(i,e);if(s.length)return s.unshift(t),s}return[]}class da{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function R_(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class p0 extends M_{constructor(t,e){super(t),this.snapshot=e,Gd(this,t)}toString(){return this.snapshot.toString()}}function cp(i,t){const e=function(i,t){const f=new O_([],{},{},"",{},Vt,t,null,i.root,-1,{});return new t1("",new da(f,[]))}(i,t),s=new wi([new S_("",{})]),o=new wi({}),c=new wi({}),f=new wi({}),y=new wi(""),C=new dp(s,o,f,y,c,Vt,t,e.root);return C.snapshot=e.root,new p0(new da(C,[]),e)}class dp{constructor(t,e,s,o,c,f,y,C){this.url=t,this.params=e,this.queryParams=s,this.fragment=o,this.data=c,this.outlet=f,this.component=y,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(t=>Nd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(t=>Nd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e1(i,t="emptyOnly"){const e=i.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const o=e[s],c=e[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(c.component)break;s--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class O_{constructor(t,e,s,o,c,f,y,C,x,M,R){this.url=t,this.params=e,this.queryParams=s,this.fragment=o,this.data=c,this.outlet=f,this.component=y,this.routeConfig=C,this._urlSegment=x,this._lastPathIndex=M,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t1 extends M_{constructor(t,e){super(e),this.url=t,Gd(this,e)}toString(){return qD(this._root)}}function Gd(i,t){t.value._routerState=i,t.children.forEach(e=>Gd(i,e))}function qD(i){const t=i.children.length>0?` { ${i.children.map(qD).join(", ")} } `:"";return`${i.value}${t}`}function $D(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,lo(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),lo(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!lo(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),lo(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function WD(i,t){return lo(i.params,t.params)&&function(i,t){return Bd(i,t)&&i.every((e,s)=>lo(e.parameters,t[s].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||WD(i.parent,t.parent))}function k_(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const o=function(i,t,e){return t.children.map(s=>{for(const o of e.children)if(i.shouldReuseRoute(s.value,o.value.snapshot))return k_(i,s,o);return k_(i,s)})}(i,t,e);return new da(s,o)}{if(i.shouldAttach(t.value)){const c=i.retrieve(t.value);if(null!==c){const f=c.route;return n1(t,f),f}}const s=function(i){return new dp(new wi(i.url),new wi(i.params),new wi(i.queryParams),new wi(i.fragment),new wi(i.data),i.outlet,i.component,i)}(t.value),o=t.children.map(c=>k_(i,c));return new da(s,o)}}function n1(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)n1(i.children[e],t.children[e])}function hp(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function fp(i){return"object"==typeof i&&null!=i&&i.outlets}function QD(i,t,e,s,o){let c={};return s&&Fi(s,(f,y)=>{c[y]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),new Ld(e.root===i?t:r1(e.root,i,t),c,o)}function r1(i,t,e){const s={};return Fi(i.children,(o,c)=>{s[c]=o===t?e:r1(o,t,e)}),new Kt(i.segments,s)}class KD{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&hp(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(fp);if(o&&o!==jD(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class m0{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function ZD(i,t,e){if(i||(i=new Kt([],{})),0===i.segments.length&&i.hasChildren())return lr(i,t,e);const s=function(i,t,e){let s=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(s>=e.length)return c;const f=i.segments[o],y=e[s];if(fp(y))break;const C=`${y}`,x=s<e.length-1?e[s+1]:null;if(o>0&&void 0===C)break;if(C&&x&&"object"==typeof x&&void 0===x.outlets){if(!F_(C,x,f))return c;s+=2}else{if(!F_(C,{},f))return c;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(i,t,e),o=e.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const c=new Kt(i.segments.slice(0,s.pathIndex),{});return c.children[Vt]=new Kt(i.segments.slice(s.pathIndex),i.children),lr(c,0,o)}return s.match&&0===o.length?new Kt(i.segments,{}):s.match&&!i.hasChildren()?gp(i,t,e):s.match?lr(i,0,o):gp(i,t,e)}function lr(i,t,e){if(0===e.length)return new Kt(i.segments,{});{const s=function(i){return fp(i[0])?i[0].outlets:{[Vt]:i}}(e),o={};return Fi(s,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[f]=ZD(i.children[f],t,c))}),Fi(i.children,(c,f)=>{void 0===s[f]&&(o[f]=c)}),new Kt(i.segments,o)}}function gp(i,t,e){const s=i.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(fp(c)){const C=l1(c.outlets);return new Kt(s,C)}if(0===o&&hp(e[0])){s.push(new S_(i.segments[t].path,JD(e[0]))),o++;continue}const f=fp(c)?c.outlets[Vt]:`${c}`,y=o<e.length-1?e[o+1]:null;f&&y&&hp(y)?(s.push(new S_(f,JD(y))),o+=2):(s.push(new S_(f,{})),o++)}return new Kt(s,{})}function l1(i){const t={};return Fi(i,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=gp(new Kt([],{}),0,e))}),t}function JD(i){const t={};return Fi(i,(e,s)=>t[s]=`${e}`),t}function F_(i,t,e){return i==e.path&&lo(t,e.parameters)}class eA{constructor(t,e,s,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=o}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),$D(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const o=R_(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,o[f],s),delete o[f]}),Fi(o,(c,f)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),c=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),o=s&&t.value.component?s.children:e,c=R_(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const o=R_(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],s),this.forwardEvent(new PD(c.value.snapshot))}),t.children.length&&this.forwardEvent(new kD(t.value.snapshot))}activateRoutes(t,e,s){const o=t.value,c=e?e.value:null;if($D(o),o===c)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),tA(y.route)}else{const y=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),C=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=C,f.outlet&&f.outlet.activateWith(o,C),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,s)}}function tA(i){$D(i.value),i.children.forEach(tA)}class P_{constructor(t,e){this.routes=t,this.module=e}}function ru(i){return"function"==typeof i}function il(i){return i instanceof Ld}const xr=Symbol("INITIAL_VALUE");function mp(){return Qn(i=>bD(i.map(t=>t.pipe($i(1),li(xr)))).pipe(nu((t,e)=>{let s=!1;return e.reduce((o,c,f)=>o!==xr?o:(c===xr&&(s=!0),s||!1!==c&&f!==e.length-1&&!il(c)?o:c),t)},xr),rn(t=>t!==xr),(0,et.U)(t=>il(t)?t:!0===t),$i(1)))}let d1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&u._UZ(0,"router-outlet")},directives:function(){return[CA]},encapsulation:2}),i})();function sA(i,t=""){for(let e=0;e<i.length;e++){const s=i[e];CL(s,h1(t,s))}}function CL(i,t){i.children&&sA(i.children,t)}function h1(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function v0(i){const t=i.children&&i.children.map(v0),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Vt&&(e.component=d1),e}function Us(i){return i.outlet||Vt}function f1(i,t){const e=i.filter(s=>Us(s)===t);return e.push(...i.filter(s=>Us(s)!==t)),e}const oA={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _p(i,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},oA):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||VD)(e,i,t);if(!c)return Object.assign({},oA);const f={};Fi(c.posParams,(C,x)=>{f[x]=C.path});const y=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:y,positionalParamSegments:null!==(s=c.posParams)&&void 0!==s?s:{}}}function N_(i,t,e,s,o="corrected"){if(e.length>0&&function(i,t,e){return e.some(s=>yp(i,t,s)&&Us(s)!==Vt)}(i,e,s)){const f=new Kt(t,function(i,t,e,s){const o={};o[Vt]=s,s._sourceSegment=i,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Us(c)!==Vt){const f=new Kt([],{});f._sourceSegment=i,f._segmentIndexShift=t.length,o[Us(c)]=f}return o}(i,t,s,new Kt(e,i.children)));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(s=>yp(i,t,s))}(i,e,s)){const f=new Kt(i.segments,function(i,t,e,s,o,c){const f={};for(const y of s)if(yp(i,e,y)&&!o[Us(y)]){const C=new Kt([],{});C._sourceSegment=i,C._segmentIndexShift="legacy"===c?i.segments.length:t.length,f[Us(y)]=C}return Object.assign(Object.assign({},o),f)}(i,t,e,s,i.children,o));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Kt(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function yp(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function b0(i,t,e,s){return!!(Us(i)===s||s!==Vt&&yp(t,e,i))&&("**"===i.path||_p(t,i,e).matched)}function lA(i,t,e){return 0===t.length&&!i.children[e]}class vp{constructor(t){this.segmentGroup=t||null}}class w0{constructor(t){this.urlTree=t}}function su(i){return new Fn.y(t=>t.error(new vp(i)))}function L_(i){return new Fn.y(t=>t.error(new w0(i)))}function uA(i){return new Fn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class SL{constructor(t,e,s,o,c){this.configLoader=e,this.urlSerializer=s,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=N_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Kt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Vt).pipe((0,et.U)(c=>this.createUrlTree(cA(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(iu(c=>{if(c instanceof w0)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof vp?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Vt).pipe((0,et.U)(o=>this.createUrlTree(cA(o),t.queryParams,t.fragment))).pipe(iu(o=>{throw o instanceof vp?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const o=t.segments.length>0?new Kt([],{[Vt]:t}):t;return new Ld(o,e,s)}expandSegmentGroup(t,e,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,et.U)(c=>new Kt([],c))):this.expandSegment(t,s,e,s.segments,o,!0)}expandChildren(t,e,s){const o=[];for(const c of Object.keys(s.children))"primary"===c?o.unshift(c):o.push(c);return(0,ti.D)(o).pipe(dc(c=>{const f=s.children[c],y=f1(e,c);return this.expandSegmentGroup(t,y,f,c).pipe((0,et.U)(C=>({segment:C,outlet:c})))}),nu((c,f)=>(c[f.outlet]=f.segment,c),{}),function(i,t){const e=arguments.length>=2;return s=>s.pipe(i?rn((o,c)=>i(o,c,s)):DD.y,n0(1),e?Pd(t):hc(()=>new ap))}())}expandSegment(t,e,s,o,c,f){return(0,ti.D)(s).pipe(dc(y=>this.expandSegmentAgainstRoute(t,e,s,y,o,c,f).pipe(iu(x=>{if(x instanceof vp)return(0,Ye.of)(null);throw x}))),fc(y=>!!y),iu((y,C)=>{if(y instanceof ap||"EmptyError"===y.name){if(lA(e,o,c))return(0,Ye.of)(new Kt([],{}));throw new vp(e)}throw y}))}expandSegmentAgainstRoute(t,e,s,o,c,f,y){return b0(o,e,c,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,o,c,f):su(e):su(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,o,c,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,o,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,o){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?L_(c):this.lineralizeSegments(s,c).pipe((0,Er.zg)(f=>{const y=new Kt(f,{});return this.expandSegment(t,y,e,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,o,c,f){const{matched:y,consumedSegments:C,lastChild:x,positionalParamSegments:M}=_p(e,o,c);if(!y)return su(e);const R=this.applyRedirectCommands(C,o.redirectTo,M);return o.redirectTo.startsWith("/")?L_(R):this.lineralizeSegments(o,R).pipe((0,Er.zg)(F=>this.expandSegment(t,e,s,F.concat(c.slice(x)),f,!1)))}matchSegmentAgainstRoute(t,e,s,o,c){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Ye.of)(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,et.U)(F=>(s._loadedConfig=F,new Kt(o,{})))):(0,Ye.of)(new Kt(o,{}));const{matched:f,consumedSegments:y,lastChild:C}=_p(e,s,o);if(!f)return su(e);const x=o.slice(C);return this.getChildConfig(t,s,o).pipe((0,Er.zg)(R=>{const F=R.module,V=R.routes,{segmentGroup:U,slicedSegments:Q}=N_(e,y,x,V),le=new Kt(U.segments,U.children);if(0===Q.length&&le.hasChildren())return this.expandChildren(F,V,le).pipe((0,et.U)(qe=>new Kt(y,qe)));if(0===V.length&&0===Q.length)return(0,Ye.of)(new Kt(y,{}));const ce=Us(s)===c;return this.expandSegment(F,le,V,Q,ce?Vt:c,!0).pipe((0,et.U)(Ie=>new Kt(y.concat(Ie.segments),Ie.children)))}))}getChildConfig(t,e,s){return e.children?(0,Ye.of)(new P_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ye.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,Er.zg)(o=>{return o?this.configLoader.load(t.injector,e).pipe((0,et.U)(c=>(e._loadedConfig=c,c))):(i=e,new Fn.y(t=>t.error(E_(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ye.of)(new P_([],t))}runCanLoadGuards(t,e,s){const o=e.canLoad;if(!o||0===o.length)return(0,Ye.of)(!0);const c=o.map(f=>{const y=t.get(f);let C;if((i=y)&&ru(i.canLoad))C=y.canLoad(e,s);else{if(!ru(y))throw new Error("Invalid CanLoad guard");C=y(e,s)}var i;return nl(C)});return(0,Ye.of)(c).pipe(mp(),(0,$n.b)(f=>{if(!il(f))return;const y=E_(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,et.U)(f=>!0===f))}lineralizeSegments(t,e){let s=[],o=e.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,Ye.of)(s);if(o.numberOfChildren>1||!o.children[Vt])return uA(t.redirectTo);o=o.children[Vt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,o){const c=this.createSegmentGroup(t,e.root,s,o);return new Ld(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Fi(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const y=o.substring(1);s[c]=e[y]}else s[c]=o}),s}createSegmentGroup(t,e,s,o){const c=this.createSegments(t,e.segments,s,o);let f={};return Fi(e.children,(y,C)=>{f[C]=this.createSegmentGroup(t,y,s,o)}),new Kt(c,f)}createSegments(t,e,s,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,s))}findPosParam(t,e,s){const o=s[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let s=0;for(const o of e){if(o.path===t.path)return e.splice(s),o;s++}return t}}function cA(i){const t={};for(const s of Object.keys(i.children)){const c=cA(i.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function(i){if(1===i.numberOfChildren&&i.children[Vt]){const t=i.children[Vt];return new Kt(i.segments.concat(t.segments),t.children)}return i}(new Kt(i.segments,t))}class C0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class B_{constructor(t,e){this.component=t,this.route=e}}function y1(i,t,e){const s=i._root;return G_(s,t?t._root:null,e,[s.value])}function V_(i,t,e){const s=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(i)}function G_(i,t,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=R_(t);return i.children.forEach(f=>{(function(i,t,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,f=t?t.value:null,y=e?e.getContext(i.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const C=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Bd(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Bd(i.url,t.url)||!lo(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WD(i,t)||!lo(i.queryParams,t.queryParams);case"paramsChange":default:return!WD(i,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);C?o.canActivateChecks.push(new C0(s)):(c.data=f.data,c._resolvedData=f._resolvedData),G_(i,t,c.component?y?y.children:null:e,s,o),C&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new B_(y.outlet.component,f))}else f&&pc(t,y,o),o.canActivateChecks.push(new C0(s)),G_(i,null,c.component?y?y.children:null:e,s,o)})(f,c[f.value.outlet],e,s.concat([f.value]),o),delete c[f.value.outlet]}),Fi(c,(f,y)=>pc(f,e.getContext(y),o)),o}function pc(i,t,e){const s=R_(i),o=i.value;Fi(s,(c,f)=>{pc(c,o.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new B_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class gA{}function ou(i){return new Fn.y(t=>t.error(i))}class E0{constructor(t,e,s,o,c,f){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=N_(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Vt);if(null===e)return null;const s=new O_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new da(s,e),c=new t1(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,s=e1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const c of Object.keys(e.children)){const f=e.children[c],y=f1(t,c),C=this.processSegmentGroup(y,f,c);if(null===C)return null;s.push(...C)}const o=_A(s);return o.sort((t,e)=>t.value.outlet===Vt?-1:e.value.outlet===Vt?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,s,o){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,s,o);if(null!==f)return f}return lA(e,s,o)?[]:null}processSegmentAgainstRoute(t,e,s,o){if(t.redirectTo||!b0(t,e,s,o))return null;let c,f=[],y=[];if("**"===t.path){const V=s.length>0?jD(s).parameters:{};c=new O_(s,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,x1(t),Us(t),t.component,t,x0(e),Si(e)+s.length,vA(t))}else{const V=_p(e,t,s);if(!V.matched)return null;f=V.consumedSegments,y=s.slice(V.lastChild),c=new O_(f,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,x1(t),Us(t),t.component,t,x0(e),Si(e)+f.length,vA(t))}const C=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:x,slicedSegments:M}=N_(e,f,y,C.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);var i;if(0===M.length&&x.hasChildren()){const V=this.processChildren(C,x);return null===V?null:[new da(c,V)]}if(0===C.length&&0===M.length)return[new da(c,[])];const R=Us(t)===o,F=this.processSegment(C,x,M,R?Vt:o);return null===F?null:[new da(c,F)]}}function j_(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function _A(i){const t=[],e=new Set;for(const s of i){if(!j_(s)){t.push(s);continue}const o=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...s.children),e.add(o)):t.push(s)}for(const s of e){const o=_A(s.children);t.push(new da(s.value,o))}return t.filter(s=>!e.has(s))}function x0(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Si(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function x1(i){return i.data||{}}function vA(i){return i.resolve||{}}function bA(i){return Qn(t=>{const e=i(t);return e?(0,ti.D)(e).pipe((0,et.U)(()=>t)):(0,Ye.of)(t)})}class T1 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const D0=new u.OlP("ROUTES");class wA{constructor(t,e,s,o){this.loader=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,et.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new P_(UD(f.injector.get(D0,void 0,u.XFs.Self|u.XFs.Optional)).map(v0),f)}),iu(c=>{throw e._loader$=void 0,c}));return e._loader$=new wD.c(o,()=>new ze.xQ).pipe((0,NO.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ti.D)(this.loader.load(t)):nl(t()).pipe((0,Er.zg)(e=>e instanceof u.YKP?(0,Ye.of)(e):(0,ti.D)(this.compiler.compileModuleAsync(e))))}}class I1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bp,this.attachRef=null}}class bp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new I1,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class O1{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function k1(i){throw i}function RL(i,t,e){return t.parse("/")}function F1(i,t){return(0,Ye.of)(null)}const P1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class i{constructor(e,s,o,c,f,y,C,x){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=o,this.location=c,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.xQ,this.errorHandler=k1,this.malformedUriErrorHandler=RL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:F1,afterPreactivation:F1},this.urlHandlingStrategy=new O1,this.routeReuseStrategy=new T1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const F=f.get(u.R0b);this.isNgZoneEnabled=F instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new Ld(new Kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wA(y,C,V=>this.triggerEvent(new C_(V)),V=>this.triggerEvent(new OD(V))),this.routerState=cp(this.currentUrlTree,this.rootComponentType),this.transitions=new wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(rn(o=>0!==o.id),(0,et.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qn(o=>{let c=!1,f=!1;return(0,Ye.of)(o).pipe((0,$n.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(y=>{const C=!this.navigated||y.extractedUrl.toString()!==this.browserUrlTree.toString(),x=("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl);if(z_(y.source)&&(this.browserUrlTree=y.rawUrl),x)return(0,Ye.of)(y).pipe(Qn(M=>{const R=this.transitions.getValue();return s.next(new up(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),R!==this.transitions.getValue()?ro.E:Promise.resolve(M)}),function(i,t,e,s){return Qn(o=>function(i,t,e,s,o){return new SL(i,t,e,s,o).apply()}(i,t,e,o.extractedUrl,s).pipe((0,et.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$n.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(i,t,e,s,o){return(0,Er.zg)(c=>function(i,t,e,s,o="emptyOnly",c="legacy"){try{const f=new E0(i,t,e,s,o,c).recognize();return null===f?ou(new gA):(0,Ye.of)(f)}catch(f){return ou(f)}}(i,t,c.urlAfterRedirects,e(c.urlAfterRedirects),s,o).pipe((0,et.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$n.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const R=new ID(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);s.next(R)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:F,source:V,restoredState:U,extras:Q}=y,le=new up(R,this.serializeUrl(F),V,U);s.next(le);const ce=cp(F,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},y),{targetSnapshot:ce,urlAfterRedirects:F,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),ro.E}),bA(y=>{const{targetSnapshot:C,id:x,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:F,replaceUrl:V}}=y;return this.hooks.beforePreactivation(C,{navigationId:x,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!F,replaceUrl:!!V})}),(0,$n.b)(y=>{const C=new w_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),(0,et.U)(y=>Object.assign(Object.assign({},y),{guards:y1(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(i,t){return(0,Er.zg)(e=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Ye.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,s){return(0,ti.D)(i).pipe((0,Er.zg)(o=>function(i,t,e,s,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ye.of)(!0);const f=c.map(y=>{const C=V_(y,t,o);let x;if(function(i){return i&&ru(i.canDeactivate)}(C))x=nl(C.canDeactivate(i,t,e,s));else{if(!ru(C))throw new Error("Invalid CanDeactivate guard");x=nl(C(i,t,e,s))}return x.pipe(fc())});return(0,Ye.of)(f).pipe(mp())}(o.component,o.route,e,t,s)),fc(o=>!0!==o,!0))}(f,s,o,i).pipe((0,Er.zg)(y=>y&&function(i){return"boolean"==typeof i}(y)?function(i,t,e,s){return(0,ti.D)(t).pipe(dc(o=>Zv(function(i,t){return null!==i&&t&&t(new VO(i)),(0,Ye.of)(!0)}(o.route.parent,s),function(i,t){return null!==i&&t&&t(new FD(i)),(0,Ye.of)(!0)}(o.route,s),function(i,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(f)).filter(f=>null!==f).map(f=>lp(()=>{const y=f.guards.map(C=>{const x=V_(C,f.node,e);let M;if(function(i){return i&&ru(i.canActivateChild)}(x))M=nl(x.canActivateChild(s,i));else{if(!ru(x))throw new Error("Invalid CanActivateChild guard");M=nl(x(s,i))}return M.pipe(fc())});return(0,Ye.of)(y).pipe(mp())}));return(0,Ye.of)(c).pipe(mp())}(i,o.path,e),function(i,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Ye.of)(!0);const o=s.map(c=>lp(()=>{const f=V_(c,t,e);let y;if(function(i){return i&&ru(i.canActivate)}(f))y=nl(f.canActivate(t,i));else{if(!ru(f))throw new Error("Invalid CanActivate guard");y=nl(f(t,i))}return y.pipe(fc())}));return(0,Ye.of)(o).pipe(mp())}(i,o.route,e))),fc(o=>!0!==o,!0))}(s,c,i,t):(0,Ye.of)(y)),(0,et.U)(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,$n.b)(y=>{if(il(y.guardsResult)){const x=E_(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw x.url=y.guardsResult,x}const C=new RD(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(C)}),rn(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),bA(y=>{if(y.guards.canActivateChecks.length)return(0,Ye.of)(y).pipe((0,$n.b)(C=>{const x=new BO(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(x)}),Qn(C=>{let x=!1;return(0,Ye.of)(C).pipe(function(i,t){return(0,Er.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Ye.of)(e);let c=0;return(0,ti.D)(o).pipe(dc(f=>function(i,t,e,s){return function(i,t,e,s){const o=Object.keys(i);if(0===o.length)return(0,Ye.of)({});const c={};return(0,ti.D)(o).pipe((0,Er.zg)(f=>function(i,t,e,s){const o=V_(i,t,s);return nl(o.resolve?o.resolve(t,e):o(t,e))}(i[f],t,e,s).pipe((0,$n.b)(y=>{c[f]=y}))),n0(1),(0,Er.zg)(()=>Object.keys(c).length===o.length?(0,Ye.of)(c):ro.E))}(i._resolve,i,t,s).pipe((0,et.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),e1(i,e).resolve),null)))}(f.route,s,i,t)),(0,$n.b)(()=>c++),n0(1),(0,Er.zg)(f=>c===o.length?(0,Ye.of)(e):ro.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$n.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,$n.b)(C=>{const x=new o0(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(x)}))}),bA(y=>{const{targetSnapshot:C,id:x,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:F,replaceUrl:V}}=y;return this.hooks.afterPreactivation(C,{navigationId:x,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!F,replaceUrl:!!V})}),(0,et.U)(y=>{const C=function(i,t,e){const s=k_(i,t._root,e?e._root:void 0);return new p0(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:C})}),(0,$n.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((i,t,e)=>(0,et.U)(s=>(new eA(t,s.targetRouterState,s.currentRouterState,e).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,$n.b)({next(){c=!0},complete(){c=!0}}),v_(()=>{if(!c&&!f){const y=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,y)):this.cancelNavigationTransition(o,y)}this.currentNavigation=null}),iu(y=>{if(f=!0,function(i){return i&&i[BD]}(y)){const C=il(y.url);C||(this.navigated=!0,this.restoreHistory(o,!0));const x=new s0(o.id,this.serializeUrl(o.extractedUrl),y.message);s.next(x),C?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z_(o.source)};this.scheduleNavigation(M,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const C=new LO(o.id,this.serializeUrl(o.extractedUrl),y);s.next(C);try{o.resolve(this.errorHandler(y))}catch(x){o.reject(x)}}return ro.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:c,urlTree:f}=s,y={replaceUrl:!0};if(c){const C=Object.assign({},c);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(y.state=C)}this.scheduleNavigation(f,o,c,y)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const o=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!o||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){sA(e),this.config=e.map(v0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:o,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:C}=s,x=o||this.routerState.root,M=C?this.currentUrlTree.fragment:f;let R=null;switch(y){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(i,t,e,s,o){if(0===e.length)return QD(t.root,t.root,t,s,o);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new KD(!0,0,i);let t=0,e=!1;const s=i.reduce((o,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return Fi(c.outlets,(C,x)=>{y[x]="string"==typeof C?C.split("/"):C}),[...o,{outlets:y}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===f?(c.split("/").forEach((y,C)=>{0==C&&"."===y||(0==C&&""===y?e=!0:".."===y?t++:""!=y&&o.push(y))}),o):[...o,c]},[]);return new KD(e,t,s)}(e);if(c.toRoot())return QD(t.root,new Kt([],{}),t,s,o);const f=function(i,t,e){if(i.isAbsolute)return new m0(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new m0(c,c===t.root,0)}const s=hp(i.commands[0])?0:1;return function(i,t,e){let s=i,o=t,c=e;for(;c>o;){if(c-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new m0(s,!1,o-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(c,t,i),y=f.processChildren?lr(f.segmentGroup,f.index,c.commands):ZD(f.segmentGroup,f.index,c.commands);return QD(f.segmentGroup,y,t,s,o)}(x,this.currentUrlTree,e,R,null!=M?M:null)}navigateByUrl(e,s={skipLocationChange:!1}){const o=il(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return s}isActive(e,s){let o;if(o=!0===s?Object.assign({},P1):!1===s?Object.assign({},N1):s,il(e))return jO(this.currentUrlTree,e,o);const c=this.parseUrl(e);return jO(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((s,o)=>{const c=e[o];return null!=c&&(s[o]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new b_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,o,c,f){var y,C;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),M=z_(s)&&x&&!z_(x.source),V=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===e.toString();if(M&&V)return Promise.resolve(!0);let U,Q,le;f?(U=f.resolve,Q=f.reject,le=f.promise):le=new Promise((Ie,qe)=>{U=Ie,Q=qe});const ce=++this.navigationId;let Ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ae=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Ae=0,this.setTransition({id:ce,targetPageId:Ae,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:U,reject:Q,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(Ie=>Promise.reject(Ie))}setBrowserUrl(e,s){const o=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,s=!1){var o,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const o=new s0(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.DyG),u.LFG(u0),u.LFG(bp),u.LFG(ot),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function z_(i){return"imperative"!==i}let wp=(()=>{class i{constructor(e,s,o){this.router=e,this.route=s,this.locationStrategy=o,this.commands=[],this.onChanges=new ze.xQ,this.subscription=e.events.subscribe(c=>{c instanceof b_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,o,c,f){if(0!==e||s||o||c||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:Ud(this.skipLocationChange),replaceUrl:Ud(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ud(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(xi),u.Y36(dp),u.Y36(Ge))},i.\u0275dir=u.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&u.NdJ("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&(u.Ikx("href",s.href,u.LSH),u.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),i})();function Ud(i){return""===i||!!i}let CA=(()=>{class i{constructor(e,s,o,c,f){this.parentContexts=e,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||Vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,C=new G1(e,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(bp),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},i.\u0275dir=u.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class G1{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===dp?this.route:t===bp?this.childContexts:this.parent.get(t,e)}}class EA{}class jd{preload(t,e){return(0,Ye.of)(null)}}let A0=(()=>{class i{constructor(e,s,o,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new wA(s,o,x=>e.triggerEvent(new C_(x)),x=>e.triggerEvent(new OD(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(rn(e=>e instanceof b_),dc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const o=[];for(const c of s)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(e,c)):c.children&&o.push(this.processRoutes(e,c.children));return(0,ti.D)(o).pipe((0,Kv.J)(),(0,et.U)(c=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Ye.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Er.zg)(c=>(s._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xi),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(EA))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),SA=(()=>{class i{constructor(e,s,o={}){this.router=e,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof b_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ND&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new ND(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xi),u.LFG(dn),u.LFG(void 0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const Hd=new u.OlP("ROUTER_CONFIGURATION"),j1=new u.OlP("ROUTER_FORROOT_GUARD"),M0=[ot,{provide:u0,useClass:HD},{provide:xi,useFactory:function(i,t,e,s,o,c,f,y={},C,x){const M=new xi(null,i,t,e,s,o,c,UD(f));return C&&(M.urlHandlingStrategy=C),x&&(M.routeReuseStrategy=x),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(y,M),y.enableTracing&&M.events.subscribe(R=>{var F,V;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(V=console.groupEnd)||void 0===V||V.call(console)}),M},deps:[u0,bp,ot,u.zs3,u.v3s,u.Sil,D0,Hd,[class{},new u.FiY],[class{},new u.FiY]]},bp,{provide:dp,useFactory:function(i){return i.routerState.root},deps:[xi]},{provide:u.v3s,useClass:u.EAV},A0,jd,class{preload(t,e){return e().pipe(iu(()=>(0,Ye.of)(null)))}},{provide:Hd,useValue:{enableTracing:!1}}];function H1(){return new u.PXZ("Router",xi)}let xA=(()=>{class i{constructor(e,s){}static forRoot(e,s){return{ngModule:i,providers:[M0,DA(e),{provide:j1,useFactory:Y1,deps:[[xi,new u.FiY,new u.tp0]]},{provide:Hd,useValue:s||{}},{provide:Ge,useFactory:FL,deps:[ne,[new u.tBr(Le),new u.FiY],Hd]},{provide:SA,useFactory:z1,deps:[xi,dn,Hd]},{provide:EA,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:jd},{provide:u.PXZ,multi:!0,useFactory:H1},[Y_,{provide:u.ip1,multi:!0,useFactory:$1,deps:[Y_]},{provide:T0,useFactory:AA,deps:[Y_]},{provide:u.tb,multi:!0,useExisting:T0}]]}}static forChild(e){return{ngModule:i,providers:[DA(e)]}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(j1,8),u.LFG(xi,8))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();function z1(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new SA(i,t,e)}function FL(i,t,e={}){return e.useHash?new Ln(i,t):new qt(i,t)}function Y1(i){return"guarded"}function DA(i){return[{provide:u.deG,multi:!0,useValue:i},{provide:D0,multi:!0,useValue:i}]}let Y_=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ze.xQ}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(y=>s=y),c=this.injector.get(xi),f=this.injector.get(Hd);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),c.initialNavigation()):s(!0),o})}bootstrapListener(e){const s=this.injector.get(Hd),o=this.injector.get(A0),c=this.injector.get(SA),f=this.injector.get(xi),y=this.injector.get(u.z2F);e===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),c.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(u.zs3))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function $1(i){return i.appInitializer.bind(i)}function AA(i){return i.bootstrapListener.bind(i)}const T0=new u.OlP("Router Initializer");var I0=j(205),q_=j(8819);class Cp{}class Ep{}class ha{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const o=e.slice(0,s),c=o.toLowerCase(),f=e.slice(s+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const o=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ha;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ha?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...s),this.headers.set(e,o);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(y=>-1===c.indexOf(y)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class IA{encodeKey(t){return OA(t)}encodeValue(t){return OA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Q1=/%(\d[a-f0-9])/gi,RA={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function OA(i){return encodeURIComponent(i).replace(Q1,(t,e)=>{var s;return null!==(s=RA[e])&&void 0!==s?s:t})}function kA(i){return`${i}`}class au{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new IA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[f,y]=-1==c?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,c)),t.decodeValue(o.slice(c+1))],C=e.get(f)||[];C.push(y),e.set(f,C)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const o=t[s];Array.isArray(o)?o.forEach(c=>{e.push({param:s,value:c,op:"a"})}):e.push({param:s,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new au({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const o=s.indexOf(kA(t.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class K1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function zd(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function Sp(i){return"undefined"!=typeof Blob&&i instanceof Blob}function R0(i){return"undefined"!=typeof FormData&&i instanceof FormData}class gc{constructor(t,e,s,o){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,c=o):c=s,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new ha),this.context||(this.context=new K1),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+f}}else this.params=new au,this.urlWithParams=e}serializeBody(){return null===this.body?null:zd(this.body)||Sp(this.body)||R0(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof au?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R0(this.body)?null:Sp(this.body)?this.body.type||null:zd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof au?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const s=t.method||this.method,o=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,C=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let x=t.headers||this.headers,M=t.params||this.params;const R=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(x=Object.keys(t.setHeaders).reduce((F,V)=>F.set(V,t.setHeaders[V]),x)),t.setParams&&(M=Object.keys(t.setParams).reduce((F,V)=>F.set(V,t.setParams[V]),M)),new gc(s,o,f,{params:M,headers:x,context:R,reportProgress:C,responseType:c,withCredentials:y})}}var ui=(()=>((ui=ui||{})[ui.Sent=0]="Sent",ui[ui.UploadProgress=1]="UploadProgress",ui[ui.ResponseHeader=2]="ResponseHeader",ui[ui.DownloadProgress=3]="DownloadProgress",ui[ui.Response=4]="Response",ui[ui.User=5]="User",ui))();class Yd{constructor(t,e=200,s="OK"){this.headers=t.headers||new ha,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class O0 extends Yd{constructor(t={}){super(t),this.type=ui.ResponseHeader}clone(t={}){return new O0({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class W_ extends Yd{constructor(t={}){super(t),this.type=ui.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new W_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class PA extends Yd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function k0(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let qd=(()=>{class i{constructor(e){this.handler=e}request(e,s,o={}){let c;if(e instanceof gc)c=e;else{let C,x;C=o.headers instanceof ha?o.headers:new ha(o.headers),o.params&&(x=o.params instanceof au?o.params:new au({fromObject:o.params})),c=new gc(e,s,void 0!==o.body?o.body:null,{headers:C,context:o.context,params:x,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,Ye.of)(c).pipe(dc(C=>this.handler.handle(C)));if(e instanceof gc||"events"===o.observe)return f;const y=f.pipe(rn(C=>C instanceof W_));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return y.pipe((0,et.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return y.pipe((0,et.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return y.pipe((0,et.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return y.pipe((0,et.U)(C=>C.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new au).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,o={}){return this.request("PATCH",e,k0(o,s))}post(e,s,o={}){return this.request("POST",e,k0(o,s))}put(e,s,o={}){return this.request("PUT",e,k0(o,s))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Cp))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class NA{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const LA=new u.OlP("HTTP_INTERCEPTORS");let Z1=(()=>{class i{intercept(e,s){return s.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const J1=/^\)\]\}',?\n/;let F0=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fn.y(s=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((V,U)=>o.setRequestHeader(V,U.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&o.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();o.responseType="json"!==V?V:"text"}const c=e.serializeBody();let f=null;const y=()=>{if(null!==f)return f;const V=1223===o.status?204:o.status,U=o.statusText||"OK",Q=new ha(o.getAllResponseHeaders()),le=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(o)||e.url;return f=new O0({headers:Q,status:V,statusText:U,url:le}),f},C=()=>{let{headers:V,status:U,statusText:Q,url:le}=y(),ce=null;204!==U&&(ce=void 0===o.response?o.responseText:o.response),0===U&&(U=ce?200:0);let Ae=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof ce){const Ie=ce;ce=ce.replace(J1,"");try{ce=""!==ce?JSON.parse(ce):null}catch(qe){ce=Ie,Ae&&(Ae=!1,ce={error:qe,text:ce})}}Ae?(s.next(new W_({body:ce,headers:V,status:U,statusText:Q,url:le||void 0})),s.complete()):s.error(new PA({error:ce,headers:V,status:U,statusText:Q,url:le||void 0}))},x=V=>{const{url:U}=y(),Q=new PA({error:V,status:o.status||0,statusText:o.statusText||"Unknown Error",url:U||void 0});s.error(Q)};let M=!1;const R=V=>{M||(s.next(y()),M=!0);let U={type:ui.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===e.responseType&&!!o.responseText&&(U.partialText=o.responseText),s.next(U)},F=V=>{let U={type:ui.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),s.next(U)};return o.addEventListener("load",C),o.addEventListener("error",x),o.addEventListener("timeout",x),o.addEventListener("abort",x),e.reportProgress&&(o.addEventListener("progress",R),null!==c&&o.upload&&o.upload.addEventListener("progress",F)),o.send(c),s.next({type:ui.Sent}),()=>{o.removeEventListener("error",x),o.removeEventListener("abort",x),o.removeEventListener("load",C),o.removeEventListener("timeout",x),e.reportProgress&&(o.removeEventListener("progress",R),null!==c&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(hl))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const P0=new u.OlP("XSRF_COOKIE_NAME"),N0=new u.OlP("XSRF_HEADER_NAME");class UA{}let rl=(()=>{class i{constructor(e,s,o){this.doc=e,this.platform=s,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ti(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J),u.LFG(u.Lbi),u.LFG(P0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),_c=(()=>{class i{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return s.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),s.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(UA),u.LFG(N0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),$d=(()=>{class i{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(LA,[]);this.chain=s.reduceRight((o,c)=>new NA(o,c),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ep),u.LFG(u.zs3))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),X1=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:_c,useClass:Z1}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:P0,useValue:e.cookieName}:[],e.headerName?{provide:N0,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[_c,{provide:LA,useExisting:_c,multi:!0},{provide:UA,useClass:rl},{provide:P0,useValue:"XSRF-TOKEN"},{provide:N0,useValue:"X-XSRF-TOKEN"}]}),i})(),ek=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[qd,{provide:Cp,useClass:$d},F0,{provide:Ep,useExisting:F0}],imports:[[X1.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();const jA=["*"];function B0(i){return Error(`Unable to find icon with the name "${i}"`)}function K_(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function zA(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class yc{constructor(t,e,s){this.url=t,this.svgText=e,this.options=s}}let Dp=(()=>{class i{constructor(e,s,o,c){this._httpClient=e,this._sanitizer=s,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,s,o){return this.addSvgIconInNamespace("",e,s,o)}addSvgIconLiteral(e,s,o){return this.addSvgIconLiteralInNamespace("",e,s,o)}addSvgIconInNamespace(e,s,o,c){return this._addSvgIconConfig(e,s,new yc(o,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,o,c){const f=this._sanitizer.sanitize(u.q3G.HTML,o);if(!f)throw zA(o);return this._addSvgIconConfig(e,s,new yc("",f,c))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,o){return this._addSvgIconSetConfig(e,new yc(s,null,o))}addSvgIconSetLiteralInNamespace(e,s,o){const c=this._sanitizer.sanitize(u.q3G.HTML,s);if(!c)throw zA(s);return this._addSvgIconSetConfig(e,new yc("",c,o))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,e);if(!s)throw K_(e);const o=this._cachedIconsByUrl.get(s);return o?(0,Ye.of)(Z_(o)):this._loadSvgIconFromConfig(new yc(e,null)).pipe((0,$n.b)(c=>this._cachedIconsByUrl.set(s,c)),(0,et.U)(c=>Z_(c)))}getNamedSvgIcon(e,s=""){const o=qA(s,e);let c=this._svgIconConfigs.get(o);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(s,e),c)return this._svgIconConfigs.set(o,c),this._getSvgFromConfig(c);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(e,f):(0,I0._)(B0(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ye.of)(Z_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,et.U)(s=>Z_(s)))}_getSvgFromIconSetConfigs(e,s){const o=this._extractIconWithNameFromAnySet(e,s);return o?(0,Ye.of)(o):Rx(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(iu(y=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,f.url)} failed: ${y.message}`;return this._errorHandler.handleError(new Error(x)),(0,Ye.of)(null)})))).pipe((0,et.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,s);if(!f)throw B0(e);return f}))}_extractIconWithNameFromAnySet(e,s){for(let o=s.length-1;o>=0;o--){const c=s[o];if(c.svgText&&c.svgText.indexOf(e)>-1){const f=this._svgElementFromConfig(c),y=this._extractSvgIconFromSet(f,e,c.options);if(y)return y}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,$n.b)(s=>e.svgText=s),(0,et.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ye.of)(null):this._fetchIcon(e).pipe((0,$n.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,o){const c=e.querySelector(`[id="${s}"]`);if(!c)return null;const f=c.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const y=this._svgElementFromString("<svg></svg>");return y.appendChild(f),this._setSvgAttributes(y,o)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const s=this._svgElementFromString("<svg></svg>"),o=e.attributes;for(let c=0;c<o.length;c++){const{name:f,value:y}=o[c];"id"!==f&&s.setAttribute(f,y)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[c].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:o,options:c}=e,f=null!==(s=null==c?void 0:c.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const y=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o);if(!y)throw K_(o);const C=this._inProgressUrlFetches.get(y);if(C)return C;const x=this._httpClient.get(y,{responseType:"text",withCredentials:f}).pipe(v_(()=>this._inProgressUrlFetches.delete(y)),(0,q_.B)());return this._inProgressUrlFetches.set(y,x),x}_addSvgIconConfig(e,s,o){return this._svgIconConfigs.set(qA(e,s),o),this}_addSvgIconSetConfig(e,s){const o=this._iconSetConfigs.get(e);return o?o.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let o=0;o<this._resolvers.length;o++){const c=this._resolvers[o](s,e);if(c)return GL(c)?new yc(c.url,null,c.options):new yc(c,null)}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(qd,8),u.LFG(zi),u.LFG(J,8),u.LFG(u.qLn))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(qd,8),u.LFG(zi),u.LFG(J,8),u.LFG(u.qLn))},token:i,providedIn:"root"}),i})();function Z_(i){return i.cloneNode(!0)}function qA(i,t){return i+":"+t}function GL(i){return!(!i.url||!i.options)}const UL=sc(class{constructor(i){this._elementRef=i}}),jL=new u.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,u.f3M)(J),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),$A=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zL=$A.map(i=>`[${i}]`).join(", "),YL=/^url\(['"]?#(.*?)['"]?\)$/;let ik=(()=>{class i extends UL{constructor(e,s,o,c,f){super(e),this._iconRegistry=s,this._location=c,this._errorHandler=f,this._inline=!1,this._currentIconFetch=ei.w.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=at(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=e.querySelectorAll("style");for(let c=0;c<s.length;c++)s[c].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=e.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&e.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((o,c)=>{o.forEach(f=>{c.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(zL),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<s.length;c++)$A.forEach(f=>{const y=s[c],C=y.getAttribute(f),x=C?C.match(YL):null;if(x){let M=o.get(y);M||(M=[],o.set(y,M)),M.push({name:f,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,o]=this._splitIconName(e);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe($i(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${c.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Dp),u.$8M("aria-hidden"),u.Y36(jL),u.Y36(u.qLn))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(u.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),u.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:jA,decls:1,vars:0,template:function(e,s){1&e&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),rk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt],Qt]}),i})();var ok=j(3098);function ak(i,t=Ku.P){const s=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-t.now():Math.abs(i);return o=>o.lift(new qL(s,t))}class qL{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new WA(t,this.delay,this.scheduler))}}class WA extends pi.L{constructor(t,e,s){super(t),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,s=e.queue,o=t.scheduler,c=t.destination;for(;s.length>0&&s[0].time-o.now()<=0;)s.shift().notification.observe(c);if(s.length>0){const f=Math.max(0,s[0].time-o.now());this.schedule(t,f)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(WA.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,s=new a(e.now()+this.delay,t);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(ok.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(ok.P.createComplete()),this.unsubscribe()}}class a{constructor(t,e){this.time=t,this.notification=e}}class E{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class D extends E{constructor(t,e,s,o){super(),this.component=t,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=o}}class T extends E{constructor(t,e,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class O extends E{constructor(t){super(),this.element=t instanceof u.SBq?t.nativeElement:t}}class N{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof D?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof O?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $ extends N{constructor(t,e,s,o,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=f=>{const y=f.element,C=this._document.createComment("dom-portal");y.parentNode.insertBefore(C,y),this.outletElement.appendChild(y),this._attachedPortal=f,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(y,C)})},this._document=c}attachComponentPortal(t){const s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(s,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(t.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,s=e.createEmbeddedView(t.templateRef,t.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(s);-1!==o&&e.remove(o)}),this._attachedPortal=t,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Re=(()=>{class i extends N{constructor(e,s,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=c=>{const f=c.element,y=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(y,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(f,y)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=s.createComponent(c,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(J))},i.\u0275dir=u.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),i})(),tt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();class Di{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new js(t,this.predicate,this.inclusive))}}class js extends pi.L{constructor(t,e,s){super(t),this.predicate=e,this.inclusive=s,this.index=0}_next(t){const e=this.destination;let s;try{s=this.predicate(t,this.index++)}catch(o){return void e.error(o)}this.nextOrComplete(t,s)}nextOrComplete(t,e){const s=this.destination;Boolean(e)?s.next(t):(this.inclusive&&s.next(t),s.complete())}}const Wd=xE();class Qd{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=jn(-this._previousScrollPosition.left),t.style.top=jn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,s=t.style,o=this._document.body.style,c=s.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Wd&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wd&&(s.scrollBehavior=c,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class Kd{constructor(t,e,s,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class J_{enable(){}disable(){}attach(){}}function Mp(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function X_(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class V0{constructor(t,e,s,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();Mp(e,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let G0=(()=>{class i{constructor(e,s,o,c){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new J_,this.close=f=>new Kd(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new Qd(this._viewportRuler,this._document),this.reposition=f=>new V0(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Wa),u.LFG(io),u.LFG(u.R0b),u.LFG(J))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Wa),u.LFG(io),u.LFG(u.R0b),u.LFG(J))},token:i,providedIn:"root"}),i})();class QA{constructor(t){if(this.scrollStrategy=new J_,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const s of e)void 0!==t[s]&&(this[s]=t[s])}}}class gj{constructor(t,e,s,o,c){this.offsetX=s,this.offsetY=o,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class mj{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $L=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(J))},token:i,providedIn:"root"}),i})(),_j=(()=>{class i extends $L{constructor(e){super(e),this._keydownListener=s=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){o[c]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(J))},token:i,providedIn:"root"}),i})(),yj=(()=>{class i extends $L{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const c=qa(o),f=this._attachedOverlays.slice();for(let y=f.length-1;y>-1;y--){const C=f[y];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(c))break;C._outsidePointerEvents.next(o)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J),u.LFG(Ut))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(J),u.LFG(Ut))},token:i,providedIn:"root"}),i})();const Zd="undefined"!=typeof window?window:{},WL=void 0!==Zd.__karma__&&!!Zd.__karma__||void 0!==Zd.jasmine&&!!Zd.jasmine||void 0!==Zd.jest&&!!Zd.jest||void 0!==Zd.Mocha&&!!Zd.Mocha;let lk=(()=>{class i{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||WL){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<o.length;c++)o[c].parentNode.removeChild(o[c])}const s=this._document.createElement("div");s.classList.add(e),WL?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(J),u.LFG(Ut))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(J),u.LFG(Ut))},token:i,providedIn:"root"}),i})();class vj{constructor(t,e,s,o,c,f,y,C,x){this._portalOutlet=t,this._host=e,this._pane=s,this._config=o,this._ngZone=c,this._keyboardDispatcher=f,this._document=y,this._location=C,this._outsideClickDispatcher=x,this._backdropElement=null,this._backdropClick=new ze.xQ,this._attachments=new ze.xQ,this._detachments=new ze.xQ,this._locationChanges=ei.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new ze.xQ,this._outsidePointerEvents=new ze.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe($i(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=jn(this._config.width),t.height=jn(this._config.height),t.minWidth=jn(this._config.minWidth),t.minHeight=jn(this._config.minHeight),t.maxWidth=jn(this._config.maxWidth),t.maxHeight=jn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,s=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",s),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",s)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(t,e,s){const o=t.classList;Go(e).forEach(c=>{c&&(s?o.add(c):o.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yt((0,fi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const QL="cdk-overlay-connected-position-bounding-box",bj=/([A-Za-z%]+)$/;class KL{constructor(t,e,s,o,c){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ze.xQ,this._resizeSubscription=ei.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(QL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,s=this._viewportRect,o=[];let c;for(let f of this._preferredPositions){let y=this._getOriginPoint(t,f),C=this._getOverlayPoint(y,e,f),x=this._getOverlayFit(C,e,s,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,y);this._canFitWithFlexibleDimensions(x,C,s)?o.push({position:f,origin:y,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(y,f)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:C,originPoint:y,position:f,overlayRect:e})}if(o.length){let f=null,y=-1;for(const C of o){const x=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);x>y&&(y=x,f=C)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let s,o;if("center"==e.originX)s=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;s="start"==e.originX?c:f}return o="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:s,y:o}}_getOverlayPoint(t,e,s){let o,c;return o="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:t.x+o,y:t.y+c}}_getOverlayFit(t,e,s,o){const c=JL(e);let{x:f,y}=t,C=this._getOffset(o,"x"),x=this._getOffset(o,"y");C&&(f+=C),x&&(y+=x);let F=0-y,V=y+c.height-s.height,U=this._subtractOverflows(c.width,0-f,f+c.width-s.width),Q=this._subtractOverflows(c.height,F,V),le=U*Q;return{visibleArea:le,isCompletelyWithinViewport:c.width*c.height===le,fitsInViewportVertically:Q===c.height,fitsInViewportHorizontally:U==c.width}}_canFitWithFlexibleDimensions(t,e,s){if(this._hasFlexibleDimensions){const o=s.bottom-e.y,c=s.right-e.x,f=ZL(this._overlayRef.getConfig().minHeight),y=ZL(this._overlayRef.getConfig().minWidth),x=t.fitsInViewportHorizontally||null!=y&&y<=c;return(t.fitsInViewportVertically||null!=f&&f<=o)&&x}return!1}_pushOverlayOnScreen(t,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=JL(e),c=this._viewportRect,f=Math.max(t.x+o.width-c.width,0),y=Math.max(t.y+o.height-c.height,0),C=Math.max(c.top-s.top-t.y,0),x=Math.max(c.left-s.left-t.x,0);let M=0,R=0;return M=o.width<=c.width?x||-f:t.x<this._viewportMargin?c.left-s.left-t.x:0,R=o.height<=c.height?C||-y:t.y<this._viewportMargin?c.top-s.top-t.y:0,this._previousPushAmount={x:M,y:R},{x:t.x+M,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new mj(t,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=t.overlayY;s="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(t,e){const s=this._viewportRect,o=this._isRtl();let c,f,y,M,R,F;if("top"===e.overlayY)f=t.y,c=s.height-f+this._viewportMargin;else if("bottom"===e.overlayY)y=s.height-t.y+2*this._viewportMargin,c=s.height-y+this._viewportMargin;else{const V=Math.min(s.bottom-t.y+s.top,t.y),U=this._lastBoundingBoxSize.height;c=2*V,f=t.y-V,c>U&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-U/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)F=s.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)R=t.x,M=s.right-t.x;else{const V=Math.min(s.right-t.x+s.left,t.x),U=this._lastBoundingBoxSize.width;M=2*V,R=t.x-V,M>U&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-U/2)}return{top:f,left:R,bottom:y,right:F,width:M,height:c}}_setBoundingBoxStyles(t,e){const s=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=jn(s.height),o.top=jn(s.top),o.bottom=jn(s.bottom),o.width=jn(s.width),o.left=jn(s.left),o.right=jn(s.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(o.maxHeight=jn(c)),f&&(o.maxWidth=jn(f))}this._lastBoundingBoxSize=s,Tp(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Tp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const s={},o=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();Tp(s,this._getExactOverlayY(e,t,M)),Tp(s,this._getExactOverlayX(e,t,M))}else s.position="static";let y="",C=this._getOffset(e,"x"),x=this._getOffset(e,"y");C&&(y+=`translateX(${C}px) `),x&&(y+=`translateY(${x}px)`),s.transform=y.trim(),f.maxHeight&&(o?s.maxHeight=jn(f.maxHeight):c&&(s.maxHeight="")),f.maxWidth&&(o?s.maxWidth=jn(f.maxWidth):c&&(s.maxWidth="")),Tp(this._pane.style,s)}_getExactOverlayY(t,e,s){let o={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,s));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":o.top=jn(c.y),o}_getExactOverlayX(t,e,s){let f,o={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,s)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":o.left=jn(c.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:X_(t,s),isOriginOutsideView:Mp(t,s),isOverlayClipped:X_(e,s),isOverlayOutsideView:Mp(e,s)}}_subtractOverflows(t,...e){return e.reduce((s,o)=>s-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+t-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Go(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof u.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,s=t.height||0;return{top:t.y,bottom:t.y+s,left:t.x,right:t.x+e,height:s,width:e}}}function Tp(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function ZL(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(bj);return e&&"px"!==e?null:parseFloat(t)}return i||null}function JL(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class wj{constructor(t,e,s,o,c,f,y){this._preferredPositions=[],this._positionStrategy=new KL(s,o,c,f,y).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,s,o){const c=new gj(t,e,s,o);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const XL="cdk-global-overlay-wrapper";class Cj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(XL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:c,maxWidth:f,maxHeight:y}=s,C=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),x=!("100%"!==c&&"100vh"!==c||y&&"100%"!==y&&"100vh"!==y);t.position=this._cssPosition,t.marginLeft=C?"0":this._leftOffset,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,C?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(XL),s.justifyContent=s.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ej=(()=>{class i{constructor(e,s,o,c){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=c}global(){return new Cj}connectedTo(e,s,o){return new wj(s,o,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new KL(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(io),u.LFG(J),u.LFG(Ut),u.LFG(lk))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(io),u.LFG(J),u.LFG(Ut),u.LFG(lk))},token:i,providedIn:"root"}),i})(),Sj=0,Jd=(()=>{class i{constructor(e,s,o,c,f,y,C,x,M,R,F){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=y,this._ngZone=C,this._document=x,this._directionality=M,this._location=R,this._outsideClickDispatcher=F}create(e){const s=this._createHostElement(),o=this._createPaneElement(s),c=this._createPortalOutlet(o),f=new QA(e);return f.direction=f.direction||this._directionality.value,new vj(c,s,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+Sj++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new $(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(G0),u.LFG(lk),u.LFG(u._Vd),u.LFG(Ej),u.LFG(_j),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(J),u.LFG(gi),u.LFG(ot),u.LFG(yj))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const xj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eB=new u.OlP("cdk-connected-overlay-scroll-strategy");let Dj=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq))},i.\u0275dir=u.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),tB=(()=>{class i{constructor(e,s,o,c,f){this._overlay=e,this._dir=f,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ei.w.EMPTY,this._attachSubscription=ei.w.EMPTY,this._detachSubscription=ei.w.EMPTY,this._positionSubscription=ei.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new u.vpe,this.positionChange=new u.vpe,this.attach=new u.vpe,this.detach=new u.vpe,this.overlayKeydown=new u.vpe,this.overlayOutsideClick=new u.vpe,this._templatePortal=new T(s,o),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=at(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=at(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=at(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=at(e)}get push(){return this._push}set push(e){this._push=at(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xj);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!Ka(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new QA({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,t=!1){return e=>e.lift(new Di(i,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(Jd),u.Y36(u.Rgc),u.Y36(u.s_b),u.Y36(eB),u.Y36(gi,8))},i.\u0275dir=u.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[u.TTD]}),i})();const Mj={provide:eB,deps:[Jd],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let uk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[Jd,Mj],imports:[[zr,tt,qr],qr]}),i})();const Tj=["mat-menu-item",""];function Ij(i,t){1&i&&(u.O4$(),u.TgZ(0,"svg",2),u._UZ(1,"polygon",3),u.qZA())}const nB=["*"];function Rj(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"div",0),u.NdJ("keydown",function(o){return u.CHM(e),u.oxw()._handleKeydown(o)})("click",function(){return u.CHM(e),u.oxw().closed.emit("click")})("@transformMenu.start",function(o){return u.CHM(e),u.oxw()._onAnimationStart(o)})("@transformMenu.done",function(o){return u.CHM(e),u.oxw()._onAnimationDone(o)}),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u.qZA()}if(2&i){const e=u.oxw();u.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),u.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const KA={transformMenu:jl("transformMenu",[us("void",zn({opacity:0,transform:"scale(0.8)"})),Wr("void => enter",$r("120ms cubic-bezier(0, 0, 0.2, 1)",zn({opacity:1,transform:"scale(1)"}))),Wr("* => void",$r("100ms 25ms linear",zn({opacity:0})))]),fadeInItems:jl("fadeInItems",[us("showing",zn({opacity:1})),Wr("void => *",[zn({opacity:0}),$r("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},iB=new u.OlP("MatMenuContent"),ck=new u.OlP("MAT_MENU_PANEL"),Oj=Xa(Wl(class{}));let ZA=(()=>{class i extends Oj{constructor(e,s,o,c,f){super(),this._elementRef=e,this._focusMonitor=o,this._parentMenu=c,this._changeDetectorRef=f,this.role="menuitem",this._hovered=new ze.xQ,this._focused=new ze.xQ,this._highlighted=!1,this._triggersSubmenu=!1,c&&c.addItem&&c.addItem(this)}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,s;const o=this._elementRef.nativeElement.cloneNode(!0),c=o.querySelectorAll("mat-icon, .material-icons");for(let f=0;f<c.length;f++){const y=c[f];null===(e=y.parentNode)||void 0===e||e.removeChild(y)}return(null===(s=o.textContent)||void 0===s?void 0:s.trim())||""}_setHighlighted(e){var s;this._highlighted=e,null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(J),u.Y36(Ja),u.Y36(ck,8),u.Y36(u.sBO))},i.\u0275cmp=u.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,s){1&e&&u.NdJ("click",function(c){return s._checkDisabled(c)})("mouseenter",function(){return s._handleMouseEnter()}),2&e&&(u.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),u.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[u.qOj],attrs:Tj,ngContentSelectors:nB,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,s){1&e&&(u.F$t(),u.Hsn(0),u._UZ(1,"div",0),u.YNc(2,Ij,2,0,"svg",1)),2&e&&(u.xp6(1),u.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),u.xp6(1),u.Q6J("ngIf",s._triggersSubmenu))},directives:[cs,Ft],encapsulation:2,changeDetection:0}),i})();const rB=new u.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Fj=0,U0=(()=>{class i{constructor(e,s,o){this._elementRef=e,this._ngZone=s,this._defaultOptions=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new u.n_E,this._tabSubscription=ei.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ze.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new u.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Fj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=at(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=at(e)}set panelClass(e){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ul(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(li(this._directDescendantItems),Qn(e=>(0,fi.T)(...e.map(s=>s._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(li(this._directDescendantItems),Qn(s=>(0,fi.T)(...s.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const s=e.keyCode,o=this._keyManager;switch(s){case 27:Ka(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&o.setFocusOrigin("keyboard"),o.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe($i(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const s=this._keyManager;if(s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let o=this._directDescendantItems.first._getHostElement().parentElement;for(;o;){if("menu"===o.getAttribute("role")){o.focus();break}o=o.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const s=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${s}`,c=Object.keys(this._classList).find(f=>f.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,s=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===e,o["mat-menu-after"]="after"===e,o["mat-menu-above"]="above"===s,o["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(li(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(rB))},i.\u0275dir=u.lG2({type:i,contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,iB,5),u.Suo(o,ZA,5),u.Suo(o,ZA,4)),2&e){let c;u.iGM(c=u.CRH())&&(s.lazyContent=c.first),u.iGM(c=u.CRH())&&(s._allItems=c),u.iGM(c=u.CRH())&&(s.items=c)}},viewQuery:function(e,s){if(1&e&&u.Gf(u.Rgc,5),2&e){let o;u.iGM(o=u.CRH())&&(s.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),i})(),Pj=(()=>{class i extends U0{constructor(e,s,o){super(e,s,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(rB))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,s){2&e&&u.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[u._Bn([{provide:ck,useExisting:i}]),u.qOj],ngContentSelectors:nB,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,s){1&e&&(u.F$t(),u.YNc(0,Rj,3,6,"ng-template"))},directives:[Cs],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[KA.transformMenu,KA.fadeInItems]},changeDetection:0}),i})();const sB=new u.OlP("mat-menu-scroll-strategy"),oB={provide:sB,deps:[Jd],useFactory:function(i){return()=>i.scrollStrategies.reposition()}},lB=fd({passive:!0});let Lj=(()=>{class i{constructor(e,s,o,c,f,y,C,x){this._overlay=e,this._element=s,this._viewContainerRef=o,this._menuItemInstance=y,this._dir=C,this._focusMonitor=x,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ei.w.EMPTY,this._hoverSubscription=ei.w.EMPTY,this._menuCloseSubscription=ei.w.EMPTY,this._handleTouchStart=M=>{Cb(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new u.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new u.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=f instanceof U0?f:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,lB),y&&(y._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,lB),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),s=e.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof U0&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,s):this._element.nativeElement.focus(s)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof U0?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(rn(o=>"void"===o.toState),$i(1),yt(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,s=this.menu.parentMenu;for(;s;)e++,s=s.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new QA({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[s,o]="before"===this.menu.xPosition?["end","start"]:["start","end"],[c,f]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[y,C]=[c,f],[x,M]=[s,o],R=0;this.triggersSubmenu()?(M=s="before"===this.menu.xPosition?"start":"end",o=x="end"===s?"start":"end",R="bottom"===c?8:-8):this.menu.overlapTrigger||(y="top"===c?"bottom":"top",C="top"===f?"bottom":"top"),e.withPositions([{originX:s,originY:y,overlayX:x,overlayY:c,offsetY:R},{originX:o,originY:y,overlayX:M,overlayY:c,offsetY:R},{originX:s,originY:C,overlayX:x,overlayY:f,offsetY:-R},{originX:o,originY:C,overlayX:M,overlayY:f,offsetY:-R}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ye.of)(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(rn(f=>f!==this._menuItemInstance),rn(()=>this._menuOpen)):(0,Ye.of)();return(0,fi.T)(e,o,c,s)}_handleMousedown(e){wb(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const s=e.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(rn(e=>e===this._menuItemInstance&&!e.disabled),ak(0,qv.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof U0&&this.menu._isAnimating?this.menu._animationDone.pipe($i(1),ak(0,qv.E),yt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new T(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(Jd),u.Y36(u.SBq),u.Y36(u.s_b),u.Y36(sB),u.Y36(ck,8),u.Y36(ZA,10),u.Y36(gi,8),u.Y36(Ja))},i.\u0275dir=u.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,s){1&e&&u.NdJ("mousedown",function(c){return s._handleMousedown(c)})("keydown",function(c){return s._handleKeydown(c)})("click",function(c){return s._handleClick(c)}),2&e&&u.uIk("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),i})(),uB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[oB],imports:[Qt]}),i})(),cB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[oB],imports:[[ji,Qt,Uf,uk,uB],_d,Qt,uB]}),i})(),Bj=(()=>{class i{constructor(){this.sidenavClose=new u.vpe,this.onSidenavClose=()=>{this.sidenavClose.emit()}}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-sidenav-list"]],outputs:{sidenavClose:"sidenavClose"},decls:27,vars:1,consts:[["mat-list-item","","routerLink","/home",3,"click"],[1,"nav-caption"],["mat-list-item","","routerLink","/owner",3,"click"],["mat-list-item","","routerLink","#",3,"click"],[3,"matMenuTriggerFor"],["matline",""],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,s){if(1&e&&(u.TgZ(0,"mat-nav-list"),u.TgZ(1,"a",0),u.NdJ("click",function(){return s.onSidenavClose()}),u.TgZ(2,"mat-icon"),u._uU(3,"home"),u.qZA(),u.TgZ(4,"span",1),u._uU(5,"Home"),u.qZA(),u.qZA(),u.TgZ(6,"a",2),u.NdJ("click",function(){return s.onSidenavClose()}),u.TgZ(7,"mat-icon"),u._uU(8,"assignment_ind"),u.qZA(),u.TgZ(9,"span",1),u._uU(10,"Owner Actions"),u.qZA(),u.qZA(),u.TgZ(11,"a",3),u.NdJ("click",function(){return s.onSidenavClose()}),u.TgZ(12,"mat-icon"),u._uU(13,"account_balance"),u.qZA(),u.TgZ(14,"span",1),u._uU(15,"Account Actions"),u.qZA(),u.qZA(),u.TgZ(16,"mat-list-item",4),u.TgZ(17,"mat-icon"),u._uU(18,"unfold_more"),u.qZA(),u.TgZ(19,"a",5),u._uU(20,"Example"),u.qZA(),u.qZA(),u.TgZ(21,"mat-menu",null,6),u.TgZ(23,"button",7),u.NdJ("click",function(){return s.onSidenavClose()}),u._uU(24,"View profile"),u.qZA(),u.TgZ(25,"button",7),u.NdJ("click",function(){return s.onSidenavClose()}),u._uU(26,"Add contact"),u.qZA(),u.qZA(),u.qZA()),2&e){const o=u.MAs(22);u.xp6(16),u.Q6J("matMenuTriggerFor",o)}},directives:[AO,sp,wp,ik,Lj,Pj,ZA],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#d3d3d3}.nav-caption[_ngcontent-%COMP%]{display:inline-block;padding-left:6px}"]}),i})();const Vj=["*",[["mat-toolbar-row"]]],Gj=["*","mat-toolbar-row"],Uj=sc(class{constructor(i){this._elementRef=i}});let jj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),Hj=(()=>{class i extends Uj{constructor(e,s,o){super(e),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Ut),u.Y36(J))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,s,o){if(1&e&&u.Suo(o,jj,5),2&e){let c;u.iGM(c=u.CRH())&&(s._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,s){2&e&&u.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:Gj,decls:2,vars:0,template:function(e,s){1&e&&(u.F$t(Vj),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),dB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt],Qt]}),i})();const hB=["mat-button",""],fB=["*"],Yj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],qj=sc(Wl(Xa(class{constructor(i){this._elementRef=i}})));let Ip=(()=>{class i extends qj{constructor(e,s,o){super(e),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of Yj)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Ja),u.Y36(ni,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&u.Gf(cs,5),2&e){let o;u.iGM(o=u.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(u.uIk("disabled",s.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:hB,ngContentSelectors:fB,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&e&&(u.xp6(2),u.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),u.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[cs],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),dk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Uf,Qt],Qt]}),i})(),$j=(()=>{class i{constructor(){this.sidenavToggle=new u.vpe,this.onToggleSidenav=()=>{this.sidenavToggle.emit()}}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-header"]],outputs:{sidenavToggle:"sidenavToggle"},decls:16,vars:0,consts:[["color","primary"],["fxHide.gt-xs",""],["mat-icon-button","",3,"click"],["routerLink","/home"],["fxFlex","","fxLayout","","fxLayoutAlign","end","fxHide.xs",""],["fxLayout","","fxLayoutGap","15px",1,"navigation-items"],["routerLink","/login"],["routerLink","/signup"]],template:function(e,s){1&e&&(u.TgZ(0,"mat-toolbar",0),u.TgZ(1,"div",1),u.TgZ(2,"button",2),u.NdJ("click",function(){return s.onToggleSidenav()}),u.TgZ(3,"mat-icon"),u._uU(4,"menu"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div"),u.TgZ(6,"a",3),u._uU(7,"TwilioSend"),u.qZA(),u.qZA(),u.TgZ(8,"div",4),u.TgZ(9,"ul",5),u.TgZ(10,"li"),u.TgZ(11,"a",6),u._uU(12,"Login"),u.qZA(),u.qZA(),u.TgZ(13,"li"),u.TgZ(14,"a",7),u._uU(15,"Sign up"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[Hj,Lu,Ip,ik,wp,rr,Uh,Kg,Hh],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#d3d3d3}.navigation-items[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}mat-toolbar[_ngcontent-%COMP%]{border-radius:3px}@media (max-width: 959px){mat-toolbar[_ngcontent-%COMP%]{border-radius:0}}"]}),i})(),Wj=(()=>{class i{constructor(){this.title="twilio-send"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-root"]],decls:9,vars:0,consts:[["role","navigation"],["sidenav",""],[3,"sidenavClose"],[3,"sidenavToggle"]],template:function(e,s){if(1&e){const o=u.EpF();u.TgZ(0,"app-layout"),u.TgZ(1,"mat-sidenav-container"),u.TgZ(2,"mat-sidenav",0,1),u.TgZ(4,"app-sidenav-list",2),u.NdJ("sidenavClose",function(){return u.CHM(o),u.MAs(3).close()}),u.qZA(),u.qZA(),u.TgZ(5,"mat-sidenav-content"),u.TgZ(6,"app-header",3),u.NdJ("sidenavToggle",function(){return u.CHM(o),u.MAs(3).toggle()}),u.qZA(),u.TgZ(7,"main"),u._UZ(8,"router-outlet"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}},directives:[ST,qR,Tx,Bj,Sw,$j,CA],styles:["mat-sidenav-container[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%], mat-sidenav[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%]{width:250px}main[_ngcontent-%COMP%]{padding:10px}"]}),i})();const hk=JSON.parse('[{"name":"Afghanistan","dial_code":"+93","code":"AF"},{"name":"Aland Islands","dial_code":"+358","code":"AX"},{"name":"Albania","dial_code":"+355","code":"AL"},{"name":"Algeria","dial_code":"+213","code":"DZ"},{"name":"AmericanSamoa","dial_code":"+1684","code":"AS"},{"name":"Andorra","dial_code":"+376","code":"AD"},{"name":"Angola","dial_code":"+244","code":"AO"},{"name":"Anguilla","dial_code":"+1264","code":"AI"},{"name":"Antarctica","dial_code":"+672","code":"AQ"},{"name":"Antigua and Barbuda","dial_code":"+1268","code":"AG"},{"name":"Argentina","dial_code":"+54","code":"AR"},{"name":"Armenia","dial_code":"+374","code":"AM"},{"name":"Aruba","dial_code":"+297","code":"AW"},{"name":"Australia","dial_code":"+61","code":"AU"},{"name":"Austria","dial_code":"+43","code":"AT"},{"name":"Azerbaijan","dial_code":"+994","code":"AZ"},{"name":"Bahamas","dial_code":"+1242","code":"BS"},{"name":"Bahrain","dial_code":"+973","code":"BH"},{"name":"Bangladesh","dial_code":"+880","code":"BD"},{"name":"Barbados","dial_code":"+1246","code":"BB"},{"name":"Belarus","dial_code":"+375","code":"BY"},{"name":"Belgium","dial_code":"+32","code":"BE"},{"name":"Belize","dial_code":"+501","code":"BZ"},{"name":"Benin","dial_code":"+229","code":"BJ"},{"name":"Bermuda","dial_code":"+1441","code":"BM"},{"name":"Bhutan","dial_code":"+975","code":"BT"},{"name":"Bolivia, Plurinational State of","dial_code":"+591","code":"BO"},{"name":"Bosnia and Herzegovina","dial_code":"+387","code":"BA"},{"name":"Botswana","dial_code":"+267","code":"BW"},{"name":"Brazil","dial_code":"+55","code":"BR"},{"name":"British Indian Ocean Territory","dial_code":"+246","code":"IO"},{"name":"Brunei Darussalam","dial_code":"+673","code":"BN"},{"name":"Bulgaria","dial_code":"+359","code":"BG"},{"name":"Burkina Faso","dial_code":"+226","code":"BF"},{"name":"Burundi","dial_code":"+257","code":"BI"},{"name":"Cambodia","dial_code":"+855","code":"KH"},{"name":"Cameroon","dial_code":"+237","code":"CM"},{"name":"Canada","dial_code":"+1","code":"CA"},{"name":"Cape Verde","dial_code":"+238","code":"CV"},{"name":"Cayman Islands","dial_code":"+ 345","code":"KY"},{"name":"Central African Republic","dial_code":"+236","code":"CF"},{"name":"Chad","dial_code":"+235","code":"TD"},{"name":"Chile","dial_code":"+56","code":"CL"},{"name":"China","dial_code":"+86","code":"CN"},{"name":"Christmas Island","dial_code":"+61","code":"CX"},{"name":"Cocos (Keeling) Islands","dial_code":"+61","code":"CC"},{"name":"Colombia","dial_code":"+57","code":"CO"},{"name":"Comoros","dial_code":"+269","code":"KM"},{"name":"Congo","dial_code":"+242","code":"CG"},{"name":"Congo, The Democratic Republic of the Congo","dial_code":"+243","code":"CD"},{"name":"Cook Islands","dial_code":"+682","code":"CK"},{"name":"Costa Rica","dial_code":"+506","code":"CR"},{"name":"Cote d\'Ivoire","dial_code":"+225","code":"CI"},{"name":"Croatia","dial_code":"+385","code":"HR"},{"name":"Cuba","dial_code":"+53","code":"CU"},{"name":"Cyprus","dial_code":"+357","code":"CY"},{"name":"Czech Republic","dial_code":"+420","code":"CZ"},{"name":"Denmark","dial_code":"+45","code":"DK"},{"name":"Djibouti","dial_code":"+253","code":"DJ"},{"name":"Dominica","dial_code":"+1767","code":"DM"},{"name":"Dominican Republic","dial_code":"+1849","code":"DO"},{"name":"Ecuador","dial_code":"+593","code":"EC"},{"name":"Egypt","dial_code":"+20","code":"EG"},{"name":"El Salvador","dial_code":"+503","code":"SV"},{"name":"Equatorial Guinea","dial_code":"+240","code":"GQ"},{"name":"Eritrea","dial_code":"+291","code":"ER"},{"name":"Estonia","dial_code":"+372","code":"EE"},{"name":"Ethiopia","dial_code":"+251","code":"ET"},{"name":"Falkland Islands (Malvinas)","dial_code":"+500","code":"FK"},{"name":"Faroe Islands","dial_code":"+298","code":"FO"},{"name":"Fiji","dial_code":"+679","code":"FJ"},{"name":"Finland","dial_code":"+358","code":"FI"},{"name":"France","dial_code":"+33","code":"FR"},{"name":"French Guiana","dial_code":"+594","code":"GF"},{"name":"French Polynesia","dial_code":"+689","code":"PF"},{"name":"Gabon","dial_code":"+241","code":"GA"},{"name":"Gambia","dial_code":"+220","code":"GM"},{"name":"Georgia","dial_code":"+995","code":"GE"},{"name":"Germany","dial_code":"+49","code":"DE"},{"name":"Ghana","dial_code":"+233","code":"GH"},{"name":"Gibraltar","dial_code":"+350","code":"GI"},{"name":"Greece","dial_code":"+30","code":"GR"},{"name":"Greenland","dial_code":"+299","code":"GL"},{"name":"Grenada","dial_code":"+1473","code":"GD"},{"name":"Guadeloupe","dial_code":"+590","code":"GP"},{"name":"Guam","dial_code":"+1671","code":"GU"},{"name":"Guatemala","dial_code":"+502","code":"GT"},{"name":"Guernsey","dial_code":"+44","code":"GG"},{"name":"Guinea","dial_code":"+224","code":"GN"},{"name":"Guinea-Bissau","dial_code":"+245","code":"GW"},{"name":"Guyana","dial_code":"+595","code":"GY"},{"name":"Haiti","dial_code":"+509","code":"HT"},{"name":"Holy See (Vatican City State)","dial_code":"+379","code":"VA"},{"name":"Honduras","dial_code":"+504","code":"HN"},{"name":"Hong Kong","dial_code":"+852","code":"HK"},{"name":"Hungary","dial_code":"+36","code":"HU"},{"name":"Iceland","dial_code":"+354","code":"IS"},{"name":"India","dial_code":"+91","code":"IN"},{"name":"Indonesia","dial_code":"+62","code":"ID"},{"name":"Iran, Islamic Republic of Persian Gulf","dial_code":"+98","code":"IR"},{"name":"Iraq","dial_code":"+964","code":"IQ"},{"name":"Ireland","dial_code":"+353","code":"IE"},{"name":"Isle of Man","dial_code":"+44","code":"IM"},{"name":"Israel","dial_code":"+972","code":"IL"},{"name":"Italy","dial_code":"+39","code":"IT"},{"name":"Jamaica","dial_code":"+1876","code":"JM"},{"name":"Japan","dial_code":"+81","code":"JP"},{"name":"Jersey","dial_code":"+44","code":"JE"},{"name":"Jordan","dial_code":"+962","code":"JO"},{"name":"Kazakhstan","dial_code":"+77","code":"KZ"},{"name":"Kenya","dial_code":"+254","code":"KE"},{"name":"Kiribati","dial_code":"+686","code":"KI"},{"name":"Korea, Democratic People\'s Republic of Korea","dial_code":"+850","code":"KP"},{"name":"Korea, Republic of South Korea","dial_code":"+82","code":"KR"},{"name":"Kuwait","dial_code":"+965","code":"KW"},{"name":"Kyrgyzstan","dial_code":"+996","code":"KG"},{"name":"Laos","dial_code":"+856","code":"LA"},{"name":"Latvia","dial_code":"+371","code":"LV"},{"name":"Lebanon","dial_code":"+961","code":"LB"},{"name":"Lesotho","dial_code":"+266","code":"LS"},{"name":"Liberia","dial_code":"+231","code":"LR"},{"name":"Libyan Arab Jamahiriya","dial_code":"+218","code":"LY"},{"name":"Liechtenstein","dial_code":"+423","code":"LI"},{"name":"Lithuania","dial_code":"+370","code":"LT"},{"name":"Luxembourg","dial_code":"+352","code":"LU"},{"name":"Macao","dial_code":"+853","code":"MO"},{"name":"Macedonia","dial_code":"+389","code":"MK"},{"name":"Madagascar","dial_code":"+261","code":"MG"},{"name":"Malawi","dial_code":"+265","code":"MW"},{"name":"Malaysia","dial_code":"+60","code":"MY"},{"name":"Maldives","dial_code":"+960","code":"MV"},{"name":"Mali","dial_code":"+223","code":"ML"},{"name":"Malta","dial_code":"+356","code":"MT"},{"name":"Marshall Islands","dial_code":"+692","code":"MH"},{"name":"Martinique","dial_code":"+596","code":"MQ"},{"name":"Mauritania","dial_code":"+222","code":"MR"},{"name":"Mauritius","dial_code":"+230","code":"MU"},{"name":"Mayotte","dial_code":"+262","code":"YT"},{"name":"Mexico","dial_code":"+52","code":"MX"},{"name":"Micronesia, Federated States of Micronesia","dial_code":"+691","code":"FM"},{"name":"Moldova","dial_code":"+373","code":"MD"},{"name":"Monaco","dial_code":"+377","code":"MC"},{"name":"Mongolia","dial_code":"+976","code":"MN"},{"name":"Montenegro","dial_code":"+382","code":"ME"},{"name":"Montserrat","dial_code":"+1664","code":"MS"},{"name":"Morocco","dial_code":"+212","code":"MA"},{"name":"Mozambique","dial_code":"+258","code":"MZ"},{"name":"Myanmar","dial_code":"+95","code":"MM"},{"name":"Namibia","dial_code":"+264","code":"NA"},{"name":"Nauru","dial_code":"+674","code":"NR"},{"name":"Nepal","dial_code":"+977","code":"NP"},{"name":"Netherlands","dial_code":"+31","code":"NL"},{"name":"Netherlands Antilles","dial_code":"+599","code":"AN"},{"name":"New Caledonia","dial_code":"+687","code":"NC"},{"name":"New Zealand","dial_code":"+64","code":"NZ"},{"name":"Nicaragua","dial_code":"+505","code":"NI"},{"name":"Niger","dial_code":"+227","code":"NE"},{"name":"Nigeria","dial_code":"+234","code":"NG"},{"name":"Niue","dial_code":"+683","code":"NU"},{"name":"Norfolk Island","dial_code":"+672","code":"NF"},{"name":"Northern Mariana Islands","dial_code":"+1670","code":"MP"},{"name":"Norway","dial_code":"+47","code":"NO"},{"name":"Oman","dial_code":"+968","code":"OM"},{"name":"Pakistan","dial_code":"+92","code":"PK"},{"name":"Palau","dial_code":"+680","code":"PW"},{"name":"Palestinian Territory, Occupied","dial_code":"+970","code":"PS"},{"name":"Panama","dial_code":"+507","code":"PA"},{"name":"Papua New Guinea","dial_code":"+675","code":"PG"},{"name":"Paraguay","dial_code":"+595","code":"PY"},{"name":"Peru","dial_code":"+51","code":"PE"},{"name":"Philippines","dial_code":"+63","code":"PH"},{"name":"Pitcairn","dial_code":"+872","code":"PN"},{"name":"Poland","dial_code":"+48","code":"PL"},{"name":"Portugal","dial_code":"+351","code":"PT"},{"name":"Puerto Rico","dial_code":"+1939","code":"PR"},{"name":"Qatar","dial_code":"+974","code":"QA"},{"name":"Romania","dial_code":"+40","code":"RO"},{"name":"Russia","dial_code":"+7","code":"RU"},{"name":"Rwanda","dial_code":"+250","code":"RW"},{"name":"Reunion","dial_code":"+262","code":"RE"},{"name":"Saint Barthelemy","dial_code":"+590","code":"BL"},{"name":"Saint Helena, Ascension and Tristan Da Cunha","dial_code":"+290","code":"SH"},{"name":"Saint Kitts and Nevis","dial_code":"+1869","code":"KN"},{"name":"Saint Lucia","dial_code":"+1758","code":"LC"},{"name":"Saint Martin","dial_code":"+590","code":"MF"},{"name":"Saint Pierre and Miquelon","dial_code":"+508","code":"PM"},{"name":"Saint Vincent and the Grenadines","dial_code":"+1784","code":"VC"},{"name":"Samoa","dial_code":"+685","code":"WS"},{"name":"San Marino","dial_code":"+378","code":"SM"},{"name":"Sao Tome and Principe","dial_code":"+239","code":"ST"},{"name":"Saudi Arabia","dial_code":"+966","code":"SA"},{"name":"Senegal","dial_code":"+221","code":"SN"},{"name":"Serbia","dial_code":"+381","code":"RS"},{"name":"Seychelles","dial_code":"+248","code":"SC"},{"name":"Sierra Leone","dial_code":"+232","code":"SL"},{"name":"Singapore","dial_code":"+65","code":"SG"},{"name":"Slovakia","dial_code":"+421","code":"SK"},{"name":"Slovenia","dial_code":"+386","code":"SI"},{"name":"Solomon Islands","dial_code":"+677","code":"SB"},{"name":"Somalia","dial_code":"+252","code":"SO"},{"name":"South Africa","dial_code":"+27","code":"ZA"},{"name":"South Sudan","dial_code":"+211","code":"SS"},{"name":"South Georgia and the South Sandwich Islands","dial_code":"+500","code":"GS"},{"name":"Spain","dial_code":"+34","code":"ES"},{"name":"Sri Lanka","dial_code":"+94","code":"LK"},{"name":"Sudan","dial_code":"+249","code":"SD"},{"name":"Suriname","dial_code":"+597","code":"SR"},{"name":"Svalbard and Jan Mayen","dial_code":"+47","code":"SJ"},{"name":"Swaziland","dial_code":"+268","code":"SZ"},{"name":"Sweden","dial_code":"+46","code":"SE"},{"name":"Switzerland","dial_code":"+41","code":"CH"},{"name":"Syrian Arab Republic","dial_code":"+963","code":"SY"},{"name":"Taiwan","dial_code":"+886","code":"TW"},{"name":"Tajikistan","dial_code":"+992","code":"TJ"},{"name":"Tanzania, United Republic of Tanzania","dial_code":"+255","code":"TZ"},{"name":"Thailand","dial_code":"+66","code":"TH"},{"name":"Timor-Leste","dial_code":"+670","code":"TL"},{"name":"Togo","dial_code":"+228","code":"TG"},{"name":"Tokelau","dial_code":"+690","code":"TK"},{"name":"Tonga","dial_code":"+676","code":"TO"},{"name":"Trinidad and Tobago","dial_code":"+1868","code":"TT"},{"name":"Tunisia","dial_code":"+216","code":"TN"},{"name":"Turkey","dial_code":"+90","code":"TR"},{"name":"Turkmenistan","dial_code":"+993","code":"TM"},{"name":"Turks and Caicos Islands","dial_code":"+1649","code":"TC"},{"name":"Tuvalu","dial_code":"+688","code":"TV"},{"name":"Uganda","dial_code":"+256","code":"UG"},{"name":"Ukraine","dial_code":"+380","code":"UA"},{"name":"United Arab Emirates","dial_code":"+971","code":"AE"},{"name":"United Kingdom","dial_code":"+44","code":"GB"},{"name":"United States","dial_code":"+1","code":"US"},{"name":"Uruguay","dial_code":"+598","code":"UY"},{"name":"Uzbekistan","dial_code":"+998","code":"UZ"},{"name":"Vanuatu","dial_code":"+678","code":"VU"},{"name":"Venezuela, Bolivarian Republic of Venezuela","dial_code":"+58","code":"VE"},{"name":"Vietnam","dial_code":"+84","code":"VN"},{"name":"Virgin Islands, British","dial_code":"+1284","code":"VG"},{"name":"Virgin Islands, U.S.","dial_code":"+1340","code":"VI"},{"name":"Wallis and Futuna","dial_code":"+681","code":"WF"},{"name":"Yemen","dial_code":"+967","code":"YE"},{"name":"Zambia","dial_code":"+260","code":"ZM"},{"name":"Zimbabwe","dial_code":"+263","code":"ZW"}]'),fk_firebase={apiKey:"AIzaSyD7VowwzsD8Ka8YFPRz0ZahCwwyW6oYm8E",authDomain:"testapp-c07dd.firebaseapp.com",databaseURL:"https://testapp-c07dd.firebaseio.com",projectId:"testapp-c07dd",storageBucket:"testapp-c07dd.appspot.com",messagingSenderId:"835710133089",appId:"1:835710133089:web:42b17839b922d5b2a0db20"};var xn=j(57),gB=j(2329),Qj=j(9759),G=j(4762),yn=j(4685),Rp=j(300),pk=function(i,t){return(pk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])})(i,t)};function mB(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],s=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Je,Zj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gk=gk||{},Tt=Zj||self;function JA(){}function mk(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function j0(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var _k="closure_uid_"+(1e9*Math.random()>>>0),Xj=0;function eH(i,t,e){return i.call.apply(i.bind,arguments)}function tH(i,t,e){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),i.apply(t,o)}}return function(){return i.apply(t,arguments)}}function Ar(i,t,e){return(Ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eH:tH).apply(null,arguments)}function XA(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Mr(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(s,o,c){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return t.prototype[o].apply(s,f)}}function Xd(){this.s=this.s,this.o=this.o}var iH={};Xd.prototype.s=!1,Xd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,_k)&&i[_k]||(i[_k]=++Xj)}(this);delete iH[i]}},Xd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _B=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},yB=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var s=i.length,o="string"==typeof i?i.split(""):i,c=0;c<s;c++)c in o&&t.call(e,o[c],c,i)};function vB(i){return Array.prototype.concat.apply([],arguments)}function yk(i){var t=i.length;if(0<t){for(var e=Array(t),s=0;s<t;s++)e[s]=i[s];return e}return[]}function eM(i){return/^[\s\xa0]*$/.test(i)}var ms,bB=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function gs(i,t){return-1!=i.indexOf(t)}function vk(i,t){return i<t?-1:i>t?1:0}e:{var wB=Tt.navigator;if(wB){var CB=wB.userAgent;if(CB){ms=CB;break e}}ms=""}function bk(i,t,e){for(var s in i)t.call(e,i[s],s,i)}function EB(i){var t={};for(var e in i)t[e]=i[e];return t}var SB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xB(i,t){for(var e,s,o=1;o<arguments.length;o++){for(e in s=arguments[o])i[e]=s[e];for(var c=0;c<SB.length;c++)e=SB[c],Object.prototype.hasOwnProperty.call(s,e)&&(i[e]=s[e])}}function wk(i){return wk[" "](i),i}wk[" "]=JA;var tM,i,oH=gs(ms,"Opera"),ey=gs(ms,"Trident")||gs(ms,"MSIE"),DB=gs(ms,"Edge"),Ck=DB||ey,AB=gs(ms,"Gecko")&&!(gs(ms.toLowerCase(),"webkit")&&!gs(ms,"Edge"))&&!(gs(ms,"Trident")||gs(ms,"MSIE"))&&!gs(ms,"Edge"),aH=gs(ms.toLowerCase(),"webkit")&&!gs(ms,"Edge");function MB(){var i=Tt.document;return i?i.documentMode:void 0}e:{var Ek="",Sk=(i=ms,AB?/rv:([^\);]+)(\)|;)/.exec(i):DB?/Edge\/([\d\.]+)/.exec(i):ey?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):aH?/WebKit\/(\S+)/.exec(i):oH?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Sk&&(Ek=Sk?Sk[1]:""),ey){var xk=MB();if(null!=xk&&xk>parseFloat(Ek)){tM=String(xk);break e}}tM=Ek}var lH={};function uH(){return t=lH,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=bB(String(tM)).split("."),e=bB("9").split("."),s=Math.max(t.length,e.length),o=0;0==i&&o<s;o++){var c=t[o]||"",f=e[o]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=vk(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||vk(0==c[2].length,0==f[2].length)||vk(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var t}var cH=Tt.document&&ey&&(MB()||parseInt(tM,10))||void 0,dH=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Tt.addEventListener("test",JA,t),Tt.removeEventListener("test",JA,t)}catch(e){}return i}();function Kr(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function H0(i,t){if(Kr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(AB){e:{try{wk(t.nodeName);var o=!0;break e}catch(c){}o=!1}o||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:hH[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&H0.Z.h.call(this)}}Kr.prototype.h=function(){this.defaultPrevented=!0},Mr(H0,Kr);var hH={2:"touch",3:"pen",4:"mouse"};H0.prototype.h=function(){H0.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var z0="closure_listenable_"+(1e6*Math.random()|0),fH=0;function pH(i,t,e,s,o){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!s,this.ia=o,this.key=++fH,this.ca=this.fa=!1}function nM(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function iM(i){this.src=i,this.g={},this.h=0}function Ak(i,t){var e=t.type;if(e in i.g){var c,s=i.g[e],o=_B(s,t);(c=0<=o)&&Array.prototype.splice.call(s,o,1),c&&(nM(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Mk(i,t,e,s){for(var o=0;o<i.length;++o){var c=i[o];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==s)return o}return-1}iM.prototype.add=function(i,t,e,s,o){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=Mk(i,t,s,o);return-1<f?(t=i[f],e||(t.fa=!1)):((t=new pH(t,this.src,c,!!s,o)).fa=e,i.push(t)),t};var Tk="closure_lm_"+(1e6*Math.random()|0),Ik={};function IB(i,t,e,s,o){if(s&&s.once)return OB(i,t,e,s,o);if(Array.isArray(t)){for(var c=0;c<t.length;c++)IB(i,t[c],e,s,o);return null}return e=Fk(e),i&&i[z0]?i.N(t,e,j0(s)?!!s.capture:!!s,o):RB(i,t,e,!1,s,o)}function RB(i,t,e,s,o,c){if(!t)throw Error("Invalid event type");var f=j0(o)?!!o.capture:!!o,y=Ok(i);if(y||(i[Tk]=y=new iM(i)),(e=y.add(t,e,s,f,c)).proxy)return e;if(s=function(){var t=mH;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=s,s.src=i,s.listener=e,i.addEventListener)dH||(o=f),void 0===o&&(o=!1),i.addEventListener(t.toString(),s,o);else if(i.attachEvent)i.attachEvent(FB(t.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return e}function OB(i,t,e,s,o){if(Array.isArray(t)){for(var c=0;c<t.length;c++)OB(i,t[c],e,s,o);return null}return e=Fk(e),i&&i[z0]?i.O(t,e,j0(s)?!!s.capture:!!s,o):RB(i,t,e,!0,s,o)}function kB(i,t,e,s,o){if(Array.isArray(t))for(var c=0;c<t.length;c++)kB(i,t[c],e,s,o);else s=j0(s)?!!s.capture:!!s,e=Fk(e),i&&i[z0]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Mk(c=i.g[t],e,s,o))&&(nM(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete i.g[t],i.h--))):i&&(i=Ok(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Mk(t,e,s,o)),(e=-1<i?t[i]:null)&&Rk(e))}function Rk(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[z0])Ak(t.i,i);else{var e=i.type,s=i.proxy;t.removeEventListener?t.removeEventListener(e,s,i.capture):t.detachEvent?t.detachEvent(FB(e),s):t.addListener&&t.removeListener&&t.removeListener(s),(e=Ok(t))?(Ak(e,i),0==e.h&&(e.src=null,t[Tk]=null)):nM(i)}}}function FB(i){return i in Ik?Ik[i]:Ik[i]="on"+i}function mH(i,t){if(i.ca)i=!0;else{t=new H0(t,this);var e=i.listener,s=i.ia||i.src;i.fa&&Rk(i),i=e.call(s,t)}return i}function Ok(i){return(i=i[Tk])instanceof iM?i:null}var kk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fk(i){return"function"==typeof i?i:(i[kk]||(i[kk]=function(t){return i.handleEvent(t)}),i[kk])}function ur(){Xd.call(this),this.i=new iM(this),this.P=this,this.I=null}function Tr(i,t){var e,s=i.I;if(s)for(e=[];s;s=s.I)e.push(s);if(i=i.P,s=t.type||t,"string"==typeof t)t=new Kr(t,i);else if(t instanceof Kr)t.target=t.target||i;else{var o=t;xB(t=new Kr(s,i),o)}if(o=!0,e)for(var c=e.length-1;0<=c;c--){var f=t.g=e[c];o=rM(f,s,!0,t)&&o}if(o=rM(f=t.g=i,s,!0,t)&&o,o=rM(f,s,!1,t)&&o,e)for(c=0;c<e.length;c++)o=rM(f=t.g=e[c],s,!1,t)&&o}function rM(i,t,e,s){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,c=0;c<t.length;++c){var f=t[c];if(f&&!f.ca&&f.capture==e){var y=f.listener,C=f.ia||f.src;f.fa&&Ak(i.i,f),o=!1!==y.call(C,s)&&o}}return o&&!s.defaultPrevented}Mr(ur,Xd),ur.prototype[z0]=!0,ur.prototype.removeEventListener=function(i,t,e,s){kB(this,i,t,e,s)},ur.prototype.M=function(){if(ur.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],s=0;s<e.length;s++)nM(e[s]);delete i.g[t],i.h--}}this.I=null},ur.prototype.N=function(i,t,e,s){return this.i.add(String(i),t,!1,e,s)},ur.prototype.O=function(i,t,e,s){return this.i.add(String(i),t,!0,e,s)};var Pk=Tt.JSON.stringify;function _H(){var i=NB,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Lk,yH=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var s=PB.get();s.set(t,e),this.h?this.h.next=s:this.g=s,this.h=s},i}(),PB=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new vH},function(i){return i.reset()}),vH=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function bH(i){Tt.setTimeout(function(){throw i},0)}function Nk(i,t){Lk||function(){var i=Tt.Promise.resolve(void 0);Lk=function(){i.then(CH)}}(),Bk||(Lk(),Bk=!0),NB.add(i,t)}var Bk=!1,NB=new yH;function CH(){for(var i;i=_H();){try{i.h.call(i.g)}catch(e){bH(e)}var t=PB;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Bk=!1}function sM(i,t){ur.call(this),this.h=i||1,this.g=t||Tt,this.j=Ar(this.kb,this),this.l=Date.now()}function Vk(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Gk(i,t,e){if("function"==typeof i)e&&(i=Ar(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ar(i.handleEvent,i)}return 2147483647<Number(t)?-1:Tt.setTimeout(i,t||0)}function LB(i){i.g=Gk(function(){i.g=null,i.i&&(i.i=!1,LB(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}Mr(sM,ur),(Je=sM.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(Vk(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){sM.Z.M.call(this),Vk(this),delete this.g};var EH=function(i){function t(e,s){var o=i.call(this)||this;return o.m=e,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}pk(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:LB(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xd);function Y0(i){Xd.call(this),this.h=i,this.g={}}Mr(Y0,Xd);var BB=[];function VB(i,t,e,s){Array.isArray(e)||(e&&(BB[0]=e.toString()),e=BB);for(var o=0;o<e.length;o++){var c=IB(t,e[o],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function GB(i){bk(i.g,function(t,e){this.g.hasOwnProperty(e)&&Rk(t)},i),i.g={}}function oM(){this.g=!0}function ty(i,t,e,s){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var s=e[i];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<o.length;f++)o[f]=""}}}return Pk(e)}catch(y){return t}}(i,e)+(s?" "+s:"")})}Y0.prototype.M=function(){Y0.Z.M.call(this),GB(this)},Y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oM.prototype.Aa=function(){this.g=!1},oM.prototype.info=function(){};var Op={},UB=null;function aM(){return UB=UB||new ur}function jB(i){Kr.call(this,Op.Ma,i)}function q0(i){var t=aM();Tr(t,new jB(t,i))}function HB(i,t){Kr.call(this,Op.STAT_EVENT,i),this.stat=t}function _s(i){var t=aM();Tr(t,new HB(t,i))}function zB(i,t){Kr.call(this,Op.Na,i),this.size=t}function $0(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){i()},t)}Op.Ma="serverreachability",Mr(jB,Kr),Op.STAT_EVENT="statevent",Mr(HB,Kr),Op.Na="timingevent",Mr(zB,Kr);var lM={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},YB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uk(){}function $B(){}Uk.prototype.h=null;var zk,W0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jk(){Kr.call(this,"d")}function Hk(){Kr.call(this,"c")}function uM(){}function Q0(i,t,e,s){this.l=i,this.j=t,this.m=e,this.X=s||1,this.V=new Y0(this),this.P=MH,this.W=new sM(i=Ck?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WB}function WB(){this.i=null,this.g="",this.h=!1}Mr(jk,Kr),Mr(Hk,Kr),Mr(uM,Uk),uM.prototype.g=function(){return new XMLHttpRequest},uM.prototype.i=function(){return{}},zk=new uM;var MH=45e3,Yk={},cM={};function qk(i,t,e){i.K=1,i.v=gM(bc(t)),i.s=e,i.U=!0,QB(i,null)}function QB(i,t){i.F=Date.now(),K0(i),i.A=bc(i.v);var e=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),rV(e.h,"t",s),i.C=0,e=i.l.H,i.h=new WB,i.g=AV(i.l,e?t:null,!i.s),0<i.O&&(i.L=new EH(Ar(i.Ia,i,i.g),i.O)),VB(i.V,i.g,"readystatechange",i.gb),t=i.H?EB(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),q0(1),function(i,t,e,s,o,c){i.info(function(){if(i.g)if(c)for(var f="",y=c.split("&"),C=0;C<y.length;C++){var x=y[C].split("=");if(1<x.length){var M=x[0];x=x[1];var R=M.split("_");f=2<=R.length&&"type"==R[1]?f+(M+"=")+x+"&":f+(M+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+t+"\n"+e+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function KB(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ZB(i,t,e){for(var o,s=!0;!i.I&&i.C<e.length;){if((o=TH(i,e))==cM){4==t&&(i.o=4,_s(14),s=!1),ty(i.j,i.m,null,"[Incomplete Response]");break}if(o==Yk){i.o=4,_s(15),ty(i.j,i.m,e,"[Invalid Chunk]"),s=!1;break}ty(i.j,i.m,o,null),$k(i,o)}KB(i)&&o!=cM&&o!=Yk&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,_s(16),s=!1),i.i=i.i&&s,s?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),rF(t),t.L=!0,_s(11))):(ty(i.j,i.m,e,"[Invalid Chunked Response]"),kp(i),Z0(i))}function TH(i,t){var e=i.C,s=t.indexOf("\n",e);return-1==s?cM:(e=Number(t.substring(e,s)),isNaN(e)?Yk:(s+=1)+e>t.length?cM:(t=t.substr(s,e),i.C=s+e,t))}function K0(i){i.Y=Date.now()+i.P,JB(i,i.P)}function JB(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=$0(Ar(i.eb,i),t)}function dM(i){i.B&&(Tt.clearTimeout(i.B),i.B=null)}function Z0(i){0==i.l.G||i.I||EV(i.l,i)}function kp(i){dM(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,Vk(i.W),GB(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function $k(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||Kk(e.i,i)))if(e.I=i.N,!i.J&&Kk(e.i,i)&&3==e.G){try{var s=e.Ca.g.parse(t)}catch(le){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=$0(Ar(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;wM(e),vM(e)}iF(e),_s(18)}if(1>=aV(e.i)&&e.ka){try{e.ka()}catch(le){}e.ka=void 0}}else Np(e,11)}else if((i.J||e.g==i)&&wM(e),!eM(t))for(o=e.Ca.g.parse(t),t=0;t<o.length;t++){var c=o[t];if(e.U=c[0],c=c[1],2==e.G)if("c"==c[0]){e.J=c[1],e.la=c[2];var f=c[3];null!=f&&(e.ma=f,e.h.info("VER="+e.ma));var y=c[4];null!=y&&(e.za=y,e.h.info("SVER="+e.za));var C=c[5];null!=C&&"number"==typeof C&&0<C&&(e.K=s=1.5*C,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var x=i.g;if(x){var M=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var R=s.i;!R.g&&(gs(M,"spdy")||gs(M,"quic")||gs(M,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(Zk(R,R.h),R.h=null))}if(s.D){var F=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(s.sa=F,ii(s.F,s.D,F))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var V=i;if((s=e).oa=DV(s,s.H?s.la:null,s.W),V.J){lV(s.i,V);var U=V,Q=s.K;Q&&U.setTimeout(Q),U.B&&(dM(U),K0(U)),s.g=V}else wV(s);0<e.l.length&&bM(e)}else"stop"!=c[0]&&"close"!=c[0]||Np(e,7);else 3==e.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Np(e,7):tF(e):"noop"!=c[0]&&e.j&&e.j.wa(c),e.A=0)}q0(4)}catch(le){}}function Wk(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(mk(i)||"string"==typeof i)yB(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(mk(i)||"string"==typeof i){e=[];for(var s=i.length,o=0;o<s;o++)e.push(o)}else for(o in e=[],s=0,i)e[s++]=o;o=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(mk(i)){for(var t=[],e=i.length,s=0;s<e;s++)t.push(i[s]);return t}for(s in t=[],e=0,i)t[e++]=i[s];return t}(i)).length;for(var c=0;c<o;c++)t.call(void 0,s[c],e&&e[c],i)}}function ny(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof ny)for(e=i.T(),s=0;s<e.length;s++)this.set(e[s],i.get(e[s]));else for(s in i)this.set(s,i[s])}function Qk(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var s=i.g[t];Fp(i.h,s)&&(i.g[e++]=s),t++}i.g.length=e}if(i.i!=i.g.length){var o={};for(e=t=0;t<i.g.length;)Fp(o,s=i.g[t])||(i.g[e++]=s,o[s]=1),t++;i.g.length=e}}function Fp(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(Je=Q0.prototype).setTimeout=function(i){this.P=i},Je.gb=function(i){i=i.target;var t=this.L;t&&3==wc(i)?t.l():this.Ia(i)},Je.Ia=function(i){try{if(i==this.g)e:{var t=wc(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>t)&&(3!=t||Ck||this.g&&(this.h.h||this.g.ga()||mV(this.g)))){this.I||4!=t||7==e||q0(8==e||0>=s?3:2),dM(this);var o=this.g.ba();this.N=o;t:if(KB(this)){var c=mV(this.g);i="";var f=c.length,y=4==wc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){kp(this),Z0(this);var C="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:y&&e==f-1});c.splice(0,f),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==o,function(i,t,e,s,o,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var x,M=this.g;if((x=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eM(x)){var R=x;break t}}R=null}if(!(o=R)){this.i=!1,this.o=3,_s(12),kp(this),Z0(this);break e}ty(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$k(this,o)}this.U?(ZB(this,t,C),Ck&&this.i&&3==t&&(VB(this.V,this.W,"tick",this.fb),this.W.start())):(ty(this.j,this.m,C,null),$k(this,C)),4==t&&kp(this),this.i&&!this.I&&(4==t?EV(this.l,this):(this.i=!1,K0(this)))}else 400==o&&0<C.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),kp(this),Z0(this)}}}catch(F){}},Je.fb=function(){if(this.g){var i=wc(this.g),t=this.g.ga();this.C<t.length&&(dM(this),ZB(this,i,t),this.i&&4!=i&&K0(this))}},Je.cancel=function(){this.I=!0,kp(this)},Je.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(q0(3),_s(17)),kp(this),this.o=2,Z0(this)):JB(this,this.Y-i)},(Je=ny.prototype).R=function(){Qk(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},Je.T=function(){return Qk(this),this.g.concat()},Je.get=function(i,t){return Fp(this.h,i)?this.h[i]:t},Je.set=function(i,t){Fp(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},Je.forEach=function(i,t){for(var e=this.T(),s=0;s<e.length;s++){var o=e[s],c=this.get(o);i.call(t,c,o,this)}};var XB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pp(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Pp){this.g=void 0!==t?t:i.g,hM(this,i.j),this.s=i.s,fM(this,i.i),pM(this,i.m),this.l=i.l,t=i.h;var e=new eC;e.i=t.i,t.g&&(e.g=new ny(t.g),e.h=t.h),eV(this,e),this.o=i.o}else i&&(e=String(i).match(XB))?(this.g=!!t,hM(this,e[1]||"",!0),this.s=J0(e[2]||""),fM(this,e[3]||"",!0),pM(this,e[4]),this.l=J0(e[5]||"",!0),eV(this,e[6]||"",!0),this.o=J0(e[7]||"")):(this.g=!!t,this.h=new eC(null,this.g))}function bc(i){return new Pp(i)}function hM(i,t,e){i.j=e?J0(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function fM(i,t,e){i.i=e?J0(t,!0):t}function pM(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function eV(i,t,e){t instanceof eC?(i.h=t,function(i,t){t&&!i.j&&(eh(i),i.i=null,i.g.forEach(function(e,s){var o=s.toLowerCase();s!=o&&(nV(this,s),rV(this,o,e))},i)),i.j=t}(i.h,i.g)):(e||(t=X0(t,LH)),i.h=new eC(t,i.g))}function ii(i,t,e){i.h.set(t,e)}function gM(i){return ii(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function J0(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function X0(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,FH),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function FH(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Pp.prototype.toString=function(){var i=[],t=this.j;t&&i.push(X0(t,tV,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(X0(t,tV,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(X0(e,"/"==e.charAt(0)?NH:PH,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",X0(e,BH)),i.join("")};var tV=/[#\/\?@]/g,PH=/[#\?:]/g,NH=/[#\?]/g,LH=/[#\?@]/g,BH=/#/g;function eC(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function eh(i){i.g||(i.g=new ny,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var s=i[e].indexOf("="),o=null;if(0<=s){var c=i[e].substring(0,s);o=i[e].substring(s+1)}else c=i[e];t(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function nV(i,t){eh(i),t=iy(i,t),Fp(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,Fp((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&Qk(i)))}function iV(i,t){return eh(i),t=iy(i,t),Fp(i.g.h,t)}function rV(i,t,e){nV(i,t),0<e.length&&(i.i=null,i.g.set(iy(i,t),yk(e)),i.h+=e.length)}function iy(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(Je=eC.prototype).add=function(i,t){eh(this),this.i=null,i=iy(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Je.forEach=function(i,t){eh(this),this.g.forEach(function(e,s){yB(e,function(o){i.call(t,o,s,this)},this)},this)},Je.T=function(){eh(this);for(var i=this.g.R(),t=this.g.T(),e=[],s=0;s<t.length;s++)for(var o=i[s],c=0;c<o.length;c++)e.push(t[s]);return e},Je.R=function(i){eh(this);var t=[];if("string"==typeof i)iV(this,i)&&(t=vB(t,this.g.get(iy(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=vB(t,i[e])}return t},Je.set=function(i,t){return eh(this),this.i=null,iV(this,i=iy(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Je.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var s=t[e],o=encodeURIComponent(String(s));s=this.R(s);for(var c=0;c<s.length;c++){var f=o;""!==s[c]&&(f+="="+encodeURIComponent(String(s[c]))),i.push(f)}}return this.i=i.join("&")};var GH=function(t,e){this.h=t,this.g=e};function sV(i){this.l=i||UH,i=Tt.PerformanceNavigationTiming?0<(i=Tt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UH=10;function oV(i){return!!i.h||!!i.g&&i.g.size>=i.j}function aV(i){return i.h?1:i.g?i.g.size:0}function Kk(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Zk(i,t){i.g?i.g.add(t):i.h=t}function lV(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function uV(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var s=i.i;try{for(var o=mB(i.g.values()),c=o.next();!c.done;c=o.next())s=s.concat(c.value.D)}catch(y){t={error:y}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return s}return yk(i.i)}function Jk(){}function jH(){this.g=new Jk}function HH(i,t,e){var s=e||"";try{Wk(i,function(o,c){var f=o;j0(o)&&(f=Pk(o)),t.push(s+c+"="+encodeURIComponent(f))})}catch(o){throw t.push(s+"type="+encodeURIComponent("_badmap")),o}}function mM(i,t,e,s,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(s)}catch(c){}}function tC(i){this.l=i.$b||null,this.j=i.ib||!1}function _M(i,t){ur.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=Xk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sV.prototype.cancel=function(){var i,t;if(this.i=uV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=mB(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(c){i={error:c}}finally{try{s&&!s.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},Jk.prototype.stringify=function(i){return Tt.JSON.stringify(i,void 0)},Jk.prototype.parse=function(i){return Tt.JSON.parse(i,void 0)},Mr(tC,Uk),tC.prototype.g=function(){return new _M(this.l,this.j)},tC.prototype.i=function(i){return function(){return i}}({}),Mr(_M,ur);var Xk=0;function cV(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function nC(i){i.readyState=4,i.l=null,i.j=null,i.A=null,iC(i)}function iC(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Je=_M.prototype).open=function(i,t){if(this.readyState!=Xk)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,iC(this)},Je.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||Tt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nC(this)),this.readyState=Xk},Je.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,iC(this)),this.g&&(this.readyState=3,iC(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cV(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?nC(this):iC(this),3==this.readyState&&cV(this)}},Je.Ua=function(i){this.g&&(this.response=this.responseText=i,nC(this))},Je.Ta=function(i){this.g&&(this.response=i,nC(this))},Je.ha=function(){this.g&&nC(this)},Je.setRequestHeader=function(i,t){this.v.append(i,t)},Je.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(_M.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var YH=Tt.JSON.parse;function Ni(i){ur.call(this),this.headers=new ny,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dV,this.K=this.L=!1}Mr(Ni,ur);var dV="",qH=/^https?$/i,$H=["POST","PUT"];function QH(i){return"content-type"==i.toLowerCase()}function hV(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,fV(i),yM(i)}function fV(i){i.D||(i.D=!0,Tr(i,"complete"),Tr(i,"error"))}function pV(i){if(i.h&&void 0!==gk&&(!i.C[1]||4!=wc(i)||2!=i.ba()))if(i.v&&4==wc(i))Gk(i.Fa,0,i);else if(Tr(i,"readystatechange"),4==wc(i)){i.h=!1;try{var s,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var o;if(o=0===t){var c=String(i.H).match(XB)[1]||null;if(!c&&Tt.self&&Tt.self.location){var f=Tt.self.location.protocol;c=f.substr(0,f.length-1)}o=!qH.test(c?c.toLowerCase():"")}s=o}if(s)Tr(i,"complete"),Tr(i,"success");else{i.m=6;try{var y=2<wc(i)?i.g.statusText:""}catch(C){y=""}i.j=y+" ["+i.ba()+"]",fV(i)}}finally{yM(i)}}}function yM(i,t){if(i.g){gV(i);var e=i.g,s=i.C[0]?JA:null;i.g=null,i.C=null,t||Tr(i,"ready");try{e.onreadystatechange=s}catch(o){}}}function gV(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Tt.clearTimeout(i.A),i.A=null)}function wc(i){return i.g?i.g.readyState:0}function mV(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case dV:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function eF(i,t,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(i){var t="";return bk(i,function(e,s){t+=s,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):ii(i,t,e))}function rC(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function _V(i){this.za=0,this.l=[],this.h=new oM,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rC("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rC("baseRetryDelayMs",5e3,i),this.$a=rC("retryDelaySeedMs",1e4,i),this.Ya=rC("forwardChannelMaxRetries",2,i),this.ra=rC("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new sV(i&&i.concurrentRequestLimit),this.Ca=new jH,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function tF(i){if(yV(i),3==i.G){var t=i.V++,e=bc(i.F);ii(e,"SID",i.J),ii(e,"RID",t),ii(e,"TYPE","terminate"),sC(i,e),(t=new Q0(i,i.h,t,void 0)).K=2,t.v=gM(bc(e)),e=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(e=Tt.navigator.sendBeacon(t.v.toString(),"")),!e&&Tt.Image&&((new Image).src=t.v,e=!0),e||(t.g=AV(t.l,null),t.g.ea(t.v)),t.F=Date.now(),K0(t)}xV(i)}function vM(i){i.g&&(rF(i),i.g.cancel(),i.g=null)}function yV(i){vM(i),i.u&&(Tt.clearTimeout(i.u),i.u=null),wM(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Tt.clearTimeout(i.m),i.m=null)}function nF(i,t){i.l.push(new GH(i.Za++,t)),3==i.G&&bM(i)}function bM(i){oV(i.i)||i.m||(i.m=!0,Nk(i.Ha,i),i.C=0)}function vV(i,t){var e;e=t?t.m:i.V++;var s=bc(i.F);ii(s,"SID",i.J),ii(s,"RID",e),ii(s,"AID",i.U),sC(i,s),i.o&&i.s&&eF(s,i.o,i.s),e=new Q0(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=bV(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Zk(i.i,e),qk(e,s,t)}function sC(i,t){i.j&&Wk({},function(e,s){ii(t,s,e)})}function bV(i,t,e){e=Math.min(i.l.length,e);var s=i.j?Ar(i.j.Oa,i.j,i):null;e:for(var o=i.l,c=-1;;){var f=["count="+e];-1==c?0<e?f.push("ofs="+(c=o[0].h)):c=0:f.push("ofs="+c);for(var y=!0,C=0;C<e;C++){var x=o[C].h,M=o[C].g;if(0>(x-=c))c=Math.max(0,o[C].h-100),y=!1;else try{HH(M,f,"req"+x+"_")}catch(R){s&&s(M)}}if(y){s=f.join("&");break e}}return i=i.l.splice(0,e),t.D=i,s}function wV(i){i.g||i.u||(i.Y=1,Nk(i.Ga,i),i.A=0)}function iF(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=$0(Ar(i.Ga,i),SV(i,i.A)),i.A++,0))}function rF(i){null!=i.B&&(Tt.clearTimeout(i.B),i.B=null)}function CV(i){i.g=new Q0(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=bc(i.oa);ii(t,"RID","rpc"),ii(t,"SID",i.J),ii(t,"CI",i.N?"0":"1"),ii(t,"AID",i.U),sC(i,t),ii(t,"TYPE","xmlhttp"),i.o&&i.s&&eF(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=gM(bc(t)),e.s=null,e.U=!0,QB(e,i)}function wM(i){null!=i.v&&(Tt.clearTimeout(i.v),i.v=null)}function EV(i,t){var e=null;if(i.g==t){wM(i),rF(i),i.g=null;var s=2}else{if(!Kk(i.i,t))return;e=t.D,lV(i.i,t),s=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==s){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=i.C;Tr(s=aM(),new zB(s,e,t,o)),bM(i)}else wV(i);else if(3==(o=t.o)||0==o&&0<i.I||!(1==s&&function(i,t){return!(aV(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=$0(Ar(i.Ha,i,t),SV(i,i.C)),i.C++,0)))}(i,t)||2==s&&iF(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),o){case 1:Np(i,5);break;case 4:Np(i,10);break;case 3:Np(i,6);break;default:Np(i,2)}}function SV(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function Np(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var s=Ar(i.jb,i);e||(e=new Pp("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||hM(e,"https"),gM(e)),function(i,t){var e=new oM;if(Tt.Image){var s=new Image;s.onload=XA(mM,e,s,"TestLoadImage: loaded",!0,t),s.onerror=XA(mM,e,s,"TestLoadImage: error",!1,t),s.onabort=XA(mM,e,s,"TestLoadImage: abort",!1,t),s.ontimeout=XA(mM,e,s,"TestLoadImage: timeout",!1,t),Tt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else t(!1)}(e.toString(),s)}else _s(2);i.G=0,i.j&&i.j.va(t),xV(i),yV(i)}function xV(i){i.G=0,i.I=-1,i.j&&((0!=uV(i.i).length||0!=i.l.length)&&(i.i.i.length=0,yk(i.l),i.l.length=0),i.j.ua())}function DV(i,t,e){var s=function(i){return i instanceof Pp?bc(i):new Pp(i,void 0)}(e);if(""!=s.i)t&&fM(s,t+"."+s.i),pM(s,s.m);else{var o=Tt.location;s=function(i,t,e,s){var o=new Pp(null,void 0);return i&&hM(o,i),t&&fM(o,t),e&&pM(o,e),s&&(o.l=s),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,e)}return i.aa&&bk(i.aa,function(c,f){ii(s,f,c)}),e=i.sa,(t=i.D)&&e&&ii(s,t,e),ii(s,"VER",i.ma),sC(i,s),s}function AV(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ni(e&&i.Ba&&!i.qa?new tC({ib:!0}):i.qa)).L=i.H,t}function MV(){}function CM(){if(ey&&!(10<=Number(cH)))throw Error("Environmental error: no available transport.")}function co(i,t){ur.call(this),this.g=new _V(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!eM(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!eM(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new ry(this)}function TV(i){jk.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function IV(){Hk.call(this),this.status=1}function ry(i){this.g=i}(Je=Ni.prototype).ea=function(i,t,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zk.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:zk),this.g.onreadystatechange=Ar(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(c){return void hV(this,c)}i=e||"";var o=new ny(this.headers);s&&Wk(s,function(c,f){o.set(f,c)}),s=function(i){e:{for(var t=QH,e=i.length,s="string"==typeof i?i.split(""):i,o=0;o<e;o++)if(o in s&&t.call(void 0,s[o],o,i)){t=o;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(o.T()),e=Tt.FormData&&i instanceof Tt.FormData,!(0<=_B($H,t))||s||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gV(this),0<this.B&&((this.K=function(i){return ey&&uH()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ar(this.pa,this)):this.A=Gk(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){hV(this,c)}},Je.pa=function(){void 0!==gk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},Je.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tr(this,"complete"),Tr(this,"abort"),yM(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yM(this,!0)),Ni.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?pV(this):this.cb())},Je.cb=function(){pV(this)},Je.ba=function(){try{return 2<wc(this)?this.g.status:-1}catch(i){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Je.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),YH(t)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=_V.prototype).ma=8,Je.G=1,Je.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},Je.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new Q0(this,this.h,i,void 0),e=this.s;if(this.P&&(e?xB(e=EB(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var c=this.l[o];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(s+=c)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=bV(this,t,s),ii(o=bc(this.F),"RID",i),ii(o,"CVER",22),this.D&&ii(o,"X-HTTP-Session-Id",this.D),sC(this,o),this.o&&e&&eF(o,this.o,e),Zk(this.i,t),this.Ra&&ii(o,"TYPE","init"),this.ja?(ii(o,"$req",s),ii(o,"SID","null"),t.$=!0,qk(t,o,null)):qk(t,o,s),this.G=2}}else 3==this.G&&(i?vV(this,i):0==this.l.length||oV(this.i)||vV(this))},Je.Ga=function(){if(this.u=null,CV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=$0(Ar(this.bb,this),i)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_s(10),vM(this),CV(this))},Je.ab=function(){null!=this.v&&(this.v=null,vM(this),iF(this),_s(19))},Je.jb=function(i){i?(this.h.info("Successfully pinged google.com"),_s(2)):(this.h.info("Failed to ping google.com"),_s(1))},(Je=MV.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},CM.prototype.g=function(i,t){return new co(i,t)},Mr(co,ur),co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Nk(Ar(i.hb,i,t))),_s(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=DV(i,null,i.W),bM(i)},co.prototype.close=function(){tF(this.g)},co.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,nF(this.g,t)}else this.v?((t={}).__data__=Pk(i),nF(this.g,t)):nF(this.g,i)},co.prototype.M=function(){this.g.j=null,delete this.j,tF(this.g),delete this.g,co.Z.M.call(this)},Mr(TV,jk),Mr(IV,Hk),Mr(ry,MV),ry.prototype.xa=function(){Tr(this.g,"a")},ry.prototype.wa=function(i){Tr(this.g,new TV(i))},ry.prototype.va=function(i){Tr(this.g,new IV(i))},ry.prototype.ua=function(){Tr(this.g,"b")},CM.prototype.createWebChannel=CM.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,lM.NO_ERROR=0,lM.TIMEOUT=8,lM.HTTP_ERROR=6,YB.COMPLETE="complete",$B.EventType=W0,W0.OPEN="a",W0.CLOSE="b",W0.ERROR="c",W0.MESSAGE="d",ur.prototype.listen=ur.prototype.N,Ni.prototype.listenOnce=Ni.prototype.O,Ni.prototype.getLastError=Ni.prototype.La,Ni.prototype.getLastErrorCode=Ni.prototype.Da,Ni.prototype.getStatus=Ni.prototype.ba,Ni.prototype.getResponseJson=Ni.prototype.Qa,Ni.prototype.getResponseText=Ni.prototype.ga,Ni.prototype.send=Ni.prototype.ea;var EM=lM,kV=YB,FV=Op,sF_PROXY=10,sF_NOPROXY=11,PV=tC,oC=$B,NV=Ni,ho=function(){function i(t,e){var s=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(o){return s.t(o)},this.i=function(o){return e.writeSequenceNumber(o)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();ho.o=-1;var we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fe=function(i){function t(e,s){var o=this;return(o=i.call(this,s)||this).code=e,o.message=s,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return(0,G.ZT)(t,i),t}(Error),sl=new Rp.Yd("@firebase/firestore");function oF(){return sl.logLevel}function Ne(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(sl.logLevel<=Rp.in.DEBUG){var s=t.map(aF);sl.debug.apply(sl,(0,G.ev)(["Firestore (8.8.1): "+i],s))}}function Li(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(sl.logLevel<=Rp.in.ERROR){var s=t.map(aF);sl.error.apply(sl,(0,G.ev)(["Firestore (8.8.1): "+i],s))}}function aC(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(sl.logLevel<=Rp.in.WARN){var s=t.map(aF);sl.warn.apply(sl,(0,G.ev)(["Firestore (8.8.1): "+i],s))}}function aF(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function lt(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+i;throw Li(t),new Error(t)}function St(i,t){i||lt()}function je(i,t){return i}function JH(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}var LV=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,s="";s.length<20;)for(var o=JH(40),c=0;c<o.length;++c)s.length<20&&o[c]<e&&(s+=t.charAt(o[c]%t.length));return s},i}();function Jt(i,t){return i<t?-1:i>t?1:0}function sy(i,t,e){return i.length===t.length&&i.every(function(s,o){return e(s,t[o])})}function BV(i){return i+"\0"}var Hs=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),Yt=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new Hs(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function VV(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Lp(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function GV(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var UV=function(){function i(t,e,s){void 0===e?e=0:e>t.length&&lt(),void 0===s?s=t.length-e:s>t.length-e&&lt(),this.segments=t,this.offset=e,this.len=s}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(s){e.push(s)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var s=Math.min(t.length,e.length),o=0;o<s;o++){var c=t.get(o),f=e.get(o);if(c<f)return-1;if(c>f)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),fn=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype.construct=function(e,s,o){return new t(e,s,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];for(var o=[],c=0,f=e;c<f.length;c++){var y=f[c];if(y.indexOf("//")>=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid segment ("+y+"). Paths must not contain // in them.");o.push.apply(o,y.split("/").filter(function(C){return C.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(UV),XH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ol=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype.construct=function(e,s,o){return new t(e,s,o)},t.isValidIdentifier=function(e){return XH.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var s=[],o="",c=0,f=function(){if(0===o.length)throw new Fe(we.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(o),o=""},y=!1;c<e.length;){var C=e[c];if("\\"===C){if(c+1===e.length)throw new Fe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var x=e[c+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Fe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,c+=2}else"`"===C?(y=!y,c++):"."!==C||y?(o+=C,c++):(f(),c++)}if(f(),y)throw new Fe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(s)},t.emptyPath=function(){return new t([])},t}(UV),oy=function(){function i(t){this.fields=t,t.sort(ol.comparator)}return i.prototype.covers=function(t){for(var e=0,s=this.fields;e<s.length;e++)if(s[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return sy(this.fields,t.fields,function(e,s){return e.isEqual(s)})},i}(),ys=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var s="",o=0;o<e.length;++o)s+=String.fromCharCode(e[o]);return s}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return Jt(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();ys.EMPTY_BYTE_STRING=new ys("");var e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function th(i){if(St(!!i),"string"==typeof i){var t=0,e=e6.exec(i);if(St(!!e),e[1]){var s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}var o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Bi(i.seconds),nanos:Bi(i.nanos)}}function Bi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ay(i){return"string"==typeof i?ys.fromBase64String(i):ys.fromUint8Array(i)}function lF(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function jV(i){var t=i.mapValue.fields.__previous_value__;return lF(t)?jV(t):t}function lC(i){var t=th(i.mapValue.fields.__local_write_time__.timestampValue);return new Hs(t.seconds,t.nanos)}function Bp(i){return null==i}function SM(i){return 0===i&&1/i==-1/0}function HV(i){return"number"==typeof i&&Number.isInteger(i)&&!SM(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var ht=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(fn.fromString(t))},i.fromName=function(t){return new i(fn.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===fn.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return fn.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new fn(t.slice()))},i}();function Vp(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lF(i)?4:10:lt()}function lu(i,t){var o,e=Vp(i);if(e!==Vp(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return lC(i).isEqual(lC(t));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;var c=th(s.timestampValue),f=th(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return o=t,ay(i.bytesValue).isEqual(ay(o.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,o){return Bi(s.geoPointValue.latitude)===Bi(o.geoPointValue.latitude)&&Bi(s.geoPointValue.longitude)===Bi(o.geoPointValue.longitude)}(i,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Bi(s.integerValue)===Bi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){var c=Bi(s.doubleValue),f=Bi(o.doubleValue);return c===f?SM(c)===SM(f):isNaN(c)&&isNaN(f)}return!1}(i,t);case 9:return sy(i.arrayValue.values||[],t.arrayValue.values||[],lu);case 10:return function(s,o){var c=s.mapValue.fields||{},f=o.mapValue.fields||{};if(VV(c)!==VV(f))return!1;for(var y in c)if(c.hasOwnProperty(y)&&(void 0===f[y]||!lu(c[y],f[y])))return!1;return!0}(i,t);default:return lt()}}function uC(i,t){return void 0!==(i.values||[]).find(function(e){return lu(e,t)})}function ly(i,t){var o,c,f,y,e=Vp(i),s=Vp(t);if(e!==s)return Jt(e,s);switch(e){case 0:return 0;case 1:return Jt(i.booleanValue,t.booleanValue);case 2:return c=t,(f=Bi((o=i).integerValue||o.doubleValue))<(y=Bi(c.integerValue||c.doubleValue))?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1;case 3:return zV(i.timestampValue,t.timestampValue);case 4:return zV(lC(i),lC(t));case 5:return Jt(i.stringValue,t.stringValue);case 6:return function(o,c){var f=ay(o),y=ay(c);return f.compareTo(y)}(i.bytesValue,t.bytesValue);case 7:return function(o,c){for(var f=o.split("/"),y=c.split("/"),C=0;C<f.length&&C<y.length;C++){var x=Jt(f[C],y[C]);if(0!==x)return x}return Jt(f.length,y.length)}(i.referenceValue,t.referenceValue);case 8:return function(o,c){var f=Jt(Bi(o.latitude),Bi(c.latitude));return 0!==f?f:Jt(Bi(o.longitude),Bi(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(o,c){for(var f=o.values||[],y=c.values||[],C=0;C<f.length&&C<y.length;++C){var x=ly(f[C],y[C]);if(x)return x}return Jt(f.length,y.length)}(i.arrayValue,t.arrayValue);case 10:return function(o,c){var f=o.fields||{},y=Object.keys(f),C=c.fields||{},x=Object.keys(C);y.sort(),x.sort();for(var M=0;M<y.length&&M<x.length;++M){var R=Jt(y[M],x[M]);if(0!==R)return R;var F=ly(f[y[M]],C[x[M]]);if(0!==F)return F}return Jt(y.length,x.length)}(i.mapValue,t.mapValue);default:throw lt()}}function zV(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Jt(i,t);var e=th(i),s=th(t),o=Jt(e.seconds,s.seconds);return 0!==o?o:Jt(e.nanos,s.nanos)}function uF(i){return cF(i)}function cF(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(o=th(i.timestampValue)).seconds+","+o.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?ay(i.bytesValue).toBase64():"referenceValue"in i?ht.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(s){for(var o="[",c=!0,f=0,y=s.values||[];f<y.length;f++)c?c=!1:o+=",",o+=cF(y[f]);return o+"]"}(i.arrayValue):"mapValue"in i?function(s){for(var o="{",c=!0,f=0,y=Object.keys(s.fields||{}).sort();f<y.length;f++){var C=y[f];c?c=!1:o+=",",o+=C+":"+cF(s.fields[C])}return o+"}"}(i.mapValue):lt();var o,t}function xM(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function dF(i){return!!i&&"integerValue"in i}function hF(i){return!!i&&"arrayValue"in i}function YV(i){return!!i&&"nullValue"in i}function qV(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function DM(i){return!!i&&"mapValue"in i}function cC(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return Lp(i.mapValue.fields,function(o,c){return t.mapValue.fields[o]=cC(c)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=cC(i.arrayValue.values[s]);return e}return Object.assign({},i)}var fo=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,s=0;s<t.length-1;++s)if(!DM(e=(e.mapValue.fields||{})[t.get(s)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cC(e)},i.prototype.setAll=function(t){var e=this,s=ol.emptyPath(),o={},c=[];t.forEach(function(y,C){if(!s.isImmediateParentOf(C)){var x=e.getFieldsMap(s);e.applyChanges(x,o,c),o={},c=[],s=C.popLast()}y?o[C.lastSegment()]=cC(y):c.push(C.lastSegment())});var f=this.getFieldsMap(s);this.applyChanges(f,o,c)},i.prototype.delete=function(t){var e=this.field(t.popLast());DM(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return lu(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var s=0;s<t.length;++s){var o=e.mapValue.fields[t.get(s)];DM(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,s){Lp(e,function(y,C){return t[y]=C});for(var o=0,c=s;o<c.length;o++)delete t[c[o]]},i.prototype.clone=function(){return new i(cC(this.value))},i}();function $V(i){var t=[];return Lp(i.fields,function(e,s){var o=new ol([e]);if(DM(s)){var c=$V(s.mapValue).fields;if(0===c.length)t.push(o);else for(var f=0,y=c;f<y.length;f++)t.push(o.child(y[f]))}else t.push(o)}),new oy(t)}var Ir=function(){function i(t,e,s,o,c){this.key=t,this.documentType=e,this.version=s,this.data=o,this.documentState=c}return i.newInvalidDocument=function(t){return new i(t,0,Yt.min(),fo.empty(),0)},i.newFoundDocument=function(t,e,s){return new i(t,1,e,s,0)},i.newNoDocument=function(t,e){return new i(t,2,e,fo.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,fo.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=fo.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=fo.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),t6=function(i,t,e,s,o,c,f){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===c&&(c=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=s,this.limit=o,this.startAt=c,this.endAt=f,this.h=null};function WV(i,t,e,s,o,c,f){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===c&&(c=null),void 0===f&&(f=null),new t6(i,t,e,s,o,c,f)}function dC(i){var t=je(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(s){return(o=s).field.canonicalString()+o.op.toString()+uF(o.value);var o}).join(","),e+="|ob:",e+=t.orderBy.map(function(s){return(o=s).field.canonicalString()+o.dir;var o}).join(","),Bp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=TM(t.startAt)),t.endAt&&(e+="|ub:",e+=TM(t.endAt)),t.h=e}return t.h}function AM(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!u6(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var s=0;s<i.filters.length;s++)if((o=i.filters[s]).op!==(c=t.filters[s]).op||!o.field.isEqual(c.field)||!lu(o.value,c.value))return!1;var o,c;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ZV(i.startAt,t.startAt)&&ZV(i.endAt,t.endAt)}function MM(i){return ht.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var po=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).field=e,c.op=s,c.value=o,c}return(0,G.ZT)(t,i),t.create=function(e,s,o){return e.isKeyField()?"in"===s||"not-in"===s?this.l(e,s,o):new n6(e,s,o):"array-contains"===s?new s6(e,o):"in"===s?new o6(e,o):"not-in"===s?new a6(e,o):"array-contains-any"===s?new l6(e,o):new t(e,s,o)},t.l=function(e,s,o){return"in"===s?new i6(e,o):new r6(e,o)},t.prototype.matches=function(e){var s=e.data.field(this.field);return"!="===this.op?null!==s&&this.m(ly(s,this.value)):null!==s&&Vp(this.value)===Vp(s)&&this.m(ly(s,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),n6=function(i){function t(e,s,o){var c=this;return(c=i.call(this,e,s,o)||this).key=ht.fromName(o.referenceValue),c}return(0,G.ZT)(t,i),t.prototype.matches=function(e){var s=ht.comparator(e.key,this.key);return this.m(s)},t}(po),i6=function(i){function t(e,s){var o=this;return(o=i.call(this,e,"in",s)||this).keys=QV(0,s),o}return(0,G.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(s){return s.isEqual(e.key)})},t}(po),r6=function(i){function t(e,s){var o=this;return(o=i.call(this,e,"not-in",s)||this).keys=QV(0,s),o}return(0,G.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(s){return s.isEqual(e.key)})},t}(po);function QV(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(s){return ht.fromName(s.referenceValue)})}var s6=function(i){function t(e,s){return i.call(this,e,"array-contains",s)||this}return(0,G.ZT)(t,i),t.prototype.matches=function(e){var s=e.data.field(this.field);return hF(s)&&uC(s.arrayValue,this.value)},t}(po),o6=function(i){function t(e,s){return i.call(this,e,"in",s)||this}return(0,G.ZT)(t,i),t.prototype.matches=function(e){var s=e.data.field(this.field);return null!==s&&uC(this.value.arrayValue,s)},t}(po),a6=function(i){function t(e,s){return i.call(this,e,"not-in",s)||this}return(0,G.ZT)(t,i),t.prototype.matches=function(e){if(uC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=e.data.field(this.field);return null!==s&&!uC(this.value.arrayValue,s)},t}(po),l6=function(i){function t(e,s){return i.call(this,e,"array-contains-any",s)||this}return(0,G.ZT)(t,i),t.prototype.matches=function(e){var s=this,o=e.data.field(this.field);return!(!hF(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(c){return uC(s.value.arrayValue,c)})},t}(po),hC=function(i,t){this.position=i,this.before=t};function TM(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return uF(t)}).join(",")}var uy=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function u6(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function KV(i,t,e){for(var s=0,o=0;o<i.position.length;o++){var c=t[o],f=i.position[o];if(s=c.field.isKeyField()?ht.comparator(ht.fromName(f.referenceValue),e.key):ly(f,e.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function ZV(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!lu(i.position[e],t.position[e]))return!1;return!0}var Cc=function(i,t,e,s,o,c,f,y){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===c&&(c="F"),void 0===f&&(f=null),void 0===y&&(y=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=s,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=y,this.p=null,this.T=null};function JV(i,t,e,s,o,c,f,y){return new Cc(i,t,e,s,o,c,f,y)}function cy(i){return new Cc(i)}function IM(i){return!Bp(i.limit)&&"F"===i.limitType}function RM(i){return!Bp(i.limit)&&"L"===i.limitType}function fF(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function pF(i){for(var t=0,e=i.filters;t<e.length;t++){var s=e[t];if(s.g())return s.field}return null}function gF(i){return null!==i.collectionGroup}function dy(i){var t=je(i);if(null===t.p){t.p=[];var e=pF(t),s=fF(t);if(null!==e&&null===s)e.isKeyField()||t.p.push(new uy(e)),t.p.push(new uy(ol.keyField(),"asc"));else{for(var o=!1,c=0,f=t.explicitOrderBy;c<f.length;c++){var y=f[c];t.p.push(y),y.field.isKeyField()&&(o=!0)}if(!o){var C=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new uy(ol.keyField(),C))}}}return t.p}function fa(i){var t=je(i);if(!t.T)if("F"===t.limitType)t.T=WV(t.path,t.collectionGroup,dy(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],s=0,o=dy(t);s<o.length;s++){var c=o[s];e.push(new uy(c.field,"desc"===c.dir?"asc":"desc"))}var y=t.endAt?new hC(t.endAt.position,!t.endAt.before):null,C=t.startAt?new hC(t.startAt.position,!t.startAt.before):null;t.T=WV(t.path,t.collectionGroup,e,t.filters,t.limit,y,C)}return t.T}function XV(i,t,e){return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function fC(i,t){return AM(fa(i),fa(t))&&i.limitType===t.limitType}function e2(i){return dC(fa(i))+"|lt:"+i.limitType}function mF(i){return"Query(target="+(e=(t=fa(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(s){return(o=s).field.canonicalString()+" "+o.op+" "+uF(o.value);var o}).join(", ")+"]"),Bp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(s){return(o=s).field.canonicalString()+" ("+o.dir+")";var o}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+TM(t.startAt)),t.endAt&&(e+=", endAt: "+TM(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function pC(i,t){return t.isFoundDocument()&&(o=(s=t).key.path,null!==(e=i).collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):ht.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o))&&function(e,s){for(var o=0,c=e.explicitOrderBy;o<c.length;o++){var f=c[o];if(!f.field.isKeyField()&&null===s.data.field(f.field))return!1}return!0}(i,t)&&function(e,s){for(var o=0,c=e.filters;o<c.length;o++)if(!c[o].matches(s))return!1;return!0}(i,t)&&function(e,s){return!(e.startAt&&!KV(e.startAt,dy(e),s)||e.endAt&&KV(e.endAt,dy(e),s))}(i,t);var e,s,o}function t2(i){return function(t,e){for(var s=!1,o=0,c=dy(i);o<c.length;o++){var f=c[o],y=c6(f,t,e);if(0!==y)return y;s=s||f.field.isKeyField()}return 0}}function c6(i,t,e){var o,f,y,C,s=i.field.isKeyField()?ht.comparator(t.key,e.key):(f=e,y=t.data.field(o=i.field),C=f.data.field(o),null!==y&&null!==C?ly(y,C):lt());switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return lt()}}function n2(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:SM(t)?"-0":t}}function r2(i){return{integerValue:""+i}}function s2(i,t){return HV(t)?r2(t):n2(i,t)}var OM=function(){this._=void 0};function d6(i,t,e){return i instanceof hy?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=e).seconds,nanos:s.nanoseconds}}}},(o=t)&&(c.fields.__previous_value__=o),{mapValue:c}):i instanceof Gp?a2(i,t):i instanceof Up?l2(i,t):function(s,o){var c=o2(s,o),f=u2(c)+u2(s.A);return dF(c)&&dF(s.A)?r2(f):n2(s.R,f)}(i,t);var s,o,c}function h6(i,t,e){return i instanceof Gp?a2(i,t):i instanceof Up?l2(i,t):e}function o2(i,t){return i instanceof fy?dF(e=t)||(s=e)&&"doubleValue"in s?t:{integerValue:0}:null;var s,e}var hy=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t}(OM),Gp=function(i){function t(e){var s=this;return(s=i.call(this)||this).elements=e,s}return(0,G.ZT)(t,i),t}(OM);function a2(i,t){for(var e=c2(t),s=function(f){e.some(function(y){return lu(y,f)})||e.push(f)},o=0,c=i.elements;o<c.length;o++)s(c[o]);return{arrayValue:{values:e}}}var Up=function(i){function t(e){var s=this;return(s=i.call(this)||this).elements=e,s}return(0,G.ZT)(t,i),t}(OM);function l2(i,t){for(var e=c2(t),s=function(f){e=e.filter(function(y){return!lu(y,f)})},o=0,c=i.elements;o<c.length;o++)s(c[o]);return{arrayValue:{values:e}}}var fy=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).R=e,o.A=s,o}return(0,G.ZT)(t,i),t}(OM);function u2(i){return Bi(i.integerValue||i.doubleValue)}function c2(i){return hF(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var gC=function(i,t){this.field=i,this.transform=t},f6=function(i,t){this.version=i,this.transformResults=t},Zr=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function kM(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var FM=function(){};function p6(i,t,e){var s,o,c,f,y;i instanceof mC?(o=t,c=e,f=(s=i).value.clone(),y=p2(s.fieldTransforms,o,c.transformResults),f.setAll(y),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()):i instanceof nh?function(s,o,c){if(kM(s.precondition,o)){var f=p2(s.fieldTransforms,o,c.transformResults),y=o.data;y.setAll(f2(s)),y.setAll(f),o.convertToFoundDocument(c.version,y).setHasCommittedMutations()}else o.convertToUnknownDocument(c.version)}(i,t,e):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function _F(i,t,e){var o;i instanceof mC?function(s,o,c){if(kM(s.precondition,o)){var f=s.value.clone(),y=g2(s.fieldTransforms,c,o);f.setAll(y),o.convertToFoundDocument(h2(o),f).setHasLocalMutations()}}(i,t,e):i instanceof nh?function(s,o,c){if(kM(s.precondition,o)){var f=g2(s.fieldTransforms,c,o),y=o.data;y.setAll(f2(s)),y.setAll(f),o.convertToFoundDocument(h2(o),y).setHasLocalMutations()}}(i,t,e):kM(i.precondition,o=t)&&o.convertToNoDocument(Yt.min())}function g6(i,t){for(var e=null,s=0,o=i.fieldTransforms;s<o.length;s++){var c=o[s],f=t.data.field(c.field),y=o2(c.transform,f||null);null!=y&&(null==e&&(e=fo.empty()),e.set(c.field,y))}return e||null}function d2(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(s=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===s||e&&s&&sy(e,s,function(o,c){return(f=o).field.isEqual((y=c).field)&&(x=y.transform,(C=f.transform)instanceof Gp&&x instanceof Gp||C instanceof Up&&x instanceof Up?sy(C.elements,x.elements,lu):C instanceof fy&&x instanceof fy?lu(C.A,x.A):C instanceof hy&&x instanceof hy);var f,y,C,x})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,s}function h2(i){return i.isFoundDocument()?i.version:Yt.min()}var mC=function(i){function t(e,s,o,c){void 0===c&&(c=[]);var f=this;return(f=i.call(this)||this).key=e,f.value=s,f.precondition=o,f.fieldTransforms=c,f.type=0,f}return(0,G.ZT)(t,i),t}(FM),nh=function(i){function t(e,s,o,c,f){void 0===f&&(f=[]);var y=this;return(y=i.call(this)||this).key=e,y.data=s,y.fieldMask=o,y.precondition=c,y.fieldTransforms=f,y.type=1,y}return(0,G.ZT)(t,i),t}(FM);function f2(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var s=i.data.field(e);t.set(e,s)}}),t}function p2(i,t,e){var s=new Map;St(i.length===e.length);for(var o=0;o<e.length;o++){var c=i[o],f=c.transform,y=t.data.field(c.field);s.set(c.field,h6(f,y,e[o]))}return s}function g2(i,t,e){for(var s=new Map,o=0,c=i;o<c.length;o++){var f=c[o],y=f.transform,C=e.data.field(f.field);s.set(f.field,d6(y,C,t))}return s}var Vi,tn,_C=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).key=e,o.precondition=s,o.type=2,o.fieldTransforms=[],o}return(0,G.ZT)(t,i),t}(FM),yF=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).key=e,o.precondition=s,o.type=3,o.fieldTransforms=[],o}return(0,G.ZT)(t,i),t}(FM),m6=function(i){this.count=i};function m2(i){switch(i){case we.OK:return lt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return lt()}}function _2(i){if(void 0===i)return Li("GRPC error has no .code"),we.UNKNOWN;switch(i){case Vi.OK:return we.OK;case Vi.CANCELLED:return we.CANCELLED;case Vi.UNKNOWN:return we.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return we.INTERNAL;case Vi.UNAVAILABLE:return we.UNAVAILABLE;case Vi.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Vi.NOT_FOUND:return we.NOT_FOUND;case Vi.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Vi.ABORTED:return we.ABORTED;case Vi.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Vi.DATA_LOSS:return we.DATA_LOSS;default:return lt()}}(tn=Vi||(Vi={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";var Jr=function(){function i(t,e){this.comparator=t,this.root=e||ih.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ih.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ih.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var s=this.comparator(t,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,s=this.root;!s.isEmpty();){var o=this.comparator(t,s.key);if(0===o)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,s){return t(e,s),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,s){return t.push(e+":"+s),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new PM(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new PM(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new PM(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new PM(this.root,t,this.comparator,!0)},i}(),PM=function(){function i(t,e,s,o){this.isReverse=o,this.nodeStack=[];for(var c=1;!t.isEmpty();)if(c=e?s(t.key,e):1,o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),ih=function(){function i(t,e,s,o,c){this.key=t,this.value=e,this.color=null!=s?s:i.RED,this.left=null!=o?o:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,s,o,c){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,s){var o=this,c=s(t,o.key);return(o=c<0?o.copy(null,null,null,o.left.insert(t,e,s),null):0===c?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return i.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();var t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)},i}();ih.EMPTY=null,ih.RED=!0,ih.BLACK=!1,ih.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw lt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw lt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw lt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw lt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw lt()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,s,o,c){return this},i.prototype.insert=function(t,e,s){return new ih(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var Ki=function(){function i(t){this.comparator=t,this.data=new Jr(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,s){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var s=this.data.getIteratorFrom(t[0]);s.hasNext();){var o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}},i.prototype.forEachWhile=function(t,e){var s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new y2(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new y2(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(s){e=e.add(s)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),s=t.data.getIterator();e.hasNext();){var o=e.getNext().key,c=s.getNext().key;if(0!==this.comparator(o,c))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),y2=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),_6=new Jr(ht.comparator);function pa(){return _6}var y6=new Jr(ht.comparator);function vF(){return y6}var v6=new Jr(ht.comparator);function v2(){return v6}var b6=new Ki(ht.comparator);function Dn(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=b6,s=0,o=i;s<o.length;s++){var c=o[s];e=e.add(c)}return e}var w6=new Ki(Jt);function NM(){return w6}var bF=function(){function i(t,e,s,o,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var s=new Map;return s.set(t,wF.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(Yt.min(),s,NM(),pa(),Dn())},i}(),wF=function(){function i(t,e,s,o,c){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(ys.EMPTY_BYTE_STRING,e,Dn(),Dn(),Dn())},i}(),LM=function(i,t,e,s){this.v=i,this.removedTargetIds=t,this.key=e,this.P=s},b2=function(i,t){this.targetId=i,this.V=t},w2=function(i,t,e,s){void 0===e&&(e=ys.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=s},C2=function(){function i(){this.S=0,this.D=S2(),this.C=ys.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},i.prototype.M=function(){var t=Dn(),e=Dn(),s=Dn();return this.D.forEach(function(o,c){switch(c){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:lt()}}),new wF(this.C,this.N,t,e,s)},i.prototype.L=function(){this.F=!1,this.D=S2()},i.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.F=!0,this.N=!0},i}(),C6=function(){function i(t){this.W=t,this.G=new Map,this.H=pa(),this.J=E2(),this.Y=new Ki(Jt)}return i.prototype.X=function(t){for(var e=0,s=t.v;e<s.length;e++){var o=s[e];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var c=0,f=t.removedTargetIds;c<f.length;c++)this.tt(o=f[c],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(s){var o=e.nt(s);switch(t.state){case 0:e.st(s)&&o.O(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.k||e.removeTarget(s);break;case 3:e.st(s)&&(o.j(),o.O(t.resumeToken));break;case 4:e.st(s)&&(e.it(s),o.O(t.resumeToken));break;default:lt()}})},i.prototype.forEachTarget=function(t,e){var s=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(o,c){s.st(c)&&e(c)})},i.prototype.rt=function(t){var e=t.targetId,s=t.V.count,o=this.ot(e);if(o){var c=o.target;if(MM(c))if(0===s){var f=new ht(c.path);this.tt(e,f,Ir.newNoDocument(f,Yt.min()))}else St(1===s);else this.ct(e)!==s&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,s=new Map;this.G.forEach(function(f,y){var C=e.ot(y);if(C){if(f.current&&MM(C.target)){var x=new ht(C.target.path);null!==e.H.get(x)||e.at(y,x)||e.tt(y,x,Ir.newNoDocument(x,t))}f.$&&(s.set(y,f.M()),f.L())}});var o=Dn();this.J.forEach(function(f,y){var C=!0;y.forEachWhile(function(x){var M=e.ot(x);return!M||2===M.purpose||(C=!1,!1)}),C&&(o=o.add(f))});var c=new bF(t,s,this.Y,this.H,o);return this.H=pa(),this.J=E2(),this.Y=new Ki(Jt),c},i.prototype.Z=function(t,e){if(this.st(t)){var s=this.at(t,e.key)?2:0;this.nt(t).B(e.key,s),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,s){if(this.st(t)){var o=this.nt(t);this.at(t,e)?o.B(e,1):o.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),s&&(this.H=this.H.insert(e,s))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new C2,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ki(Jt),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||Ne("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new C2),this.W.getRemoteKeysForTarget(t).forEach(function(s){e.tt(t,s,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function E2(){return new Jr(ht.comparator)}function S2(){return new Jr(ht.comparator)}var E6={asc:"ASCENDING",desc:"DESCENDING"},S6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x6=function(i,t){this.databaseId=i,this.I=t};function yC(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function x2(i,t){return i.I?t.toBase64():t.toUint8Array()}function D6(i,t){return yC(i,t.toTimestamp())}function cr(i){return St(!!i),Yt.fromTimestamp((e=th(i),new Hs(e.seconds,e.nanos)));var e}function CF(i,t){return(e=i,new fn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function D2(i){var t=fn.fromString(i);return St(B2(t)),t}function vC(i,t){return CF(i.databaseId,t.path)}function uu(i,t){var e=D2(t);if(e.get(1)!==i.databaseId.projectId)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new ht(M2(e))}function EF(i,t){return CF(i.databaseId,t)}function A2(i){var t=D2(i);return 4===t.length?fn.emptyPath():M2(t)}function bC(i){return new fn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function M2(i){return St(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function T2(i,t,e){return{name:vC(i,t),fields:e.value.mapValue.fields}}function I2(i,t,e){var s=uu(i,t.name),o=cr(t.updateTime),c=new fo({mapValue:{fields:t.fields}}),f=Ir.newFoundDocument(s,o,c);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function BM(i,t){var e,o;if(t instanceof mC)e={update:T2(i,t.key,t.value)};else if(t instanceof _C)e={delete:vC(i,t.key)};else if(t instanceof nh)e={update:T2(i,t.key,t.data),updateMask:R6(t.fieldMask)};else{if(!(t instanceof yF))return lt();e={verify:vC(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(s){return function(o,c){var f=c.transform;if(f instanceof hy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Up)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fy)return{fieldPath:c.field.canonicalString(),increment:f.A};throw lt()}(0,s)})),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:D6(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:lt()),e}function R2(i,t){var x,e=t.currentDocument?void 0!==(x=t.currentDocument).updateTime?Zr.updateTime(cr(x.updateTime)):void 0!==x.exists?Zr.exists(x.exists):Zr.none():Zr.none(),s=t.updateTransforms?t.updateTransforms.map(function(x){return function(M,R){var F=null;"setToServerValue"in R?(St("REQUEST_TIME"===R.setToServerValue),F=new hy):"appendMissingElements"in R?F=new Gp(R.appendMissingElements.values||[]):"removeAllFromArray"in R?F=new Up(R.removeAllFromArray.values||[]):"increment"in R?F=new fy(M,R.increment):lt();var Q=ol.fromServerFormat(R.fieldPath);return new gC(Q,F)}(i,x)}):[];if(t.update){var o=uu(i,t.update.name),c=new fo({mapValue:{fields:t.update.fields}});if(t.updateMask){var f=function(x){return new oy((x.fieldPaths||[]).map(function(R){return ol.fromServerFormat(R)}))}(t.updateMask);return new nh(o,c,f,e,s)}return new mC(o,c,e,s)}if(t.delete){var y=uu(i,t.delete);return new _C(y,e)}if(t.verify){var C=uu(i,t.verify);return new yF(C,e)}return lt()}function O2(i,t){return{documents:[EF(i,t.path)]}}function k2(i,t){var e={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(e.parent=EF(i,s),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=EF(i,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);var o=function(y){if(0!==y.length){var C=y.map(function(x){return function(M){if("=="===M.op){if(qV(M.value))return{unaryFilter:{field:py(M.field),op:"IS_NAN"}};if(YV(M.value))return{unaryFilter:{field:py(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(qV(M.value))return{unaryFilter:{field:py(M.field),op:"IS_NOT_NAN"}};if(YV(M.value))return{unaryFilter:{field:py(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:py(M.field),op:M6(M.op),value:M.value}}}(x)});return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}}(t.filters);o&&(e.structuredQuery.where=o);var c=function(y){if(0!==y.length)return y.map(function(C){return{field:py((x=C).field),direction:A6(x.dir)};var x})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);var C,f=(C=t.limit,i.I||Bp(C)?C:{value:C});return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=N2(t.startAt)),t.endAt&&(e.structuredQuery.endAt=N2(t.endAt)),e}function F2(i){var t=A2(i.parent),e=i.structuredQuery,s=e.from?e.from.length:0,o=null;if(s>0){St(1===s);var c=e.from[0];c.allDescendants?o=c.collectionId:t=t.child(c.collectionId)}var f=[];e.where&&(f=P2(e.where));var y=[];e.orderBy&&(y=e.orderBy.map(function(R){return new uy(gy((F=R).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));var R,F,C=null;e.limit&&(C=Bp(F="object"==typeof(R=e.limit)?R.value:R)?null:F);var x=null;e.startAt&&(x=L2(e.startAt));var M=null;return e.endAt&&(M=L2(e.endAt)),JV(t,o,y,f,C,"F",x,M)}function P2(i){return i?void 0!==i.unaryFilter?[I6(i)]:void 0!==i.fieldFilter?[T6(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return P2(t)}).reduce(function(t,e){return t.concat(e)}):lt():[]}function N2(i){return{before:i.before,values:i.position}}function L2(i){return new hC(i.values||[],!!i.before)}function A6(i){return E6[i]}function M6(i){return S6[i]}function py(i){return{fieldPath:i.canonicalString()}}function gy(i){return ol.fromServerFormat(i.fieldPath)}function T6(i){return po.create(gy(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return lt()}}(i.fieldFilter.op),i.fieldFilter.value)}function I6(i){switch(i.unaryFilter.op){case"IS_NAN":var t=gy(i.unaryFilter.field);return po.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=gy(i.unaryFilter.field);return po.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=gy(i.unaryFilter.field);return po.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=gy(i.unaryFilter.field);return po.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return lt()}}function R6(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function B2(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function al(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=V2(t)),t=O6(i.get(e),t);return V2(t)}function O6(i,t){for(var e=t,s=i.length,o=0;o<s;o++){var c=i.charAt(o);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function V2(i){return i+"\x01\x01"}function Ec(i){var t=i.length;if(St(t>=2),2===t)return St("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),fn.emptyPath();for(var e=t-2,s=[],o="",c=0;c<t;){var f=i.indexOf("\x01",c);switch((f<0||f>e)&&lt(),i.charAt(f+1)){case"\x01":var y=i.substring(c,f),C=void 0;0===o.length?C=y:(C=o+=y,o=""),s.push(C);break;case"\x10":o+=i.substring(c,f),o+="\0";break;case"\x11":o+=i.substring(c,f+1);break;default:lt()}c=f+2}return new fn(s)}var k6=function(i,t){this.seconds=i,this.nanoseconds=t},go=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};go.store="owner",go.key="owner";var rh=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};rh.store="mutationQueues",rh.keyPath="userId";var Kn=function(i,t,e,s,o){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=s,this.mutations=o};Kn.store="mutations",Kn.keyPath="batchId",Kn.userMutationsIndex="userMutationsIndex",Kn.userMutationsKeyPath=["userId","batchId"];var Xr=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,al(e)]},i.key=function(t,e,s){return[t,al(e),s]},i}();Xr.store="documentMutations",Xr.PLACEHOLDER=new Xr;var F6=function(i,t){this.path=i,this.readTime=t},P6=function(i,t){this.path=i,this.version=t},mi=function(i,t,e,s,o,c){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=s,this.readTime=o,this.parentPath=c};mi.store="remoteDocuments",mi.readTimeIndex="readTimeIndex",mi.readTimeIndexPath="readTime",mi.collectionReadTimeIndex="collectionReadTimeIndex",mi.collectionReadTimeIndexPath=["parentPath","readTime"];var cu=function(i){this.byteSize=i};cu.store="remoteDocumentGlobal",cu.key="remoteDocumentGlobalKey";var zs=function(i,t,e,s,o,c,f){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=s,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=c,this.query=f};zs.store="targets",zs.keyPath="targetId",zs.queryTargetsIndexName="queryTargetsIndex",zs.queryTargetsKeyPath=["canonicalId","targetId"];var Rr=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};Rr.store="targetDocuments",Rr.keyPath=["targetId","path"],Rr.documentTargetsIndex="documentTargetsIndex",Rr.documentTargetsKeyPath=["path","targetId"];var mo=function(i,t,e,s){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=s};mo.key="targetGlobalKey",mo.store="targetGlobal";var jp=function(i,t){this.collectionId=i,this.parent=t};jp.store="collectionParents",jp.keyPath=["collectionId","parent"];var Sc=function(i,t,e,s){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=s};Sc.store="clientMetadata",Sc.keyPath="clientId";var my=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};my.store="bundles",my.keyPath="bundleId";var _y=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};_y.store="namedQueries",_y.keyPath="name";var N6=(0,G.ev)((0,G.ev)([],(0,G.ev)((0,G.ev)([],(0,G.ev)((0,G.ev)([],(0,G.ev)((0,G.ev)([],[rh.store,Kn.store,Xr.store,mi.store,zs.store,go.store,mo.store,Rr.store]),[Sc.store])),[cu.store])),[jp.store])),[my.store,_y.store]),G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",U2=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),es=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},Pe=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(s){e.isDone=!0,e.result=s,e.nextCallback&&e.nextCallback(s)},function(s){e.isDone=!0,e.error=s,e.catchCallback&&e.catchCallback(s)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var s=this;return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(o,c){s.nextCallback=function(f){s.wrapSuccess(t,f).next(o,c)},s.catchCallback=function(f){s.wrapFailure(e,f).next(o,c)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,s){t.next(e,s)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(s){return i.reject(s)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,s){e(t)})},i.reject=function(t){return new i(function(e,s){s(t)})},i.waitFor=function(t){return new i(function(e,s){var o=0,c=0,f=!1;t.forEach(function(y){++o,y.next(function(){++c,f&&c===o&&e()},function(C){return s(C)})}),f=!0,c===o&&e()})},i.or=function(t){for(var e=i.resolve(!1),s=function(f){e=e.next(function(y){return y?i.resolve(y):f()})},o=0,c=t;o<c.length;o++)s(c[o]);return e},i.forEach=function(t,e){var s=this,o=[];return t.forEach(function(c,f){o.push(e.call(s,c,f))}),this.waitFor(o)},i}(),j2=function(){function i(t,e){var s=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new es,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){e.error?s.ft.reject(new wC(t,e.error)):s.ft.resolve()},this.transaction.onerror=function(o){var c=SF(o.target.error);s.ft.reject(new wC(t,c))}}return i.open=function(t,e,s,o){try{return new i(e,t.transaction(o,s))}catch(c){throw new wC(e,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new B6(e)},i}(),yy=function(){function i(t,e,s){this.name=t,this.version=e,this.wt=s,12.2===i._t((0,yn.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return Ne("SimpleDb","Removing database:",t),zp(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,yn.z$)(),e=i._t(t),s=0<e&&e<10,o=i.Et(t),c=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||c)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)},i.prototype.At=function(t){return(0,G.mG)(this,void 0,void 0,function(){var e,s=this;return(0,G.Jh)(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(Ne("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(c,f){var y=indexedDB.open(s.name,s.version);y.onsuccess=function(C){c(C.target.result)},y.onblocked=function(){f(new wC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=function(C){var x=C.target.error;f("VersionError"===x.name?new Fe(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wC(t,x))},y.onupgradeneeded=function(C){Ne("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',C.oldVersion),s.wt.Rt(C.target.result,y.transaction,C.oldVersion,s.version).next(function(){Ne("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:e.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return s.bt(c)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,s,o){return(0,G.mG)(this,void 0,void 0,function(){var c,f,y,C,x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:c="readonly"===e,f=0,y=function(){var R,F,V,U,Q;return(0,G.Jh)(this,function(le){switch(le.label){case 0:++f,le.label=1;case 1:return le.trys.push([1,4,,5]),[4,C.At(t)];case 2:return C.db=le.sent(),R=j2.open(C.db,t,c?"readonly":"readwrite",s),F=o(R).catch(function(ce){return R.abort(ce),Pe.reject(ce)}).toPromise(),V={},F.catch(function(){}),[4,R.dt];case 3:return[2,(V.value=(le.sent(),F),V)];case 4:return Ne("SimpleDb","Transaction failed with error:",(U=le.sent()).message,"Retrying:",Q="FirebaseError"!==U.name&&f<3),C.close(),Q?[3,5]:[2,{value:Promise.reject(U)}];case 5:return[2]}})},C=this,M.label=1;case 1:return[5,y()];case 2:if("object"==typeof(x=M.sent()))return[2,x.value];M.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),L6=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return zp(this.Pt.delete())},i}(),wC=function(i){function t(e,s){var o=this;return(o=i.call(this,we.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+s)||this).name="IndexedDbTransactionError",o}return(0,G.ZT)(t,i),t}(Fe);function Hp(i){return"IndexedDbTransactionError"===i.name}var B6=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var s;return void 0!==e?(Ne("SimpleDb","PUT",this.store.name,t,e),s=this.store.put(e,t)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),zp(s)},i.prototype.add=function(t){return Ne("SimpleDb","ADD",this.store.name,t,t),zp(this.store.add(t))},i.prototype.get=function(t){var e=this;return zp(this.store.get(t)).next(function(s){return void 0===s&&(s=null),Ne("SimpleDb","GET",e.store.name,t,s),s})},i.prototype.delete=function(t){return Ne("SimpleDb","DELETE",this.store.name,t),zp(this.store.delete(t))},i.prototype.count=function(){return Ne("SimpleDb","COUNT",this.store.name),zp(this.store.count())},i.prototype.Nt=function(t,e){var s=this.cursor(this.options(t,e)),o=[];return this.xt(s,function(c,f){o.push(f)}).next(function(){return o})},i.prototype.Ft=function(t,e){Ne("SimpleDb","DELETE ALL",this.store.name);var s=this.options(t,e);s.kt=!1;var o=this.cursor(s);return this.xt(o,function(c,f,y){return y.delete()})},i.prototype.$t=function(t,e){var s;e?s=t:(s={},e=t);var o=this.cursor(s);return this.xt(o,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new Pe(function(s,o){e.onerror=function(c){var f=SF(c.target.error);o(f)},e.onsuccess=function(c){var f=c.target.result;f?t(f.primaryKey,f.value).next(function(y){y?f.continue():s()}):s()}})},i.prototype.xt=function(t,e){var s=[];return new Pe(function(o,c){t.onerror=function(f){c(f.target.error)},t.onsuccess=function(f){var y=f.target.result;if(y){var C=new L6(y),x=e(y.primaryKey,y.value,C);if(x instanceof Pe){var M=x.catch(function(R){return C.done(),Pe.reject(R)});s.push(M)}C.isDone?o():null===C.Dt?y.continue():y.continue(C.Dt)}else o()}}).next(function(){return Pe.waitFor(s)})},i.prototype.options=function(t,e){var s;return void 0!==t&&("string"==typeof t?s=t:e=t),{index:s,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var s=this.store.index(t.index);return t.kt?s.openKeyCursor(t.range,e):s.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function zp(i){return new Pe(function(t,e){i.onsuccess=function(s){t(s.target.result)},i.onerror=function(s){var o=SF(s.target.error);e(o)}})}var H2=!1;function SF(i){var t=yy._t((0,yn.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var s=new Fe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return H2||(H2=!0,setTimeout(function(){throw s},0)),s}}return i}var z2=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).Mt=e,o.currentSequenceNumber=s,o}return(0,G.ZT)(t,i),t}(U2);function Ys(i,t){var e=je(i);return yy.It(e.Mt,t)}var xF=function(){function i(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}return i.prototype.applyToRemoteDocument=function(t,e){for(var s=e.mutationResults,o=0;o<this.mutations.length;o++){var c=this.mutations[o];c.key.isEqual(t.key)&&p6(c,t,s[o])}},i.prototype.applyToLocalView=function(t){for(var e=0,s=this.baseMutations;e<s.length;e++)(f=s[e]).key.isEqual(t.key)&&_F(f,t,this.localWriteTime);for(var o=0,c=this.mutations;o<c.length;o++){var f;(f=c[o]).key.isEqual(t.key)&&_F(f,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(s){var o=t.get(s.key),c=o;e.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(Yt.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Dn())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&sy(this.mutations,t.mutations,function(e,s){return d2(e,s)})&&sy(this.baseMutations,t.baseMutations,function(e,s){return d2(e,s)})},i}(),V6=function(){function i(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}return i.from=function(t,e,s){St(t.mutations.length===s.length);for(var o=v2(),c=t.mutations,f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new i(t,e,s,o)},i}(),VM=function(){function i(t,e,s,o,c,f,y){void 0===c&&(c=Yt.min()),void 0===f&&(f=Yt.min()),void 0===y&&(y=ys.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),Y2=function(i){this.Lt=i};function DF(i,t){if(t.document)return I2(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),s=by(t.noDocument.readTime),o=Ir.newNoDocument(e,s);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var c=ht.fromSegments(t.unknownDocument.path);return s=by(t.unknownDocument.version),Ir.newUnknownDocument(c,s)}return lt()}function q2(i,t,e){var R,F,s=AF(e),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var c={name:vC(R=i.Lt,(F=t).key),fields:F.data.value.mapValue.fields,updateTime:yC(R,F.version.toTimestamp())},f=t.hasCommittedMutations;return new mi(null,null,c,f,s,o)}if(t.isNoDocument()){var y=t.key.path.toArray(),C=vy(t.version);return f=t.hasCommittedMutations,new mi(null,new F6(y,C),null,f,s,o)}if(t.isUnknownDocument()){var x=t.key.path.toArray(),M=vy(t.version);return new mi(new P6(x,M),null,null,!0,s,o)}return lt()}function AF(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function $2(i){var t=new Hs(i[0],i[1]);return Yt.fromTimestamp(t)}function vy(i){var t=i.toTimestamp();return new k6(t.seconds,t.nanoseconds)}function by(i){var t=new Hs(i.seconds,i.nanoseconds);return Yt.fromTimestamp(t)}function wy(i,t){for(var e=(t.baseMutations||[]).map(function(C){return R2(i.Lt,C)}),s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);var f=t.mutations.map(function(C){return R2(i.Lt,C)}),y=Hs.fromMillis(t.localWriteTimeMs);return new xF(t.batchId,y,e,f)}function CC(i){var t,e,s=by(i.readTime),o=void 0!==i.lastLimboFreeSnapshotVersion?by(i.lastLimboFreeSnapshotVersion):Yt.min();return void 0!==i.query.documents?(St(1===(e=i.query).documents.length),t=fa(cy(A2(e.documents[0])))):t=fa(F2(i.query)),new VM(t,i.targetId,0,i.lastListenSequenceNumber,s,o,ys.fromBase64String(i.resumeToken))}function W2(i,t){var e,s=vy(t.snapshotVersion),o=vy(t.lastLimboFreeSnapshotVersion);e=MM(t.target)?O2(i.Lt,t.target):k2(i.Lt,t.target);var c=t.resumeToken.toBase64();return new zs(t.targetId,dC(t.target),s,c,t.sequenceNumber,o,e)}function MF(i){var t=F2({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?XV(t,t.limit,"L"):t}var G6=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return Q2(t).get(e).next(function(s){if(s)return{id:(o=s).bundleId,createTime:by(o.createTime),version:o.version};var o})},i.prototype.saveBundleMetadata=function(t,e){return Q2(t).put({bundleId:(s=e).id,createTime:vy(cr(s.createTime)),version:s.version});var s},i.prototype.getNamedQuery=function(t,e){return K2(t).get(e).next(function(s){if(s)return{name:(o=s).name,query:MF(o.bundledQuery),readTime:by(o.readTime)};var o})},i.prototype.saveNamedQuery=function(t,e){return K2(t).put({name:(s=e).name,readTime:vy(cr(s.readTime)),bundledQuery:s.bundledQuery});var s},i}();function Q2(i){return Ys(i,my.store)}function K2(i){return Ys(i,_y.store)}var U6=function(){function i(){this.Bt=new TF}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Pe.resolve()},i.prototype.getCollectionParents=function(t,e){return Pe.resolve(this.Bt.getEntries(e))},i}(),TF=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Ki(fn.comparator),c=!o.has(s);return this.index[e]=o.add(s),c},i.prototype.has=function(t){var e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)},i.prototype.getEntries=function(t){return(this.index[t]||new Ki(fn.comparator)).toArray()},i}(),j6=function(){function i(){this.qt=new TF}return i.prototype.addToCollectionParentIndex=function(t,e){var s=this;if(!this.qt.has(e)){var o=e.lastSegment(),c=e.popLast();t.addOnCommittedListener(function(){s.qt.add(e)});var f={collectionId:o,parent:al(c)};return Z2(t).put(f)}return Pe.resolve()},i.prototype.getCollectionParents=function(t,e){var s=[],o=IDBKeyRange.bound([e,""],[BV(e),""],!1,!0);return Z2(t).Nt(o).next(function(c){for(var f=0,y=c;f<y.length;f++){var C=y[f];if(C.collectionId!==e)break;s.push(Ec(C.parent))}return s})},i}();function Z2(i){return Ys(i,jp.store)}var J2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},du=function(){function i(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function X2(i,t,e){var s=i.store(Kn.store),o=i.store(Xr.store),c=[],f=IDBKeyRange.only(e.batchId),y=0,C=s.$t({range:f},function(U,Q,le){return y++,le.delete()});c.push(C.next(function(){St(1===y)}));for(var x=[],M=0,R=e.mutations;M<R.length;M++){var F=R[M],V=Xr.key(t,F.key.path,e.batchId);c.push(o.delete(V)),x.push(F.key)}return Pe.waitFor(c).next(function(){return x})}function GM(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw lt();t=i.noDocument}return JSON.stringify(t).length}du.DEFAULT_COLLECTION_PERCENTILE=10,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,du.DEFAULT=new du(41943040,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),du.DISABLED=new du(-1,0,0);var H6=function(){function i(t,e,s,o){this.userId=t,this.R=e,this.Ut=s,this.referenceDelegate=o,this.Kt={}}return i.Qt=function(t,e,s,o){return St(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,s,o)},i.prototype.checkEmpty=function(t){var e=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sh(t).$t({index:Kn.userMutationsIndex,range:s},function(o,c,f){e=!1,f.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,s,o){var c=this,f=Cy(t),y=sh(t);return y.add({}).next(function(C){St("number"==typeof C);for(var x=new xF(C,e,s,o),M=function(ce,Ae,Ie){var qe=Ie.baseMutations.map(function(Nt){return BM(ce.Lt,Nt)}),Ke=Ie.mutations.map(function(Nt){return BM(ce.Lt,Nt)});return new Kn(Ae,Ie.batchId,Ie.localWriteTime.toMillis(),qe,Ke)}(c.R,c.userId,x),R=[],F=new Ki(function(ce,Ae){return Jt(ce.canonicalString(),Ae.canonicalString())}),V=0,U=o;V<U.length;V++){var Q=U[V],le=Xr.key(c.userId,Q.key.path,C);F=F.add(Q.key.path.popLast()),R.push(y.put(M)),R.push(f.put(le,Xr.PLACEHOLDER))}return F.forEach(function(ce){R.push(c.Ut.addToCollectionParentIndex(t,ce))}),t.addOnCommittedListener(function(){c.Kt[C]=x.keys()}),Pe.waitFor(R).next(function(){return x})})},i.prototype.lookupMutationBatch=function(t,e){var s=this;return sh(t).get(e).next(function(o){return o?(St(o.userId===s.userId),wy(s.R,o)):null})},i.prototype.jt=function(t,e){var s=this;return this.Kt[e]?Pe.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(o){if(o){var c=o.keys();return s.Kt[e]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var s=this,o=e+1,c=IDBKeyRange.lowerBound([this.userId,o]),f=null;return sh(t).$t({index:Kn.userMutationsIndex,range:c},function(y,C,x){C.userId===s.userId&&(St(C.batchId>=o),f=wy(s.R,C)),x.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return sh(t).$t({index:Kn.userMutationsIndex,range:e,reverse:!0},function(o,c,f){s=c.batchId,f.done()}).next(function(){return s})},i.prototype.getAllMutationBatches=function(t){var e=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sh(t).Nt(Kn.userMutationsIndex,s).next(function(o){return o.map(function(c){return wy(e.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var s=this,o=Xr.prefixForPath(this.userId,e.path),c=IDBKeyRange.lowerBound(o),f=[];return Cy(t).$t({range:c},function(y,C,x){var M=y[0],F=y[2],V=Ec(y[1]);if(M===s.userId&&e.path.isEqual(V))return sh(t).get(F).next(function(U){if(!U)throw lt();St(U.userId===s.userId),f.push(wy(s.R,U))});x.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var s=this,o=new Ki(Jt),c=[];return e.forEach(function(f){var y=Xr.prefixForPath(s.userId,f.path),C=IDBKeyRange.lowerBound(y),x=Cy(t).$t({range:C},function(M,R,F){var V=M[0],Q=M[2],le=Ec(M[1]);V===s.userId&&f.path.isEqual(le)?o=o.add(Q):F.done()});c.push(x)}),Pe.waitFor(c).next(function(){return s.Wt(t,o)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var s=this,o=e.path,c=o.length+1,f=Xr.prefixForPath(this.userId,o),y=IDBKeyRange.lowerBound(f),C=new Ki(Jt);return Cy(t).$t({range:y},function(x,M,R){var F=x[0],U=x[2],Q=Ec(x[1]);F===s.userId&&o.isPrefixOf(Q)?Q.length===c&&(C=C.add(U)):R.done()}).next(function(){return s.Wt(t,C)})},i.prototype.Wt=function(t,e){var s=this,o=[],c=[];return e.forEach(function(f){c.push(sh(t).get(f).next(function(y){if(null===y)throw lt();St(y.userId===s.userId),o.push(wy(s.R,y))}))}),Pe.waitFor(c).next(function(){return o})},i.prototype.removeMutationBatch=function(t,e){var s=this;return X2(t.Mt,this.userId,e).next(function(o){return t.addOnCommittedListener(function(){s.Gt(e.batchId)}),Pe.forEach(o,function(c){return s.referenceDelegate.markPotentiallyOrphaned(t,c)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(s){if(!s)return Pe.resolve();var o=IDBKeyRange.lowerBound(Xr.prefixForUser(e.userId)),c=[];return Cy(t).$t({range:o},function(f,y,C){if(f[0]===e.userId){var x=Ec(f[1]);c.push(x)}else C.done()}).next(function(){St(0===c.length)})})},i.prototype.containsKey=function(t,e){return e3(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return t3(t).get(this.userId).next(function(s){return s||new rh(e.userId,-1,"")})},i}();function e3(i,t,e){var s=Xr.prefixForPath(t,e.path),o=s[1],c=IDBKeyRange.lowerBound(s),f=!1;return Cy(i).$t({range:c,kt:!0},function(y,C,x){y[0]===t&&y[1]===o&&(f=!0),x.done()}).next(function(){return f})}function sh(i){return Ys(i,Kn.store)}function Cy(i){return Ys(i,Xr.store)}function t3(i){return Ys(i,rh.store)}var UM=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),z6=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(s){var o=new UM(s.highestTargetId);return s.highestTargetId=o.next(),e.Zt(t,s).next(function(){return s.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return Yt.fromTimestamp(new Hs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,s){var o=this;return this.Xt(t).next(function(c){return c.highestListenSequenceNumber=e,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),e>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=e),o.Zt(t,c)})},i.prototype.addTargetData=function(t,e){var s=this;return this.te(t,e).next(function(){return s.Xt(t).next(function(o){return o.targetCount+=1,s.ee(e,o),s.Zt(t,o)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var s=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Ey(t).delete(e.targetId)}).next(function(){return s.Xt(t)}).next(function(o){return St(o.targetCount>0),o.targetCount-=1,s.Zt(t,o)})},i.prototype.removeTargets=function(t,e,s){var o=this,c=0,f=[];return Ey(t).$t(function(y,C){var x=CC(C);x.sequenceNumber<=e&&null===s.get(x.targetId)&&(c++,f.push(o.removeTargetData(t,x)))}).next(function(){return Pe.waitFor(f)}).next(function(){return c})},i.prototype.forEachTarget=function(t,e){return Ey(t).$t(function(s,o){var c=CC(o);e(c)})},i.prototype.Xt=function(t){return n3(t).get(mo.key).next(function(e){return St(null!==e),e})},i.prototype.Zt=function(t,e){return n3(t).put(mo.key,e)},i.prototype.te=function(t,e){return Ey(t).put(W2(this.R,e))},i.prototype.ee=function(t,e){var s=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,s=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,s=!0),s},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var s=dC(e),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),c=null;return Ey(t).$t({range:o,index:zs.queryTargetsIndexName},function(f,y,C){var x=CC(y);AM(e,x.target)&&(c=x,C.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(t,e,s){var o=this,c=[],f=oh(t);return e.forEach(function(y){var C=al(y.path);c.push(f.put(new Rr(s,C))),c.push(o.referenceDelegate.addReference(t,s,y))}),Pe.waitFor(c)},i.prototype.removeMatchingKeys=function(t,e,s){var o=this,c=oh(t);return Pe.forEach(e,function(f){var y=al(f.path);return Pe.waitFor([c.delete([s,y]),o.referenceDelegate.removeReference(t,s,f)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var s=oh(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(o)},i.prototype.getMatchingKeysForTargetId=function(t,e){var s=IDBKeyRange.bound([e],[e+1],!1,!0),o=oh(t),c=Dn();return o.$t({range:s,kt:!0},function(f,y,C){var x=Ec(f[1]),M=new ht(x);c=c.add(M)}).next(function(){return c})},i.prototype.containsKey=function(t,e){var s=al(e.path),o=IDBKeyRange.bound([s],[BV(s)],!1,!0),c=0;return oh(t).$t({index:Rr.documentTargetsIndex,kt:!0,range:o},function(f,y,C){0!==f[0]&&(c++,C.done())}).next(function(){return c>0})},i.prototype.lt=function(t,e){return Ey(t).get(e).next(function(s){return s?CC(s):null})},i}();function Ey(i){return Ys(i,zs.store)}function n3(i){return Ys(i,mo.store)}function oh(i){return Ys(i,Rr.store)}function Yp(i){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){if(i.code!==we.FAILED_PRECONDITION||i.message!==G2)throw i;return Ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}function i3(i,t){var s=i[1],c=t[1],f=Jt(i[0],t[0]);return 0===f?Jt(s,c):f}var Y6=function(){function i(t){this.ne=t,this.buffer=new Ki(i3),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var s=this.buffer.last();i3(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),q6=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,s=this.oe?3e5:6e4;Ne("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,G.mG)(e,void 0,void 0,function(){var o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return Hp(o=c.sent())?(Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Yp(o)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return c.sent(),[2]}})})})},i}(),$6=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(s){return Math.floor(e/100*s)})},i.prototype.nthSequenceNumber=function(t,e){var s=this;if(0===e)return Pe.resolve(ho.o);var o=new Y6(e);return this.ae.forEachTarget(t,function(c){return o.re(c.sequenceNumber)}).next(function(){return s.ae.le(t,function(c){return o.re(c)})}).next(function(){return o.maxValue})},i.prototype.removeTargets=function(t,e,s){return this.ae.removeTargets(t,e,s)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(J2)):this.getCacheSize(t).next(function(o){return o<s.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),J2):s.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var s,o,c,f,y,C,x,M=this,R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(F){return F>M.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+M.params.maximumSequenceNumbersToCollect+" from "+F),o=M.params.maximumSequenceNumbersToCollect):o=F,f=Date.now(),M.nthSequenceNumber(t,o)}).next(function(F){return s=F,y=Date.now(),M.removeTargets(t,s,e)}).next(function(F){return c=F,C=Date.now(),M.removeOrphanedDocuments(t,s)}).next(function(F){return x=Date.now(),oF()<=Rp.in.DEBUG&&Ne("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-R)+"ms\n\tDetermined least recently used "+o+" in "+(y-f)+"ms\n\tRemoved "+c+" targets in "+(C-y)+"ms\n\tRemoved "+F+" documents in "+(x-C)+"ms\nTotal Duration: "+(x-R)+"ms"),Pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:F})})},i}(),W6=function(){function i(t,e){this.db=t,this.garbageCollector=new $6(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(s){return e.next(function(o){return s+o})})},i.prototype.de=function(t){var e=0;return this.le(t,function(s){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(s,o){return e(o)})},i.prototype.addReference=function(t,e,s){return jM(t,s)},i.prototype.removeReference=function(t,e,s){return jM(t,s)},i.prototype.removeTargets=function(t,e,s){return this.db.getTargetCache().removeTargets(t,e,s)},i.prototype.markPotentiallyOrphaned=function(t,e){return jM(t,e)},i.prototype._e=function(t,e){return o=e,c=!1,t3(s=t).Ot(function(f){return e3(s,f,o).next(function(y){return y&&(c=!0),Pe.resolve(!y)})}).next(function(){return c});var s,o,c},i.prototype.removeOrphanedDocuments=function(t,e){var s=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],f=0;return this.we(t,function(y,C){if(C<=e){var x=s._e(t,y).next(function(M){if(!M)return f++,o.getEntry(t,y).next(function(){return o.removeEntry(y),oh(t).delete([0,al(y.path)])})});c.push(x)}}).next(function(){return Pe.waitFor(c)}).next(function(){return o.apply(t)}).next(function(){return f})},i.prototype.removeTarget=function(t,e){var s=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)},i.prototype.updateLimboDocument=function(t,e){return jM(t,e)},i.prototype.we=function(t,e){var s,o=oh(t),c=ho.o;return o.$t({index:Rr.documentTargetsIndex},function(f,y){var x=y.path,M=y.sequenceNumber;0===f[0]?(c!==ho.o&&e(new ht(Ec(s)),c),c=M,s=x):c=ho.o}).next(function(){c!==ho.o&&e(new ht(Ec(s)),c)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function jM(i,t){return oh(i).put((s=i.currentSequenceNumber,new Rr(0,al(t.path),s)));var s}var Sy=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),s=this.inner[e];if(void 0!==s)for(var o=0,c=s;o<c.length;o++){var f=c[o],C=f[1];if(this.equalsFn(f[0],t))return C}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var s=this.mapKeyFn(t),o=this.inner[s];if(void 0!==o){for(var c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,e]);o.push([t,e])}else this.inner[s]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),s=this.inner[e];if(void 0===s)return!1;for(var o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return 1===s.length?delete this.inner[e]:s.splice(o,1),!0;return!1},i.prototype.forEach=function(t){Lp(this.inner,function(e,s){for(var o=0,c=s;o<c.length;o++){var f=c[o];t(f[0],f[1])}})},i.prototype.isEmpty=function(){return GV(this.inner)},i}(),r3=function(){function i(){this.changes=new Sy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Yt.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ir.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var s=this.changes.get(e);return void 0!==s?Pe.resolve(s.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),Q6=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,s){return ah(t).put(HM(e),s)},i.prototype.removeEntry=function(t,e){var s=ah(t),o=HM(e);return s.delete(o)},i.prototype.updateMetadata=function(t,e){var s=this;return this.getMetadata(t).next(function(o){return o.byteSize+=e,s.me(t,o)})},i.prototype.getEntry=function(t,e){var s=this;return ah(t).get(HM(e)).next(function(o){return s.ye(e,o)})},i.prototype.ge=function(t,e){var s=this;return ah(t).get(HM(e)).next(function(o){return{document:s.ye(e,o),size:GM(o)}})},i.prototype.getEntries=function(t,e){var s=this,o=pa();return this.pe(t,e,function(c,f){var y=s.ye(c,f);o=o.insert(c,y)}).next(function(){return o})},i.prototype.Ee=function(t,e){var s=this,o=pa(),c=new Jr(ht.comparator);return this.pe(t,e,function(f,y){var C=s.ye(f,y);o=o.insert(f,C),c=c.insert(f,GM(y))}).next(function(){return{documents:o,Te:c}})},i.prototype.pe=function(t,e,s){if(e.isEmpty())return Pe.resolve();var o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator(),f=c.getNext();return ah(t).$t({range:o},function(y,C,x){for(var M=ht.fromSegments(y);f&&ht.comparator(f,M)<0;)s(f,null),f=c.getNext();f&&f.isEqual(M)&&(s(f,C),f=c.hasNext()?c.getNext():null),f?x.Ct(f.path.toArray()):x.done()}).next(function(){for(;f;)s(f,null),f=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,s){var o=this,c=pa(),f=e.path.length+1,y={};if(s.isEqual(Yt.min())){var C=e.path.toArray();y.range=IDBKeyRange.lowerBound(C)}else{var x=e.path.toArray(),M=AF(s);y.range=IDBKeyRange.lowerBound([x,M],!0),y.index=mi.collectionReadTimeIndex}return ah(t).$t(y,function(R,F,V){if(R.length===f){var U=DF(o.R,F);e.path.isPrefixOf(U.key.path)?pC(e,U)&&(c=c.insert(U.key,U)):V.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(t){return new K6(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return s3(t).get(cu.key).next(function(e){return St(!!e),e})},i.prototype.me=function(t,e){return s3(t).put(cu.key,e)},i.prototype.ye=function(t,e){if(e){var s=DF(this.R,e);if(!s.isNoDocument()||!s.version.isEqual(Yt.min()))return s}return Ir.newInvalidDocument(t)},i}(),K6=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).Ie=e,o.trackRemovals=s,o.Ae=new Sy(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),o}return(0,G.ZT)(t,i),t.prototype.applyChanges=function(e){var s=this,o=[],c=0,f=new Ki(function(y,C){return Jt(y.canonicalString(),C.canonicalString())});return this.changes.forEach(function(y,C){var x=s.Ae.get(y);if(C.document.isValidDocument()){var M=q2(s.Ie.R,C.document,s.getReadTime(y));f=f.add(y.path.popLast());var R=GM(M);c+=R-x,o.push(s.Ie.addEntry(e,y,M))}else if(c-=x,s.trackRemovals){var F=q2(s.Ie.R,Ir.newNoDocument(y,Yt.min()),s.getReadTime(y));o.push(s.Ie.addEntry(e,y,F))}else o.push(s.Ie.removeEntry(e,y))}),f.forEach(function(y){o.push(s.Ie.Ut.addToCollectionParentIndex(e,y))}),o.push(this.Ie.updateMetadata(e,c)),Pe.waitFor(o)},t.prototype.getFromCache=function(e,s){var o=this;return this.Ie.ge(e,s).next(function(c){return o.Ae.set(s,c.size),c.document})},t.prototype.getAllFromCache=function(e,s){var o=this;return this.Ie.Ee(e,s).next(function(c){var f=c.documents;return c.Te.forEach(function(y,C){o.Ae.set(y,C)}),f})},t}(r3);function s3(i){return Ys(i,cu.store)}function ah(i){return Ys(i,mi.store)}function HM(i){return i.path.toArray()}var Z6=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,s,o){var c=this;St(s<o&&s>=0&&o<=11);var C,f=new j2("createOrUpgrade",e);s<1&&o>=1&&(t.createObjectStore(go.store),(C=t).createObjectStore(rh.store,{keyPath:rh.keyPath}),C.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0}),C.createObjectStore(Xr.store),o3(t),function(C){C.createObjectStore(mi.store)}(t));var y=Pe.resolve();return s<3&&o>=3&&(0!==s&&(function(C){C.deleteObjectStore(Rr.store),C.deleteObjectStore(zs.store),C.deleteObjectStore(mo.store)}(t),o3(t)),y=y.next(function(){return function(C){var x=C.store(mo.store),M=new mo(0,0,Yt.min().toTimestamp(),0);return x.put(mo.key,M)}(f)})),s<4&&o>=4&&(0!==s&&(y=y.next(function(){return function(C,x){return x.store(Kn.store).Nt().next(function(M){C.deleteObjectStore(Kn.store),C.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0});var R=x.store(Kn.store),F=M.map(function(V){return R.put(V)});return Pe.waitFor(F)})}(t,f)})),y=y.next(function(){!function(C){C.createObjectStore(Sc.store,{keyPath:Sc.keyPath})}(t)})),s<5&&o>=5&&(y=y.next(function(){return c.Re(f)})),s<6&&o>=6&&(y=y.next(function(){return function(C){C.createObjectStore(cu.store)}(t),c.be(f)})),s<7&&o>=7&&(y=y.next(function(){return c.ve(f)})),s<8&&o>=8&&(y=y.next(function(){return c.Pe(t,f)})),s<9&&o>=9&&(y=y.next(function(){(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(t),function(C){var x=C.objectStore(mi.store);x.createIndex(mi.readTimeIndex,mi.readTimeIndexPath,{unique:!1}),x.createIndex(mi.collectionReadTimeIndex,mi.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&o>=10&&(y=y.next(function(){return c.Ve(f)})),s<11&&o>=11&&(y=y.next(function(){(function(C){C.createObjectStore(my.store,{keyPath:my.keyPath})})(t),function(C){C.createObjectStore(_y.store,{keyPath:_y.keyPath})}(t)})),y},i.prototype.be=function(t){var e=0;return t.store(mi.store).$t(function(s,o){e+=GM(o)}).next(function(){var s=new cu(e);return t.store(cu.store).put(cu.key,s)})},i.prototype.Re=function(t){var e=this,s=t.store(rh.store),o=t.store(Kn.store);return s.Nt().next(function(c){return Pe.forEach(c,function(f){var y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Nt(Kn.userMutationsIndex,y).next(function(C){return Pe.forEach(C,function(x){St(x.userId===f.userId);var M=wy(e.R,x);return X2(t,f.userId,M).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(Rr.store),s=t.store(mi.store);return t.store(mo.store).get(mo.key).next(function(o){var c=[];return s.$t(function(f,y){var C=new fn(f),x=[0,al(C)];c.push(e.get(x).next(function(M){return M?Pe.resolve():e.put(new Rr(0,al(C),o.highestListenSequenceNumber))}))}).next(function(){return Pe.waitFor(c)})})},i.prototype.Pe=function(t,e){t.createObjectStore(jp.store,{keyPath:jp.keyPath});var s=e.store(jp.store),o=new TF,c=function(f){if(o.add(f)){var y=f.lastSegment(),C=f.popLast();return s.put({collectionId:y,parent:al(C)})}};return e.store(mi.store).$t({kt:!0},function(f,y){var C=new fn(f);return c(C.popLast())}).next(function(){return e.store(Xr.store).$t({kt:!0},function(f,y){var x=Ec(f[1]);return c(x.popLast())})})},i.prototype.Ve=function(t){var e=this,s=t.store(zs.store);return s.$t(function(o,c){var f=CC(c),y=W2(e.R,f);return s.put(y)})},i}();function o3(i){i.createObjectStore(Rr.store,{keyPath:Rr.keyPath}).createIndex(Rr.documentTargetsIndex,Rr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(zs.store,{keyPath:zs.keyPath}).createIndex(zs.queryTargetsIndexName,zs.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(mo.store)}var IF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",J6=function(){function i(t,e,s,o,c,f,y,C,x,M){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=s,this.Se=c,this.window=f,this.document=y,this.De=x,this.Ce=M,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(R){return Promise.resolve()},!i.yt())throw new Fe(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new W6(this,o),this.Le=e+"main",this.R=new Y2(C),this.Be=new yy(this.Le,11,new Z6(this.R)),this.qe=new z6(this.referenceDelegate,this.R),this.Ut=new j6,this.Ue=new Q6(this.R,this.Ut),this.Ke=new G6,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===M&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,IF);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ho(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(s){return(0,G.mG)(e,void 0,void 0,function(){return(0,G.Jh)(this,function(o){return this.started?[2,t(s)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(s){return(0,G.mG)(e,void 0,void 0,function(){return(0,G.Jh)(this,function(o){switch(o.label){case 0:return null===s.newVersion?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,G.mG)(e,void 0,void 0,function(){return(0,G.Jh)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return zM(e).put(new Sc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(s){s||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(s){return t.isPrimary&&!s?t.Xe(e).next(function(){return!1}):!!s&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Hp(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return EC(t).get(go.key).next(function(s){return Pe.resolve(e.tn(s))})},i.prototype.en=function(t){return zM(t).delete(this.clientId)},i.prototype.nn=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s,c=this;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(y){var C=Ys(y,Sc.store);return C.Nt().next(function(x){var M=c.rn(x,18e5),R=x.filter(function(F){return-1===M.indexOf(F)});return Pe.forEach(R,function(F){return C.delete(F.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(t=f.sent(),this.Qe)for(e=0,s=t;e<s.length;e++)this.Qe.removeItem(this.on(s[e].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?Pe.resolve(!0):EC(t).get(go.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)){if(e.tn(s)&&e.networkEnabled)return!0;if(!e.tn(s)){if(!s.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,IF);return!1}}return!(!e.networkEnabled||!e.inForeground)||zM(t).Nt().next(function(o){return void 0===e.rn(o,5e3).find(function(c){return!(e.clientId===c.clientId||!(!e.networkEnabled&&c.networkEnabled||!e.inForeground&&c.inForeground&&e.networkEnabled===c.networkEnabled))})})}).next(function(s){return e.isPrimary!==s&&Ne("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},i.prototype.shutdown=function(){return(0,G.mG)(this,void 0,void 0,function(){var t=this;return(0,G.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[go.store,Sc.store],function(s){var o=new z2(s,ho.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var s=this;return t.filter(function(o){return s.sn(o.updateTimeMs,e)&&!s.cn(o.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return zM(e).Nt().next(function(s){return t.rn(s,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return H6.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,s){var c,o=this;return Ne("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",N6,function(y){return c=new z2(y,o.Ne?o.Ne.next():ho.o),"readwrite-primary"===e?o.Je(c).next(function(C){return!!C||o.Ye(c)}).next(function(C){if(!C)throw Li("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Fe(we.FAILED_PRECONDITION,G2);return s(c)}).next(function(C){return o.Ze(c).next(function(){return C})}):o.dn(c).next(function(){return s(c)})}).then(function(y){return c.raiseOnCommittedEvent(),y})},i.prototype.dn=function(t){var e=this;return EC(t).get(go.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)&&!e.tn(s)&&!(e.Ce||e.allowTabSynchronization&&s.allowTabSynchronization))throw new Fe(we.FAILED_PRECONDITION,IF)})},i.prototype.Ze=function(t){var e=new go(this.clientId,this.allowTabSynchronization,Date.now());return EC(t).put(go.key,e)},i.yt=function(){return yy.yt()},i.prototype.Xe=function(t){var e=this,s=EC(t);return s.get(go.key).next(function(o){return e.tn(o)?(Ne("IndexedDbPersistence","Releasing primary lease."),s.delete(go.key)):Pe.resolve()})},i.prototype.sn=function(t,e){var s=Date.now();return!(t<s-e||t>s&&(Li("Detected an update time that is in the future: "+t+" > "+s),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,yn.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},i.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},i.prototype.cn=function(t){var e;try{var s=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ne("IndexedDbPersistence","Client '"+t+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(o){return Li("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Li("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function EC(i){return Ys(i,go.store)}function zM(i){return Ys(i,Sc.store)}function RF(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var X6=function(i,t){this.progress=i,this.wn=t},a3=function(){function i(t,e,s){this.Ue=t,this._n=e,this.Ut=s}return i.prototype.mn=function(t,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(o){return s.yn(t,e,o)})},i.prototype.yn=function(t,e,s){return this.Ue.getEntry(t,e).next(function(o){for(var c=0,f=s;c<f.length;c++)f[c].applyToLocalView(o);return o})},i.prototype.gn=function(t,e){t.forEach(function(s,o){for(var c=0,f=e;c<f.length;c++)f[c].applyToLocalView(o)})},i.prototype.pn=function(t,e){var s=this;return this.Ue.getEntries(t,e).next(function(o){return s.En(t,o).next(function(){return o})})},i.prototype.En=function(t,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(o){return s.gn(e,o)})},i.prototype.getDocumentsMatchingQuery=function(t,e,s){return ht.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Tn(t,e.path):gF(e)?this.In(t,e,s):this.An(t,e,s);var o},i.prototype.Tn=function(t,e){return this.mn(t,new ht(e)).next(function(s){var o=vF();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})},i.prototype.In=function(t,e,s){var o=this,c=e.collectionGroup,f=vF();return this.Ut.getCollectionParents(t,c).next(function(y){return Pe.forEach(y,function(C){var M,R,x=(M=e,R=C.child(c),new Cc(R,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));return o.An(t,x,s).next(function(M){M.forEach(function(R,F){f=f.insert(R,F)})})}).next(function(){return f})})},i.prototype.An=function(t,e,s){var o,c,f=this;return this.Ue.getDocumentsMatchingQuery(t,e,s).next(function(y){return o=y,f._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(y){return f.Rn(t,c=y,o).next(function(C){o=C;for(var x=0,M=c;x<M.length;x++)for(var R=M[x],F=0,V=R.mutations;F<V.length;F++){var U=V[F],Q=U.key,le=o.get(Q);null==le&&(le=Ir.newInvalidDocument(Q),o=o.insert(Q,le)),_F(U,le,R.localWriteTime),le.isFoundDocument()||(o=o.remove(Q))}})}).next(function(){return o.forEach(function(y,C){pC(e,C)||(o=o.remove(y))}),o})},i.prototype.Rn=function(t,e,s){for(var o=Dn(),c=0,f=e;c<f.length;c++)for(var y=0,C=f[c].mutations;y<C.length;y++){var x=C[y];x instanceof nh&&null===s.get(x.key)&&(o=o.add(x.key))}var M=s;return this.Ue.getEntries(t,o).next(function(R){return R.forEach(function(F,V){V.isFoundDocument()&&(M=M.insert(F,V))}),M})},i}(),e4=function(){function i(t,e,s,o){this.targetId=t,this.fromCache=e,this.bn=s,this.vn=o}return i.Pn=function(t,e){for(var s=Dn(),o=Dn(),c=0,f=e.docChanges;c<f.length;c++){var y=f[c];switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:o=o.add(y.doc.key)}}return new i(t,e.fromCache,s,o)},i}(),l3=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,s,o){var f,c=this;return 0===(f=e).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||s.isEqual(Yt.min())?this.Dn(t,e):this.Sn.pn(t,o).next(function(f){var y=c.Cn(e,f);return(IM(e)||RM(e))&&c.Nn(e.limitType,y,o,s)?c.Dn(t,e):(oF()<=Rp.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mF(e)),c.Sn.getDocumentsMatchingQuery(t,e,s).next(function(C){return y.forEach(function(x){C=C.insert(x.key,x)}),C}))})},i.prototype.Cn=function(t,e){var s=new Ki(t2(t));return e.forEach(function(o,c){pC(t,c)&&(s=s.add(c))}),s},i.prototype.Nn=function(t,e,s,o){if(s.size!==e.size)return!0;var c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)},i.prototype.Dn=function(t,e){return oF()<=Rp.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",mF(e)),this.Sn.getDocumentsMatchingQuery(t,e,Yt.min())},i}(),t4=function(){function i(t,e,s,o){this.persistence=t,this.xn=e,this.R=o,this.Fn=new Jr(Jt),this.kn=new Sy(function(c){return dC(c)},AM),this.$n=Yt.min(),this._n=t.getMutationQueue(s),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new a3(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return t.collect(s,e.Fn)})},i}();function u3(i,t,e,s){return new t4(i,t,e,s)}function c3(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o,c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return e=je(i),s=e._n,o=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(y){var C;return e._n.getAllMutationBatches(y).next(function(x){return C=x,s=e.persistence.getMutationQueue(t),o=new a3(e.On,s,e.persistence.getIndexManager()),s.getAllMutationBatches(y)}).next(function(x){for(var M=[],R=[],F=Dn(),V=0,U=C;V<U.length;V++){var Q=U[V];M.push(Q.batchId);for(var le=0,ce=Q.mutations;le<ce.length;le++)F=F.add(ce[le].key)}for(var Ie=0,qe=x;Ie<qe.length;Ie++){var Ke=qe[Ie];R.push(Ke.batchId);for(var Nt=0,on=Ke.mutations;Nt<on.length;Nt++)F=F.add(on[Nt].key)}return o.pn(y,F).next(function(bs){return{Ln:bs,removedBatchIds:M,addedBatchIds:R}})})})];case 1:return c=f.sent(),[2,(e._n=s,e.Mn=o,e.xn.Vn(e.Mn),c)]}})})}function n4(i,t){var e=je(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var f,y,C,x,M,R,F,o=t.batch.keys(),c=e.On.newChangeBuffer({trackRemovals:!0});return(f=e,y=s,C=t,x=c,M=C.batch,R=M.keys(),F=Pe.resolve(),R.forEach(function(V){F=F.next(function(){return x.getEntry(y,V)}).next(function(U){var Q=C.docVersions.get(V);St(null!==Q),U.version.compareTo(Q)<0&&(M.applyToRemoteDocument(U,C),U.isValidDocument()&&x.addEntry(U,C.commitVersion))})}),F.next(function(){return f._n.removeMutationBatch(y,M)})).next(function(){return c.apply(s)}).next(function(){return e._n.performConsistencyCheck(s)}).next(function(){return e.Mn.pn(s,o)})})}function d3(i){var t=je(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function i4(i,t){var e=je(i),s=t.snapshotVersion,o=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var f=e.On.newChangeBuffer({trackRemovals:!0});o=e.Fn;var y=[];t.targetChanges.forEach(function(M,R){var Q,le,ce,F=o.get(R);if(F){y.push(e.qe.removeMatchingKeys(c,M.removedDocuments,R).next(function(){return e.qe.addMatchingKeys(c,M.addedDocuments,R)}));var V=M.resumeToken;if(V.approximateByteSize()>0){var U=F.withResumeToken(V,s).withSequenceNumber(c.currentSequenceNumber);o=o.insert(R,U),Q=F,ce=M,St((le=U).resumeToken.approximateByteSize()>0),(0===Q.resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&y.push(e.qe.updateTargetData(c,U))}}});var C=pa();if(t.documentUpdates.forEach(function(M,R){t.resolvedLimboDocuments.has(M)&&y.push(e.persistence.referenceDelegate.updateLimboDocument(c,M))}),y.push(h3(c,f,t.documentUpdates,s,void 0).next(function(M){C=M})),!s.isEqual(Yt.min())){var x=e.qe.getLastRemoteSnapshotVersion(c).next(function(M){return e.qe.setTargetsMetadata(c,c.currentSequenceNumber,s)});y.push(x)}return Pe.waitFor(y).next(function(){return f.apply(c)}).next(function(){return e.Mn.En(c,C)}).next(function(){return C})}).then(function(c){return e.Fn=o,c})}function h3(i,t,e,s,o){var c=Dn();return e.forEach(function(f){return c=c.add(f)}),t.getEntries(i,c).next(function(f){var y=pa();return e.forEach(function(C,x){var M=f.get(C),R=(null==o?void 0:o.get(C))||s;x.isNoDocument()&&x.version.isEqual(Yt.min())?(t.removeEntry(C,R),y=y.insert(C,x)):!M.isValidDocument()||x.version.compareTo(M.version)>0||0===x.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(x,R),y=y.insert(C,x)):Ne("LocalStore","Ignoring outdated watch update for ",C,". Current version:",M.version," Watch version:",x.version)}),y})}function r4(i,t){var e=je(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(s,t)})}function xy(i,t){var e=je(i);return e.persistence.runTransaction("Allocate target","readwrite",function(s){var o;return e.qe.getTargetData(s,t).next(function(c){return c?Pe.resolve(o=c):e.qe.allocateTargetId(s).next(function(f){return o=new VM(t,f,0,s.currentSequenceNumber),e.qe.addTargetData(s,o).next(function(){return o})})})}).then(function(s){var o=e.Fn.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(s.targetId,s),e.kn.set(t,s.targetId)),s})}function Dy(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:s=je(i),o=s.Fn.get(t),c=e?"readwrite":"readwrite-primary",y.label=1;case 1:return y.trys.push([1,4,,5]),e?[3,3]:[4,s.persistence.runTransaction("Release target",c,function(C){return s.persistence.referenceDelegate.removeTarget(C,o)})];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:if(!Hp(f=y.sent()))throw f;return Ne("LocalStore","Failed to update sequence numbers for target "+t+": "+f),[3,5];case 5:return s.Fn=s.Fn.remove(t),s.kn.delete(o.target),[2]}})})}function YM(i,t,e){var s=je(i),o=Yt.min(),c=Dn();return s.persistence.runTransaction("Execute query","readonly",function(f){return(y=s,C=f,x=fa(t),M=je(y),R=M.kn.get(x),void 0!==R?Pe.resolve(M.Fn.get(R)):M.qe.getTargetData(C,x)).next(function(y){if(y)return o=y.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(f,y.targetId).next(function(C){c=C})}).next(function(){return s.xn.getDocumentsMatchingQuery(f,t,e?o:Yt.min(),e?c:Dn())}).next(function(y){return{documents:y,Bn:c}});var y,C,x,M,R})}function f3(i,t){var e=je(i),s=je(e.qe),o=e.Fn.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",function(c){return s.lt(c,t).next(function(f){return f?f.target:null})})}function p3(i){var t=je(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return o=e,c=t.$n,f=je(t.On),y=pa(),C=AF(c),x=ah(o),M=IDBKeyRange.lowerBound(C,!0),x.$t({index:mi.readTimeIndex,range:M},function(R,F){var V=DF(f.R,F);y=y.insert(V.key,V),C=F.readTime}).next(function(){return{wn:y,readTime:$2(C)}});var o,c,f,y,C,x,M}).then(function(e){var s=e.wn;return t.$n=e.readTime,s})}function s4(i){return(0,G.mG)(this,void 0,void 0,function(){var t;return(0,G.Jh)(this,function(e){return[2,(t=je(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return c=ah(s),f=Yt.min(),c.$t({index:mi.readTimeIndex,reverse:!0},function(y,C,x){C.readTime&&(f=$2(C.readTime)),x.done()}).next(function(){return f});var c,f}).then(function(s){t.$n=s})]})})}function o4(i,t,e,s){return(0,G.mG)(this,void 0,void 0,function(){var o,c,f,y,C,x,M,R,F,V;return(0,G.Jh)(this,function(U){switch(U.label){case 0:for(o=je(i),c=Dn(),f=pa(),y=v2(),C=0,x=e;C<x.length;C++)R=t.qn((M=x[C]).metadata.name),M.document&&(c=c.add(R)),f=f.insert(R,t.Un(M)),y=y.insert(R,t.Kn(M.metadata.readTime));return F=o.On.newChangeBuffer({trackRemovals:!0}),[4,xy(o,(Q=s,fa(cy(fn.fromString("__bundle__/docs/"+Q)))))];case 1:return V=U.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(Q){return h3(Q,F,f,Yt.min(),y).next(function(le){return F.apply(Q),le}).next(function(le){return o.qe.removeMatchingKeysForTargetId(Q,V.targetId).next(function(){return o.qe.addMatchingKeys(Q,c,V.targetId)}).next(function(){return o.Mn.En(Q,le)}).next(function(){return le})})})]}var Q})})}function a4(i,t,e){return void 0===e&&(e=Dn()),(0,G.mG)(this,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,xy(i,fa(MF(t.bundledQuery)))];case 1:return s=c.sent(),[2,(o=je(i)).persistence.runTransaction("Save named query","readwrite",function(f){var y=cr(t.readTime);if(s.snapshotVersion.compareTo(y)>=0)return o.Ke.saveNamedQuery(f,t);var C=s.withResumeToken(ys.EMPTY_BYTE_STRING,y);return o.Fn=o.Fn.insert(C.targetId,C),o.qe.updateTargetData(f,C).next(function(){return o.qe.removeMatchingKeysForTargetId(f,s.targetId)}).next(function(){return o.qe.addMatchingKeys(f,e,s.targetId)}).next(function(){return o.Ke.saveNamedQuery(f,t)})})]}})})}var l4=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return Pe.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var s;return this.Qn.set(e.id,{id:(s=e).id,version:s.version,createTime:cr(s.createTime)}),Pe.resolve()},i.prototype.getNamedQuery=function(t,e){return Pe.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(s=e).name,query:MF(s.bundledQuery),readTime:cr(s.readTime)}),Pe.resolve();var s},i}(),OF=function(){function i(){this.Wn=new Ki(dr.Gn),this.zn=new Ki(dr.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var s=new dr(t,e);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},i.prototype.Jn=function(t,e){var s=this;t.forEach(function(o){return s.addReference(o,e)})},i.prototype.removeReference=function(t,e){this.Yn(new dr(t,e))},i.prototype.Xn=function(t,e){var s=this;t.forEach(function(o){return s.removeReference(o,e)})},i.prototype.Zn=function(t){var e=this,s=new ht(new fn([])),o=new dr(s,t),c=new dr(s,t+1),f=[];return this.zn.forEachInRange([o,c],function(y){e.Yn(y),f.push(y.key)}),f},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new ht(new fn([])),s=new dr(e,t),o=new dr(e,t+1),c=Dn();return this.zn.forEachInRange([s,o],function(f){c=c.add(f.key)}),c},i.prototype.containsKey=function(t){var e=new dr(t,0),s=this.Wn.firstAfterOrEqual(e);return null!==s&&t.isEqual(s.key)},i}(),dr=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return ht.comparator(t.key,e.key)||Jt(t.ns,e.ns)},i.Hn=function(t,e){return Jt(t.ns,e.ns)||ht.comparator(t.key,e.key)},i}(),u4=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ki(dr.Gn)}return i.prototype.checkEmpty=function(t){return Pe.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,s,o){var c=this.ss;this.ss++;var f=new xF(c,e,s,o);this._n.push(f);for(var y=0,C=o;y<C.length;y++){var x=C[y];this.rs=this.rs.add(new dr(x.key,c)),this.Ut.addToCollectionParentIndex(t,x.key.path.popLast())}return Pe.resolve(f)},i.prototype.lookupMutationBatch=function(t,e){return Pe.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this.cs(e+1),c=o<0?0:o;return Pe.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Pe.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return Pe.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var s=this,o=new dr(e,0),c=new dr(e,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([o,c],function(y){var C=s.os(y.ns);f.push(C)}),Pe.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var s=this,o=new Ki(Jt);return e.forEach(function(c){var f=new dr(c,0),y=new dr(c,Number.POSITIVE_INFINITY);s.rs.forEachInRange([f,y],function(C){o=o.add(C.ns)})}),Pe.resolve(this.us(o))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var s=e.path,o=s.length+1,c=s;ht.isDocumentKey(c)||(c=c.child(""));var f=new dr(new ht(c),0),y=new Ki(Jt);return this.rs.forEachWhile(function(C){var x=C.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(y=y.add(C.ns)),!0)},f),Pe.resolve(this.us(y))},i.prototype.us=function(t){var e=this,s=[];return t.forEach(function(o){var c=e.os(o);null!==c&&s.push(c)}),s},i.prototype.removeMutationBatch=function(t,e){var s=this;St(0===this.hs(e.batchId,"removed")),this._n.shift();var o=this.rs;return Pe.forEach(e.mutations,function(c){var f=new dr(c.key,e.batchId);return o=o.delete(f),s.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(function(){s.rs=o})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var s=new dr(e,0),o=this.rs.firstAfterOrEqual(s);return Pe.resolve(e.isEqual(o&&o.key))},i.prototype.performConsistencyCheck=function(t){return Pe.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),c4=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new Jr(ht.comparator),this.size=0}return i.prototype.addEntry=function(t,e,s){var o=e.key,c=this.docs.get(o),f=c?c.size:0,y=this.ls(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:y,readTime:s}),this.size+=y-f,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var s=this.docs.get(e);return Pe.resolve(s?s.document.clone():Ir.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var s=this,o=pa();return e.forEach(function(c){var f=s.docs.get(c);o=o.insert(c,f?f.document.clone():Ir.newInvalidDocument(c))}),Pe.resolve(o)},i.prototype.getDocumentsMatchingQuery=function(t,e,s){for(var o=pa(),c=new ht(e.path.child("")),f=this.docs.getIteratorFrom(c);f.hasNext();){var y=f.getNext(),x=y.value,M=x.document,R=x.readTime;if(!e.path.isPrefixOf(y.key.path))break;R.compareTo(s)<=0||pC(e,M)&&(o=o.insert(M.key,M.clone()))}return Pe.resolve(o)},i.prototype.fs=function(t,e){return Pe.forEach(this.docs,function(s){return e(s)})},i.prototype.newChangeBuffer=function(t){return new d4(this)},i.prototype.getSize=function(t){return Pe.resolve(this.size)},i}(),d4=function(i){function t(e){var s=this;return(s=i.call(this)||this).Ie=e,s}return(0,G.ZT)(t,i),t.prototype.applyChanges=function(e){var s=this,o=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?o.push(s.Ie.addEntry(e,f.document,s.getReadTime(c))):s.Ie.removeEntry(c)}),Pe.waitFor(o)},t.prototype.getFromCache=function(e,s){return this.Ie.getEntry(e,s)},t.prototype.getAllFromCache=function(e,s){return this.Ie.getEntries(e,s)},t}(r3),h4=function(){function i(t){this.persistence=t,this.ds=new Sy(function(e){return dC(e)},AM),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.ws=0,this._s=new OF,this.targetCount=0,this.ys=UM.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(s,o){return e(o)}),Pe.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return Pe.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return Pe.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Pe.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ws&&(this.ws=e),Pe.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new UM(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Pe.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),Pe.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Pe.resolve()},i.prototype.removeTargets=function(t,e,s){var o=this,c=0,f=[];return this.ds.forEach(function(y,C){C.sequenceNumber<=e&&null===s.get(C.targetId)&&(o.ds.delete(y),f.push(o.removeMatchingKeysForTargetId(t,C.targetId)),c++)}),Pe.waitFor(f).next(function(){return c})},i.prototype.getTargetCount=function(t){return Pe.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var s=this.ds.get(e)||null;return Pe.resolve(s)},i.prototype.addMatchingKeys=function(t,e,s){return this._s.Jn(e,s),Pe.resolve()},i.prototype.removeMatchingKeys=function(t,e,s){this._s.Xn(e,s);var o=this.persistence.referenceDelegate,c=[];return o&&e.forEach(function(f){c.push(o.markPotentiallyOrphaned(t,f))}),Pe.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Pe.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var s=this._s.es(e);return Pe.resolve(s)},i.prototype.containsKey=function(t,e){return Pe.resolve(this._s.containsKey(e))},i}(),f4=function(){function i(t,e){var s=this;this.gs={},this.Ne=new ho(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new h4(this),this.Ut=new U6,this.Ue=new c4(this.Ut,function(f){return s.referenceDelegate.ps(f)}),this.R=new Y2(e),this.Ke=new l4(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new u4(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,s){var o=this;Ne("MemoryPersistence","Starting transaction:",t);var c=new p4(this.Ne.next());return this.referenceDelegate.Es(),s(c).next(function(f){return o.referenceDelegate.Ts(c).next(function(){return f})}).toPromise().then(function(f){return c.raiseOnCommittedEvent(),f})},i.prototype.Is=function(t,e){return Pe.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(t,e)}}))},i}(),p4=function(i){function t(e){var s=this;return(s=i.call(this)||this).currentSequenceNumber=e,s}return(0,G.ZT)(t,i),t}(U2),g4=function(){function i(t){this.persistence=t,this.As=new OF,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw lt()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,s){return this.As.addReference(s,e),this.vs.delete(s.toString()),Pe.resolve()},i.prototype.removeReference=function(t,e,s){return this.As.removeReference(s,e),this.vs.add(s.toString()),Pe.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Pe.resolve()},i.prototype.removeTarget=function(t,e){var s=this;this.As.Zn(e.targetId).forEach(function(c){return s.vs.add(c.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,e.targetId).next(function(c){c.forEach(function(f){return s.vs.add(f.toString())})}).next(function(){return o.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.vs,function(o){var c=ht.fromPath(o);return e.Ps(t,c).next(function(f){f||s.removeEntry(c)})}).next(function(){return e.Rs=null,s.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var s=this;return this.Ps(t,e).next(function(o){o?s.vs.delete(e.toString()):s.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var s=this;return Pe.or([function(){return Pe.resolve(s.As.containsKey(e))},function(){return s.persistence.getTargetCache().containsKey(t,e)},function(){return s.persistence.Is(t,e)}])},i}(),qs=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function g3(i,t){return"firestore_clients_"+i+"_"+t}function m3(i,t,e){var s="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(s+="_"+t.uid),s}function kF(i,t){return"firestore_targets_"+i+"_"+t}qs.UNAUTHENTICATED=new qs(null),qs.GOOGLE_CREDENTIALS=new qs("google-credentials-uid"),qs.FIRST_PARTY=new qs("first-party-uid");var _3=function(){function i(t,e,s,o){this.user=t,this.batchId=e,this.state=s,this.error=o}return i.Vs=function(t,e,s){var o,c=JSON.parse(s),f="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(o=new Fe(c.error.code,c.error.message)),f?new i(t,e,c.state,o):(Li("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+s),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),FF=function(){function i(t,e,s){this.targetId=t,this.state=e,this.error=s}return i.Vs=function(t,e){var s,o=JSON.parse(e),c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(s=new Fe(o.error.code,o.error.message)),c?new i(t,o.state,s):(Li("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),y3=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var s=JSON.parse(e),o="object"==typeof s&&s.activeTargetIds instanceof Array,c=NM(),f=0;o&&f<s.activeTargetIds.length;++f)o=HV(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return o?new i(t,c):(Li("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),m4=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(Li("SharedClientState","Failed to parse online state: "+t),null)},i}(),PF=function(){function i(){this.activeTargetIds=NM()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),NF=function(){function i(t,e,s,o,c){this.window=t,this.Se=e,this.persistenceKey=s,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Jr(Jt),this.started=!1,this.$s=[];var f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=g3(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new PF),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(y){return"firestore_bundle_loaded_"+y}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s,o,c,f,y,C,x,M,F=this;return(0,G.Jh)(this,function(V){switch(V.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=V.sent(),e=0,s=t;e<s.length;e++)(o=s[e])!==this.Ns&&(c=this.getItem(g3(this.persistenceKey,o)))&&(f=y3.Vs(o,c))&&(this.ks=this.ks.insert(f.clientId,f));for(this.Qs(),(y=this.storage.getItem(this.Us))&&(C=this.js(y))&&this.Ws(C),x=0,M=this.$s;x<M.length;x++)this.Fs(M[x]);return this.$s=[],this.window.addEventListener("pagehide",function(){return F.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(s,o){o.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,s){this.zs(t,e,s),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var s=this.storage.getItem(kF(this.persistenceKey,t));if(s){var o=FF.Vs(t,s);o&&(e=o.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(kF(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,s){this.Ys(t,e,s)},i.prototype.handleUserChange=function(t,e,s){var o=this;e.forEach(function(c){o.Hs(c)}),this.currentUser=t,s.forEach(function(c){o.addPendingMutation(c)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ne("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){Ne("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){Ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.Fs=function(t){var e=this,s=t;if(s.storageArea===this.storage){if(Ne("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,G.mG)(e,void 0,void 0,function(){var o,c,f,y,C,x;return(0,G.Jh)(this,function(M){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return o=this.ti(s.key),[2,this.ei(o,null)];if(c=this.ni(s.key,s.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(f=this.si(s.key,s.newValue)))return[2,this.ii(f)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(y=this.ri(s.key,s.newValue)))return[2,this.oi(y)]}else if(s.key===this.Us){if(null!==s.newValue&&(C=this.js(s.newValue)))return[2,this.Ws(C)]}else if(s.key===this.Ms)(x=function(R){var F=ho.o;if(null!=R)try{var V=JSON.parse(R);St("number"==typeof V),F=V}catch(U){Li("SharedClientState","Failed to read sequence number from WebStorage",U)}return F}(s.newValue))!==ho.o&&this.sequenceNumberHandler(x);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,s){var o=new _3(this.currentUser,t,e,s),c=m3(this.persistenceKey,this.currentUser,t);this.setItem(c,o.Ss())},i.prototype.Hs=function(t){var e=m3(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,s){var o=kF(this.persistenceKey,t),c=new FF(t,e,s);this.setItem(o,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var s=this.ti(t);return y3.Vs(s,e)},i.prototype.si=function(t,e){var s=this.Bs.exec(t),o=Number(s[1]);return _3.Vs(new qs(void 0!==s[2]?s[2]:null),o,e)},i.prototype.ri=function(t,e){var s=this.qs.exec(t),o=Number(s[1]);return FF.Vs(o,e)},i.prototype.js=function(t){return m4.Vs(t)},i.prototype.ii=function(t){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var s=this,o=e?this.ks.insert(t,e):this.ks.remove(t),c=this.Gs(this.ks),f=this.Gs(o),y=[],C=[];return f.forEach(function(x){c.has(x)||y.push(x)}),c.forEach(function(x){f.has(x)||C.push(x)}),this.syncEngine.hi(y,C).then(function(){s.ks=o})},i.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=NM();return t.forEach(function(s,o){e=e.unionWith(o.activeTargetIds)}),e},i}(),v3=function(){function i(){this.li=new PF,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,s){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,s){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new PF,Promise.resolve()},i.prototype.handleUserChange=function(t,e,s){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),_4=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),b3=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},v4=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),b4=function(i){function t(e){var s=this;return(s=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,s.autoDetectLongPolling=e.autoDetectLongPolling,s.useFetchStreams=e.useFetchStreams,s}return(0,G.ZT)(t,i),t.prototype.ki=function(e,s,o,c){return new Promise(function(f,y){var C=new NV;C.listenOnce(kV.COMPLETE,function(){try{switch(C.getLastErrorCode()){case EM.NO_ERROR:var M=C.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(M)),f(M);break;case EM.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),y(new Fe(we.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:var R=C.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',R,"response text:",C.getResponseText()),R>0){var F=C.getResponseJson().error;if(F&&F.status&&F.message){var V=(Q=F.status.toLowerCase().replace(/_/g,"-"),Object.values(we).indexOf(Q)>=0?Q:we.UNKNOWN);y(new Fe(V,F.message))}else y(new Fe(we.UNKNOWN,"Server responded with status "+C.getStatus()))}else y(new Fe(we.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}var Q});var x=JSON.stringify(c);C.send(s,"POST",x,o,15)})},t.prototype.Oi=function(e,s){var o=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=new CM,f=aM(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new PV({})),this.Fi(y.initMessageHeaders,s),(0,yn.uI)()||(0,yn.b$)()||(0,yn.d)()||(0,yn.w1)()||(0,yn.Mn)()||(0,yn.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");var C=o.join("");Ne("Connection","Creating WebChannel: "+C,y);var x=c.createWebChannel(C,y),M=!1,R=!1,F=new v4({Ei:function(U){R?Ne("Connection","Not sending because WebChannel is closed:",U):(M||(Ne("Connection","Opening WebChannel transport."),x.open(),M=!0),Ne("Connection","WebChannel sending:",U),x.send(U))},Ti:function(){return x.close()}}),V=function(U,Q,le){U.listen(Q,function(ce){try{le(ce)}catch(Ae){setTimeout(function(){throw Ae},0)}})};return V(x,oC.EventType.OPEN,function(){R||Ne("Connection","WebChannel transport opened.")}),V(x,oC.EventType.CLOSE,function(){R||(R=!0,Ne("Connection","WebChannel transport closed"),F.Vi())}),V(x,oC.EventType.ERROR,function(U){R||(R=!0,aC("Connection","WebChannel transport errored:",U),F.Vi(new Fe(we.UNAVAILABLE,"The operation could not be completed")))}),V(x,oC.EventType.MESSAGE,function(U){var Q;if(!R){var le=U.data[0];St(!!le);var Ae=le.error||(null===(Q=le[0])||void 0===Q?void 0:Q.error);if(Ae){Ne("Connection","WebChannel received error:",Ae);var Ie=Ae.status,qe=function(Nt){var on=Vi[Nt];if(void 0!==on)return _2(on)}(Ie),Ke=Ae.message;void 0===qe&&(qe=we.INTERNAL,Ke="Unknown error status: "+Ie+" with message "+Ae.message),R=!0,F.Vi(new Fe(qe,Ke)),x.close()}else Ne("Connection","WebChannel received:",le),F.Si(le)}}),V(f,FV.STAT_EVENT,function(U){U.stat===sF_PROXY?Ne("Connection","Detected buffering proxy"):U.stat===sF_NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(function(){F.Pi()},0),F},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,s,o){var c=this.xi(t,e);Ne("RestConnection","Sending: ",c,s);var f={};return this.Fi(f,o),this.ki(t,c,f,s).then(function(y){return Ne("RestConnection","Received: ",y),y},function(y){throw aC("RestConnection",t+" failed with error: ",y,"url: ",c,"request:",s),y})},i.prototype.$i=function(t,e,s,o){return this.Ni(t,e,s,o)},i.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var s in e.authHeaders)e.authHeaders.hasOwnProperty(s)&&(t[s]=e.authHeaders[s])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+y4[t]},i}());function w3(){return"undefined"!=typeof window?window:null}function qM(){return"undefined"!=typeof document?document:null}function SC(i){return new x6(i,!0)}var LF=function(){function i(t,e,s,o,c){void 0===s&&(s=1e3),void 0===o&&(o=1.5),void 0===c&&(c=6e4),this.Se=t,this.timerId=e,this.Mi=s,this.Li=o,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),c=Math.max(0,s-o);c>0&&Ne("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),C3=function(){function i(t,e,s,o,c,f){this.Se=t,this.zi=s,this.Hi=o,this.Ji=c,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new LF(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===we.RESOURCE_EXHAUSTED?(Li(e.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===we.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return s.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(o){t.Yi===s&&t.lr(o)},function(o){e(function(){var c=new Fe(we.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(c)})})},i.prototype.lr=function(t){var e=this,s=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){s(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(o){s(function(){return e.dr(o)})}),this.stream.onMessage(function(o){s(function(){return e.onMessage(o)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,G.mG)(t,void 0,void 0,function(){return(0,G.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return Ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(s){e.Se.enqueueAndForget(function(){return e.Yi===t?s():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),w4=function(i){function t(e,s,o,c,f){var y=this;return(y=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",s,o,f)||this).R=c,y}return(0,G.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var s=function(c,f){var y,le;if("targetChange"in f){var C="NO_CHANGE"===(le=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===le?1:"REMOVE"===le?2:"CURRENT"===le?3:"RESET"===le?4:lt(),x=f.targetChange.targetIds||[],M=function(le,ce){return le.I?(St(void 0===ce||"string"==typeof ce),ys.fromBase64String(ce||"")):(St(void 0===ce||ce instanceof Uint8Array),ys.fromUint8Array(ce||new Uint8Array))}(c,f.targetChange.resumeToken),R=(F=f.targetChange.cause)&&function(le){var ce=void 0===le.code?we.UNKNOWN:_2(le.code);return new Fe(ce,le.message||"")}(F);y=new w2(C,x,M,R||null)}else if("documentChange"in f){x=uu(c,(C=f.documentChange).document.name),M=cr(C.document.updateTime);var F=new fo({mapValue:{fields:C.document.fields}}),V=(R=Ir.newFoundDocument(x,M,F),C.targetIds||[]);y=new LM(V,C.removedTargetIds||[],R.key,R)}else if("documentDelete"in f)x=uu(c,(C=f.documentDelete).document),M=C.readTime?cr(C.readTime):Yt.min(),F=Ir.newNoDocument(x,M),y=new LM([],R=C.removedTargetIds||[],F.key,F);else if("documentRemove"in f)x=uu(c,(C=f.documentRemove).document),y=new LM([],M=C.removedTargetIds||[],x,null);else{if(!("filter"in f))return lt();var Q=f.filter;x=new m6(C=Q.count||0),y=new b2(M=Q.targetId,x)}return y}(this.R,e),o=function(c){if(!("targetChange"in c))return Yt.min();var f=c.targetChange;return f.targetIds&&f.targetIds.length?Yt.min():f.readTime?cr(f.readTime):Yt.min()}(e);return this.listener._r(s,o)},t.prototype.mr=function(e){var c,f,y,C,s={};s.database=bC(this.R),s.addTarget=(c=this.R,(y=MM(C=(f=e).target)?{documents:O2(c,C)}:{query:k2(c,C)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?y.resumeToken=x2(c,f.resumeToken):f.snapshotVersion.compareTo(Yt.min())>0&&(y.readTime=yC(c,f.snapshotVersion.toTimestamp())),y);var o=function(c,f){var y=function(C,x){switch(x){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,f.purpose);return null==y?null:{"goog-listen-tags":y}}(0,e);o&&(s.labels=o),this.cr(s)},t.prototype.yr=function(e){var s={};s.database=bC(this.R),s.removeTarget=e,this.cr(s)},t}(C3),C4=function(i){function t(e,s,o,c,f){var y=this;return(y=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",s,o,f)||this).R=c,y.gr=!1,y}return(0,G.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var s=(f=e.commitTime,(c=e.writeResults)&&c.length>0?(St(void 0!==f),c.map(function(y){return x=f,(M=cr((C=y).updateTime?C.updateTime:x)).isEqual(Yt.min())&&(M=cr(x)),new f6(M,C.transformResults||[]);var C,x,M})):[]),o=cr(e.commitTime);return this.listener.Tr(o,s)}var c,f;return St(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=bC(this.R),this.cr(e)},t.prototype.Er=function(e){var s=this,o={streamToken:this.lastStreamToken,writes:e.map(function(c){return BM(s.R,c)})};this.cr(o)},t}(C3),E4=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).credentials=e,c.Hi=s,c.R=o,c.Rr=!1,c}return(0,G.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,s,o){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(e,s,o,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===we.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new Fe(we.UNKNOWN,f.toString())})},t.prototype.$i=function(e,s,o){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(e,s,o,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===we.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new Fe(we.UNKNOWN,f.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),S4=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Li(e),this.Vr=!1):Ne("OnlineStateTracker",e)},i.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),x4=function(i,t,e,s,o){var c=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(f){e.enqueueAndForget(function(){return(0,G.mG)(c,void 0,void 0,function(){return(0,G.Jh)(this,function(y){switch(y.label){case 0:return lh(this)?(Ne("RemoteStore","Restarting streams for network reachability change."),[4,function(C){return(0,G.mG)(this,void 0,void 0,function(){var x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:return(x=je(C)).Or.add(4),[4,Ay(x)];case 1:return M.sent(),x.Br.set("Unknown"),x.Or.delete(4),[4,xC(x)];case 2:return M.sent(),[2]}})})}(this)]):[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})}),this.Br=new S4(e,s)};function xC(i){return(0,G.mG)(this,void 0,void 0,function(){var t,e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:if(!lh(i))return[3,4];t=0,e=i.Mr,s.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ay(i){return(0,G.mG)(this,void 0,void 0,function(){var t,e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:t=0,e=i.Mr,s.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function $M(i,t){var e=je(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),GF(e)?VF(e):Ty(e).er()&&BF(e,t))}function DC(i,t){var e=je(i),s=Ty(e);e.$r.delete(t),s.er()&&E3(e,t),0===e.$r.size&&(s.er()?s.ir():lh(e)&&e.Br.set("Unknown"))}function BF(i,t){i.qr.U(t.targetId),Ty(i).mr(t)}function E3(i,t){i.qr.U(t),Ty(i).yr(t)}function VF(i){i.qr=new C6({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),Ty(i).start(),i.Br.Sr()}function GF(i){return lh(i)&&!Ty(i).tr()&&i.$r.size>0}function lh(i){return 0===je(i).Or.size}function S3(i){i.qr=void 0}function D4(i){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){return i.$r.forEach(function(e,s){BF(i,e)}),[2]})})}function A4(i,t){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(e){return S3(i),GF(i)?(i.Br.Nr(t),VF(i)):i.Br.set("Unknown"),[2]})})}function M4(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(t instanceof w2&&2===t.state&&t.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(y,C){return(0,G.mG)(this,void 0,void 0,function(){var x,M,R,F;return(0,G.Jh)(this,function(V){switch(V.label){case 0:x=C.cause,M=0,R=C.targetIds,V.label=1;case 1:return M<R.length?y.$r.has(F=R[M])?[4,y.remoteSyncer.rejectListen(F,x)]:[3,3]:[3,5];case 2:V.sent(),y.$r.delete(F),y.qr.removeTarget(F),V.label=3;case 3:V.label=4;case 4:return M++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return f.sent(),[3,5];case 3:return s=f.sent(),Ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),[4,WM(i,s)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof LM?i.qr.X(t):t instanceof b2?i.qr.rt(t):i.qr.et(t),e.isEqual(Yt.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,d3(i.localStore)];case 8:return o=f.sent(),e.compareTo(o)>=0?[4,(y=i,C=e,x=y.qr.ut(C),x.targetChanges.forEach(function(M,R){if(M.resumeToken.approximateByteSize()>0){var F=y.$r.get(R);F&&y.$r.set(R,F.withResumeToken(M.resumeToken,C))}}),x.targetMismatches.forEach(function(M){var R=y.$r.get(M);if(R){y.$r.set(M,R.withResumeToken(ys.EMPTY_BYTE_STRING,R.snapshotVersion)),E3(y,M);var F=new VM(R.target,M,1,R.sequenceNumber);BF(y,F)}}),y.remoteSyncer.applyRemoteEvent(x))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return Ne("RemoteStore","Failed to raise snapshot:",c=f.sent()),[4,WM(i,c)];case 12:return f.sent(),[3,13];case 13:return[2]}var y,C,x})})}function WM(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s=this;return(0,G.Jh)(this,function(o){switch(o.label){case 0:if(!Hp(t))throw t;return i.Or.add(1),[4,Ay(i)];case 1:return o.sent(),i.Br.set("Offline"),e||(e=function(){return d3(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,G.mG)(s,void 0,void 0,function(){return(0,G.Jh)(this,function(c){switch(c.label){case 0:return Ne("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return c.sent(),i.Or.delete(1),[4,xC(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function x3(i,t){return t().catch(function(e){return WM(i,e,t)})}function My(i){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s,o,c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:t=je(i),e=uh(t),s=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,f.label=1;case 1:if(!(lh(y=t)&&y.kr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,r4(t.localStore,s)];case 3:return null===(o=f.sent())?(0===t.kr.length&&e.ir(),[3,7]):(s=o.batchId,function(y,C){y.kr.push(C);var x=uh(y);x.er()&&x.pr&&x.Er(C.mutations)}(t,o),[3,6]);case 4:return c=f.sent(),[4,WM(t,c)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return D3(t)&&A3(t),[2]}var y})})}function D3(i){return lh(i)&&!uh(i).tr()&&i.kr.length>0}function A3(i){uh(i).start()}function T4(i){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){return uh(i).Ar(),[2]})})}function I4(i){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s;return(0,G.Jh)(this,function(c){for(t=uh(i),e=0,s=i.kr;e<s.length;e++)t.Er(s[e].mutations);return[2]})})}function R4(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return s=i.kr.shift(),o=V6.from(s,t,e),[4,x3(i,function(){return i.remoteSyncer.applySuccessfulWrite(o)})];case 1:return c.sent(),[4,My(i)];case 2:return c.sent(),[2]}})})}function O4(i,t){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(e){switch(e.label){case 0:return t&&uh(i).pr?[4,function(s,o){return(0,G.mG)(this,void 0,void 0,function(){var c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:return m2(f=o.code)&&f!==we.ABORTED?(c=s.kr.shift(),uh(s).sr(),[4,x3(s,function(){return s.remoteSyncer.rejectFailedWrite(c.batchId,o)})]):[3,3];case 1:return y.sent(),[4,My(s)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return D3(i)&&A3(i),[2]}})})}function UF(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return e=je(i),t?(e.Or.delete(2),[4,xC(e)]):[3,2];case 1:return s.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,Ay(e)]);case 3:s.sent(),e.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function Ty(i){var e,s,o,c,t=this;return i.Ur||(i.Ur=(e=i.datastore,s=i.asyncQueue,o={Ii:D4.bind(null,i),Ri:A4.bind(null,i),_r:M4.bind(null,i)},(c=je(e)).br(),new w4(s,c.Hi,c.credentials,c.R,o)),i.Mr.push(function(e){return(0,G.mG)(t,void 0,void 0,function(){return(0,G.Jh)(this,function(s){switch(s.label){case 0:return e?(i.Ur.sr(),GF(i)?VF(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:s.sent(),S3(i),s.label=3;case 3:return[2]}})})})),i.Ur}function uh(i){var e,s,o,c,t=this;return i.Kr||(i.Kr=(e=i.datastore,s=i.asyncQueue,o={Ii:T4.bind(null,i),Ri:O4.bind(null,i),Ir:I4.bind(null,i),Tr:R4.bind(null,i)},(c=je(e)).br(),new C4(s,c.Hi,c.credentials,c.R,o)),i.Mr.push(function(e){return(0,G.mG)(t,void 0,void 0,function(){return(0,G.Jh)(this,function(s){switch(s.label){case 0:return e?(i.Kr.sr(),[4,My(i)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:s.sent(),i.kr.length>0&&(Ne("RemoteStore","Stopping write stream with "+i.kr.length+" pending writes"),i.kr=[]),s.label=4;case 4:return[2]}})})})),i.Kr}var k4=function(){function i(t,e,s,o,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(t,e,s,o,c){var f=new i(t,e,Date.now()+s,o,c);return f.start(s),f},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Iy(i,t){if(Li("AsyncQueue",t+": "+i),Hp(i))return new Fe(we.UNAVAILABLE,t+": "+i);throw i}var M3=function(){function i(t){this.comparator=t?function(e,s){return t(e,s)||ht.comparator(e.key,s.key)}:function(e,s){return ht.comparator(e.key,s.key)},this.keyedMap=vF(),this.sortedSet=new Jr(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,s){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();e.hasNext();){var o=e.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var s=new i;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s},i}(),T3=function(){function i(){this.Qr=new Jr(ht.comparator)}return i.prototype.track=function(t){var e=t.doc.key,s=this.Qr.get(e);s?0!==t.type&&3===s.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==s.type?this.Qr=this.Qr.insert(e,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.Qr=this.Qr.remove(e):1===t.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):lt():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,s){t.push(s)}),t},i}(),QM=function(){function i(t,e,s,o,c,f,y,C){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=C}return i.fromInitialDocuments=function(t,e,s,o){var c=[];return e.forEach(function(f){c.push({type:0,doc:f})}),new i(t,e,M3.emptySet(e),c,s,o,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(var o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0},i}(),F4=function(){this.Wr=void 0,this.listeners=[]},P4=function(){this.queries=new Sy(function(i){return e2(i)},fC),this.onlineState="Unknown",this.Gr=new Set};function jF(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o,c,f,y,C;return(0,G.Jh)(this,function(x){switch(x.label){case 0:if(e=je(i),o=!1,(c=e.queries.get(s=t.query))||(o=!0,c=new F4),!o)return[3,4];x.label=1;case 1:return x.trys.push([1,3,,4]),f=c,[4,e.onListen(s)];case 2:return f.Wr=x.sent(),[3,4];case 3:return y=x.sent(),C=Iy(y,"Initialization of query '"+mF(t.query)+"' failed"),[2,void t.onError(C)];case 4:return e.queries.set(s,c),c.listeners.push(t),t.zr(e.onlineState),c.Wr&&t.Hr(c.Wr)&&zF(e),[2]}})})}function HF(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o,c,f;return(0,G.Jh)(this,function(y){return e=je(i),o=!1,(c=e.queries.get(s=t.query))&&(f=c.listeners.indexOf(t))>=0&&(c.listeners.splice(f,1),o=0===c.listeners.length),o?[2,(e.queries.delete(s),e.onUnlisten(s))]:[2]})})}function N4(i,t){for(var e=je(i),s=!1,o=0,c=t;o<c.length;o++){var f=c[o],C=e.queries.get(f.query);if(C){for(var x=0,M=C.listeners;x<M.length;x++)M[x].Hr(f)&&(s=!0);C.Wr=f}}s&&zF(e)}function L4(i,t,e){var s=je(i),o=s.queries.get(t);if(o)for(var c=0,f=o.listeners;c<f.length;c++)f[c].onError(e);s.queries.delete(t)}function zF(i){i.Gr.forEach(function(t){t.next()})}var YF=function(){function i(t,e,s){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],s=0,o=t.docChanges;s<o.length;s++){var c=o[s];3!==c.type&&e.push(c)}t=new QM(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),f=!0):this.eo(t,this.onlineState)&&(this.no(t),f=!0),this.Xr=t,f},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=QM.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),B4=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),I3=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return uu(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?I2(this.R,t.document,!1):Ir.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return cr(t)},i}();!function(){function i(t,e,s){this.ro=t,this.localStore=e,this.R=s,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,s=new I3(this.R),o=0,c=t;o<c.length;o++){var f=c[o];if(f.metadata.queries)for(var y=s.qn(f.metadata.name),C=0,x=f.metadata.queries;C<x.length;C++){var M=x[C],R=(e.get(M)||Dn()).add(y);e.set(M,R)}}return e},i.prototype.complete=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s,o,c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return[4,o4(this.localStore,new I3(this.R),this.documents,this.ro.id)];case 1:t=f.sent(),e=this.co(this.documents),s=0,o=this.queries,f.label=2;case 2:return s<o.length?[4,a4(this.localStore,c=o[s],e.get(c.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new X6(Object.assign({},this.progress),t))]}})})}}();var O3=function(i){this.key=i},k3=function(i){this.key=i},F3=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Dn(),this.mutatedKeys=Dn(),this.lo=t2(t),this.fo=new M3(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var s=this,o=e?e.mo:new T3,c=e?e.fo:this.fo,f=e?e.mutatedKeys:this.mutatedKeys,y=c,C=!1,x=IM(this.query)&&c.size===this.query.limit?c.last():null,M=RM(this.query)&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(function(F,V){var U=c.get(F),Q=pC(s.query,V)?V:null,le=!!U&&s.mutatedKeys.has(U.key),ce=!!Q&&(Q.hasLocalMutations||s.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations),Ae=!1;U&&Q?U.data.isEqual(Q.data)?le!==ce&&(o.track({type:3,doc:Q}),Ae=!0):s.yo(U,Q)||(o.track({type:2,doc:Q}),Ae=!0,(x&&s.lo(Q,x)>0||M&&s.lo(Q,M)<0)&&(C=!0)):!U&&Q?(o.track({type:0,doc:Q}),Ae=!0):U&&!Q&&(o.track({type:1,doc:U}),Ae=!0,(x||M)&&(C=!0)),Ae&&(Q?(y=y.add(Q),f=ce?f.add(F):f.delete(F)):(y=y.delete(F),f=f.delete(F)))}),IM(this.query)||RM(this.query))for(;y.size>this.query.limit;){var R=IM(this.query)?y.last():y.first();y=y.delete(R.key),f=f.delete(R.key),o.track({type:1,doc:R})}return{fo:y,mo:o,Nn:C,mutatedKeys:f}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,s){var o=this,c=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var f=t.mo.jr();f.sort(function(M,R){return V=R.type,(U=function(Q){switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}})(M.type)-U(V)||o.lo(M.doc,R.doc);var V,U}),this.po(s);var y=e?this.Eo():[],C=0===this.ho.size&&this.current?1:0,x=C!==this.ao;return this.ao=C,0!==f.length||x?{snapshot:new QM(this.query,t.fo,c,f,t.mutatedKeys,0===C,x,!1),To:y}:{To:y}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new T3,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(s){return e.uo=e.uo.add(s)}),t.modifiedDocuments.forEach(function(s){}),t.removedDocuments.forEach(function(s){return e.uo=e.uo.delete(s)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Dn(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var s=[];return e.forEach(function(o){t.ho.has(o)||s.push(new k3(o))}),this.ho.forEach(function(o){e.has(o)||s.push(new O3(o))}),s},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Dn();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return QM.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),G4=function(i,t,e){this.query=i,this.targetId=t,this.view=e},U4=function(i){this.key=i,this.bo=!1},j4=function(){function i(t,e,s,o,c,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new Sy(function(y){return e2(y)},fC),this.Vo=new Map,this.So=new Set,this.Do=new Jr(ht.comparator),this.Co=new Map,this.No=new OF,this.xo={},this.Fo=new Map,this.ko=UM.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function H4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,o,c,f,y;return(0,G.Jh)(this,function(C){switch(C.label){case 0:return e=ZF(i),(c=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Ro(),[3,4]):[3,1];case 1:return[4,xy(e.localStore,fa(t))];case 2:return f=C.sent(),y=e.sharedClientState.addLocalQueryTarget(f.targetId),[4,qF(e,t,f.targetId,"current"===y)];case 3:o=C.sent(),e.isPrimaryClient&&$M(e.remoteStore,f),C.label=4;case 4:return[2,o]}})})}function qF(i,t,e,s){return(0,G.mG)(this,void 0,void 0,function(){var o,c,f,y,C,x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:return i.Oo=function(R,F,V){return function(U,Q,le,ce){return(0,G.mG)(this,void 0,void 0,function(){var Ae,Ie,qe;return(0,G.Jh)(this,function(Ke){switch(Ke.label){case 0:return(Ae=Q.view._o(le)).Nn?[4,YM(U.localStore,Q.query,!1).then(function(Nt){return Q.view._o(Nt.documents,Ae)})]:[3,2];case 1:Ae=Ke.sent(),Ke.label=2;case 2:return Ie=ce&&ce.targetChanges.get(Q.targetId),qe=Q.view.applyChanges(Ae,U.isPrimaryClient,Ie),[2,(QF(U,Q.targetId,qe.To),qe.snapshot)]}})})}(i,R,F,V)},[4,YM(i.localStore,t,!0)];case 1:return o=M.sent(),c=new F3(t,o.Bn),f=c._o(o.documents),y=wF.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==i.onlineState),C=c.applyChanges(f,i.isPrimaryClient,y),QF(i,e,C.To),x=new G4(t,e,c),[2,(i.Po.set(t,x),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),C.snapshot)]}})})}function z4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return e=je(i),s=e.Po.get(t),(o=e.Vo.get(s.targetId)).length>1?[2,(e.Vo.set(s.targetId,o.filter(function(f){return!fC(f,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,Dy(e.localStore,s.targetId,!1).then(function(){e.sharedClientState.clearQueryState(s.targetId),DC(e.remoteStore,s.targetId),Ry(e,s.targetId)}).catch(Yp)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return Ry(e,s.targetId),[4,Dy(e.localStore,s.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function Y4(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:s=JF(i),y.label=1;case 1:return y.trys.push([1,5,,6]),[4,(C=s.localStore,x=t,R=je(C),F=Hs.now(),V=x.reduce(function(U,Q){return U.add(Q.key)},Dn()),R.persistence.runTransaction("Locally write mutations","readwrite",function(U){return R.Mn.pn(U,V).next(function(Q){M=Q;for(var le=[],ce=0,Ae=x;ce<Ae.length;ce++){var Ie=Ae[ce],qe=g6(Ie,M.get(Ie.key));null!=qe&&le.push(new nh(Ie.key,qe,$V(qe.value.mapValue),Zr.exists(!0)))}return R._n.addMutationBatch(U,F,le,x)})}).then(function(U){return U.applyToLocalDocumentSet(M),{batchId:U.batchId,changes:M}}))];case 2:return o=y.sent(),s.sharedClientState.addPendingMutation(o.batchId),function(C,x,M){var R=C.xo[C.currentUser.toKey()];R||(R=new Jr(Jt)),R=R.insert(x,M),C.xo[C.currentUser.toKey()]=R}(s,o.batchId,e),[4,xc(s,o.changes)];case 3:return y.sent(),[4,My(s.remoteStore)];case 4:return y.sent(),[3,6];case 5:return c=y.sent(),f=Iy(c,"Failed to persist write"),e.reject(f),[3,6];case 6:return[2]}var C,x,M,R,F,V})})}function P3(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s;return(0,G.Jh)(this,function(o){switch(o.label){case 0:e=je(i),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,i4(e.localStore,t)];case 2:return s=o.sent(),t.targetChanges.forEach(function(c,f){var y=e.Co.get(f);y&&(St(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.bo=!0:c.modifiedDocuments.size>0?St(y.bo):c.removedDocuments.size>0&&(St(y.bo),y.bo=!1))}),[4,xc(e,s,t)];case 3:return o.sent(),[3,6];case 4:return[4,Yp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function N3(i,t,e){var s=je(i);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){var o=[];s.Po.forEach(function(c,f){var y=f.view.zr(t);y.snapshot&&o.push(y.snapshot)}),function(c,f){var y=je(c);y.onlineState=f;var C=!1;y.queries.forEach(function(x,M){for(var R=0,F=M.listeners;R<F.length;R++)F[R].zr(f)&&(C=!0)}),C&&zF(y)}(s.eventManager,t),o.length&&s.vo._r(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function q4(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f,y,C;return(0,G.Jh)(this,function(x){switch(x.label){case 0:return(s=je(i)).sharedClientState.updateQueryState(t,"rejected",e),o=s.Co.get(t),(c=o&&o.key)?(f=(f=new Jr(ht.comparator)).insert(c,Ir.newNoDocument(c,Yt.min())),y=Dn().add(c),C=new bF(Yt.min(),new Map,new Ki(Jt),f,y),[4,P3(s,C)]):[3,2];case 1:return x.sent(),s.Do=s.Do.remove(c),s.Co.delete(t),KF(s),[3,4];case 2:return[4,Dy(s.localStore,t,!1).then(function(){return Ry(s,t,e)}).catch(Yp)];case 3:x.sent(),x.label=4;case 4:return[2]}})})}function $4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:e=je(i),s=t.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,n4(e.localStore,t)];case 2:return o=c.sent(),WF(e,s,null),$F(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),[4,xc(e,o)];case 3:return c.sent(),[3,6];case 4:return[4,Yp(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function W4(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:s=je(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(f=s.localStore,y=t,C=je(f),C.persistence.runTransaction("Reject batch","readwrite-primary",function(x){var M;return C._n.lookupMutationBatch(x,y).next(function(R){return St(null!==R),M=R.keys(),C._n.removeMutationBatch(x,R)}).next(function(){return C._n.performConsistencyCheck(x)}).next(function(){return C.Mn.pn(x,M)})}))];case 2:return o=c.sent(),WF(s,t,e),$F(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),[4,xc(s,o)];case 3:return c.sent(),[3,6];case 4:return[4,Yp(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var f,y,C})})}function Q4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o,c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:lh((e=je(i)).remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,(C=e.localStore,x=je(C),x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(M){return x._n.getHighestUnacknowledgedBatchId(M)}))];case 2:return-1===(s=y.sent())?[2,void t.resolve()]:((o=e.Fo.get(s)||[]).push(t),e.Fo.set(s,o),[3,4]);case 3:return c=y.sent(),f=Iy(c,"Initialization of waitForPendingWrites() operation failed"),t.reject(f),[3,4];case 4:return[2]}var C,x})})}function $F(i,t){(i.Fo.get(t)||[]).forEach(function(e){e.resolve()}),i.Fo.delete(t)}function WF(i,t,e){var s=je(i),o=s.xo[s.currentUser.toKey()];if(o){var c=o.get(t);c&&(e?c.reject(e):c.resolve(),o=o.remove(t)),s.xo[s.currentUser.toKey()]=o}}function Ry(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var s=0,o=i.Vo.get(t);s<o.length;s++){var c=o[s];i.Po.delete(c),e&&i.vo.Mo(c,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(f){i.No.containsKey(f)||L3(i,f)})}function L3(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(DC(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),KF(i))}function QF(i,t,e){for(var s=0,o=e;s<o.length;s++){var c=o[s];c instanceof O3?(i.No.addReference(c.key,t),K4(i,c)):c instanceof k3?(Ne("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,t),i.No.containsKey(c.key)||L3(i,c.key)):lt()}}function K4(i,t){var e=t.key,s=e.path.canonicalString();i.Do.get(e)||i.So.has(s)||(Ne("SyncEngine","New document in limbo: "+e),i.So.add(s),KF(i))}function KF(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new ht(fn.fromString(t)),s=i.ko.next();i.Co.set(s,new U4(e)),i.Do=i.Do.insert(e,s),$M(i.remoteStore,new VM(fa(cy(e.path)),s,2,ho.o))}}function xc(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:return s=je(i),o=[],c=[],f=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(C,x){f.push(s.Oo(x,t,e).then(function(M){if(M){s.isPrimaryClient&&s.sharedClientState.updateQueryState(x.targetId,M.fromCache?"not-current":"current"),o.push(M);var R=e4.Pn(x.targetId,M);c.push(R)}}))}),[4,Promise.all(f)]);case 1:return y.sent(),s.vo._r(o),[4,function(C,x){return(0,G.mG)(this,void 0,void 0,function(){var M,R,F,V,U,Q,le,Ae;return(0,G.Jh)(this,function(Ie){switch(Ie.label){case 0:M=je(C),Ie.label=1;case 1:return Ie.trys.push([1,3,,4]),[4,M.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(qe){return Pe.forEach(x,function(Ke){return Pe.forEach(Ke.bn,function(Nt){return M.persistence.referenceDelegate.addReference(qe,Ke.targetId,Nt)}).next(function(){return Pe.forEach(Ke.vn,function(Nt){return M.persistence.referenceDelegate.removeReference(qe,Ke.targetId,Nt)})})})})];case 2:return Ie.sent(),[3,4];case 3:if(!Hp(R=Ie.sent()))throw R;return Ne("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(F=0,V=x;F<V.length;F++)Q=(U=V[F]).targetId,U.fromCache||(le=M.Fn.get(Q),Ae=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion),M.Fn=M.Fn.insert(Q,Ae));return[2]}})})}(s.localStore,c)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function Z4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s;return(0,G.Jh)(this,function(o){switch(o.label){case 0:return(e=je(i)).currentUser.isEqual(t)?[3,3]:(Ne("SyncEngine","User change. New user:",t.toKey()),[4,c3(e.localStore,t)]);case 1:return s=o.sent(),e.currentUser=t,(c=e).Fo.forEach(function(y){y.forEach(function(C){C.reject(new Fe(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fo.clear(),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),[4,xc(e,s.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}var c})})}function J4(i,t){var e=je(i),s=e.Co.get(t);if(s&&s.bo)return Dn().add(s.key);var o=Dn(),c=e.Vo.get(t);if(!c)return o;for(var f=0,y=c;f<y.length;f++){var x=e.Po.get(y[f]);o=o.unionWith(x.view.wo)}return o}function X4(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,YM((e=je(i)).localStore,t.query,!0)];case 1:return s=c.sent(),o=t.view.Ao(s),[2,(e.isPrimaryClient&&QF(e,t.targetId,o.To),o)]}})})}function ez(i){return(0,G.mG)(this,void 0,void 0,function(){var t;return(0,G.Jh)(this,function(e){return[2,p3((t=je(i)).localStore).then(function(s){return xc(t,s)})]})})}function tz(i,t,e,s){return(0,G.mG)(this,void 0,void 0,function(){var o,c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return[4,(y=(o=je(i)).localStore,C=t,x=je(y),M=je(x._n),x.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return M.jt(R,C).next(function(F){return F?x.Mn.pn(R,F):Pe.resolve(null)})}))];case 1:return null===(c=f.sent())?[3,6]:"pending"!==e?[3,3]:[4,My(o.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(WF(o,t,s||null),$F(o,t),function(y,C){je(je(y)._n).Gt(C)}(o.localStore,t)):lt(),f.label=4;case 4:return[4,xc(o,c)];case 5:return f.sent(),[3,7];case 6:Ne("SyncEngine","Cannot apply mutation batch with id: "+t),f.label=7;case 7:return[2]}var y,C,x,M})})}function nz(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o,c,f,C,x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:return ZF(e=je(i)),JF(e),!0!==t||!0===e.$o?[3,3]:(s=e.sharedClientState.getAllActiveQueryTargets(),[4,B3(e,s.toArray())]);case 1:return o=M.sent(),e.$o=!0,[4,UF(e.remoteStore,!0)];case 2:for(M.sent(),c=0,f=o;c<f.length;c++)$M(e.remoteStore,f[c]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(C=[],x=Promise.resolve(),e.Vo.forEach(function(R,F){e.sharedClientState.isLocalQueryTarget(F)?C.push(F):x=x.then(function(){return Ry(e,F),Dy(e.localStore,F,!0)}),DC(e.remoteStore,F)}),[4,x]);case 4:return M.sent(),[4,B3(e,C)];case 5:return M.sent(),(F=je(e)).Co.forEach(function(V,U){DC(F.remoteStore,U)}),F.No.ts(),F.Co=new Map,F.Do=new Jr(ht.comparator),e.$o=!1,[4,UF(e.remoteStore,!1)];case 6:M.sent(),M.label=7;case 7:return[2]}var F})})}function B3(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f,y,C,x,M,R,F,U,Q,le;return(0,G.Jh)(this,function(ce){switch(ce.label){case 0:s=je(i),o=[],c=[],f=0,y=t,ce.label=1;case 1:return f<y.length?(x=void 0,(M=s.Vo.get(C=y[f]))&&0!==M.length?[4,xy(s.localStore,fa(M[0]))]:[3,7]):[3,13];case 2:x=ce.sent(),R=0,F=M,ce.label=3;case 3:return R<F.length?(U=s.Po.get(F[R]),[4,X4(s,U)]):[3,6];case 4:(Q=ce.sent()).snapshot&&c.push(Q.snapshot),ce.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,f3(s.localStore,C)];case 8:return le=ce.sent(),[4,xy(s.localStore,le)];case 9:return x=ce.sent(),[4,qF(s,V3(le),C,!1)];case 10:ce.sent(),ce.label=11;case 11:o.push(x),ce.label=12;case 12:return f++,[3,1];case 13:return[2,(s.vo._r(c),o)]}})})}function V3(i){return JV(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function iz(i){var t=je(i);return je(je(t.localStore).persistence).fn()}function rz(i,t,e,s){return(0,G.mG)(this,void 0,void 0,function(){var o,c,f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:return(o=je(i)).$o?(Ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,p3(o.localStore)];case 3:return c=y.sent(),f=bF.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,xc(o,c,f)];case 4:return y.sent(),[3,8];case 5:return[4,Dy(o.localStore,t,!0)];case 6:return y.sent(),Ry(o,t,s),[3,8];case 7:lt(),y.label=8;case 8:return[2]}})})}function sz(i,t,e){return(0,G.mG)(this,void 0,void 0,function(){var s,o,c,f,y,C,x,M,R;return(0,G.Jh)(this,function(V){switch(V.label){case 0:if(!(s=ZF(i)).$o)return[3,10];o=0,c=t,V.label=1;case 1:return o<c.length?s.Vo.has(f=c[o])?(Ne("SyncEngine","Adding an already active target "+f),[3,5]):[4,f3(s.localStore,f)]:[3,6];case 2:return y=V.sent(),[4,xy(s.localStore,y)];case 3:return C=V.sent(),[4,qF(s,V3(y),C.targetId,!1)];case 4:V.sent(),$M(s.remoteStore,C),V.label=5;case 5:return o++,[3,1];case 6:x=function(U){return(0,G.Jh)(this,function(Q){switch(Q.label){case 0:return s.Vo.has(U)?[4,Dy(s.localStore,U,!1).then(function(){DC(s.remoteStore,U),Ry(s,U)}).catch(Yp)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return[2]}})},M=0,R=e,V.label=7;case 7:return M<R.length?[5,x(R[M])]:[3,10];case 8:V.sent(),V.label=9;case 9:return M++,[3,7];case 10:return[2]}})})}function ZF(i){var t=je(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=P3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q4.bind(null,t),t.vo._r=N4.bind(null,t.eventManager),t.vo.Mo=L4.bind(null,t.eventManager),t}function JF(i){var t=je(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W4.bind(null,t),t}var G3=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(e){switch(e.label){case 0:return this.R=SC(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return u3(this.persistence,new l3,t.initialUser,this.R)},i.prototype.qo=function(t){return new f4(g4.bs,this.R)},i.prototype.Bo=function(t){return new v3},i.prototype.terminate=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),U3=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).Qo=e,c.cacheSizeBytes=s,c.forceOwnership=o,c.synchronizeTabs=!1,c}return(0,G.ZT)(t,i),t.prototype.initialize=function(e){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(s){switch(s.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,s4(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,e)];case 3:return s.sent(),[4,JF(this.Qo.syncEngine)];case 4:return s.sent(),[4,My(this.Qo.remoteStore)];case 5:return s.sent(),[2]}})})},t.prototype.Ko=function(e){return u3(this.persistence,new l3,e.initialUser,this.R)},t.prototype.Uo=function(e){return new q6(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var s=RF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?du.withCacheSize(this.cacheSizeBytes):du.DEFAULT;return new J6(this.synchronizeTabs,s,e.clientId,o,e.asyncQueue,w3(),qM(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new v3},t}(G3),az=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s,!1)||this).Qo=e,o.cacheSizeBytes=s,o.synchronizeTabs=!0,o}return(0,G.ZT)(t,i),t.prototype.initialize=function(e){return(0,G.mG)(this,void 0,void 0,function(){var s,o=this;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof NF?(this.sharedClientState.syncEngine={ui:tz.bind(null,s),ai:rz.bind(null,s),hi:sz.bind(null,s),fn:iz.bind(null,s),ci:ez.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return(0,G.mG)(o,void 0,void 0,function(){return(0,G.Jh)(this,function(y){switch(y.label){case 0:return[4,nz(this.Qo.syncEngine,f)];case 1:return y.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},t.prototype.Bo=function(e){var s=w3();if(!NF.yt(s))throw new Fe(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=RF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NF(s,e.asyncQueue,o,e.clientId,e.initialUser)},t}(U3),XF=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,G.mG)(this,void 0,void 0,function(){var s=this;return(0,G.Jh)(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return N3(s.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Z4.bind(null,this.syncEngine),[4,UF(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new P4},i.prototype.createDatastore=function(t){var s=SC(t.databaseInfo.databaseId),o=new b4(t.databaseInfo);return new E4(t.credentials,o,s)},i.prototype.createRemoteStore=function(t){var e,s,o,c,f,y=this;return e=this.localStore,s=this.datastore,o=t.asyncQueue,c=function(C){return N3(y.syncEngine,C,0)},f=b3.yt()?new b3:new _4,new x4(e,s,o,c,f)},i.prototype.createSyncEngine=function(t,e){return x=e,M=new j4(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),x&&(M.$o=!0),M;var x,M},i.prototype.terminate=function(){return function(t){return(0,G.mG)(this,void 0,void 0,function(){var e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return e=je(t),Ne("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Ay(e)];case 1:return s.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),KM=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var s=this;this.muted||setTimeout(function(){s.muted||t(e)},0)},i}(),uz=(function(){function i(t,e){var s=this;this.Go=t,this.R=e,this.metadata=new es,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?s.metadata.resolve(o.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==o?void 0:o.payload)))},function(o){return s.metadata.reject(o)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e,s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(t=c.sent())?[2,null]:(e=this.zo.decode(t),s=Number(e),isNaN(s)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(s)]);case 2:return o=c.sent(),[2,new B4(JSON.parse(o),t.length+s)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,G.mG)(this,void 0,void 0,function(){var e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(t=s.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,G.mG)(this,void 0,void 0,function(){var e,s=this;return(0,G.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fe(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,f){return(0,G.mG)(this,void 0,void 0,function(){var y,C,x,M,R,F;return(0,G.Jh)(this,function(V){switch(V.label){case 0:return y=je(c),C=bC(y.R)+"/documents",x={documents:f.map(function(U){return vC(y.R,U)})},[4,y.$i("BatchGetDocuments",C,x)];case 1:return M=V.sent(),R=new Map,M.forEach(function(U){var le,ce,Q=(le=y.R,"found"in(ce=U)?function(Ae,Ie){St(!!Ie.found);var qe=uu(Ae,Ie.found.name),Ke=cr(Ie.found.updateTime),Nt=new fo({mapValue:{fields:Ie.found.fields}});return Ir.newFoundDocument(qe,Ke,Nt)}(le,ce):"missing"in ce?function(Ae,Ie){St(!!Ie.missing),St(!!Ie.readTime);var qe=uu(Ae,Ie.missing),Ke=cr(Ie.readTime);return Ir.newNoDocument(qe,Ke)}(le,ce):lt());R.set(Q.key.toString(),Q)}),F=[],[2,(f.forEach(function(U){var Q=R.get(U.toString());St(!!Q),F.push(Q)}),F)]}})})}(this.datastore,t)];case 1:return[2,((e=o.sent()).forEach(function(c){return s.recordVersion(c)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new _C(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e=this;return(0,G.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,c){var f=ht.fromPath(c);e.mutations.push(new yF(f,e.precondition(f)))}),[4,function(o,c){return(0,G.mG)(this,void 0,void 0,function(){var f,y,C;return(0,G.Jh)(this,function(x){switch(x.label){case 0:return f=je(o),y=bC(f.R)+"/documents",C={writes:c.map(function(M){return BM(f.R,M)})},[4,f.Ni("Commit",y,C)];case 1:return x.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw lt();e=Yt.min()}var s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new Fe(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zr.updateTime(e):Zr.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Yt.min()))throw new Fe(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zr.updateTime(e)}return Zr.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),cz=function(){function i(t,e,s,o){this.asyncQueue=t,this.datastore=e,this.updateFunction=s,this.deferred=o,this.ec=5,this.Zi=new LF(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,G.mG)(t,void 0,void 0,function(){var e,s,o=this;return(0,G.Jh)(this,function(c){return e=new uz(this.datastore),(s=this.sc(e))&&s.then(function(f){o.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){o.deferred.resolve(f)}).catch(function(y){o.ic(y)})})}).catch(function(f){o.ic(f)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Bp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!m2(e)}return!1},i}(),dz=function(){function i(t,e,s){var o=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=s,this.user=qs.UNAUTHENTICATED,this.clientId=LV.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(c){return(0,G.mG)(o,void 0,void 0,function(){return(0,G.Jh)(this,function(f){switch(f.label){case 0:return Ne("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return f.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,G.mG)(t,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return s=c.sent(),o=Iy(s,"Failed to shutdown persistence"),e.reject(o),[3,6];case 6:return[2]}})})}),e.promise},i}();function H3(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s,o=this;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=c.sent(),[4,t.initialize(e)];case 2:return c.sent(),s=e.initialUser,i.setCredentialChangeListener(function(f){return(0,G.mG)(o,void 0,void 0,function(){return(0,G.Jh)(this,function(y){switch(y.label){case 0:return s.isEqual(f)?[3,2]:[4,c3(t.localStore,f)];case 1:y.sent(),s=f,y.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function z3(i,t){return(0,G.mG)(this,void 0,void 0,function(){var e,s;return(0,G.Jh)(this,function(o){switch(o.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,eP(i)];case 1:return e=o.sent(),Ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return s=o.sent(),[4,t.initialize(e,s)];case 3:return o.sent(),i.setCredentialChangeListener(function(c){return function(f,y){return(0,G.mG)(this,void 0,void 0,function(){var C,x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:return(C=je(f)).asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials"),x=lh(C),C.Or.add(3),[4,Ay(C)];case 1:return M.sent(),x&&C.Br.set("Unknown"),[4,C.remoteSyncer.handleCredentialChange(y)];case 2:return M.sent(),C.Or.delete(3),[4,xC(C)];case 3:return M.sent(),[2]}})})}(t.remoteStore,c)}),i.onlineComponents=t,[2]}})})}function eP(i){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(Ne("FirestoreClient","Using default OfflineComponentProvider"),[4,H3(i,new G3)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function ZM(i){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(Ne("FirestoreClient","Using default OnlineComponentProvider"),[4,z3(i,new XF)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function Y3(i){return eP(i).then(function(t){return t.persistence})}function tP(i){return eP(i).then(function(t){return t.localStore})}function q3(i){return ZM(i).then(function(t){return t.remoteStore})}function nP(i){return ZM(i).then(function(t){return t.syncEngine})}function Oy(i){return(0,G.mG)(this,void 0,void 0,function(){var t,e;return(0,G.Jh)(this,function(s){switch(s.label){case 0:return[4,ZM(i)];case 1:return t=s.sent(),[2,((e=t.eventManager).onListen=H4.bind(null,t.syncEngine),e.onUnlisten=z4.bind(null,t.syncEngine),e)]}})})}function $3(i,t,e){var s=this;void 0===e&&(e={});var o=new es;return i.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(s,void 0,void 0,function(){var c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return c=function(y,C,x,M,R){var F=new KM({next:function(U){C.enqueueAndForget(function(){return HF(y,V)});var Q=U.docs.has(x);!Q&&U.fromCache?R.reject(new Fe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&U.fromCache&&M&&"server"===M.source?R.reject(new Fe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(U)},error:function(U){return R.reject(U)}}),V=new YF(cy(x.path),F,{includeMetadataChanges:!0,so:!0});return jF(y,V)},[4,Oy(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,o])]}})})}),o.promise}function W3(i,t,e){var s=this;void 0===e&&(e={});var o=new es;return i.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(s,void 0,void 0,function(){var c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return c=function(y,C,x,M,R){var F=new KM({next:function(U){C.enqueueAndForget(function(){return HF(y,V)}),U.fromCache&&"server"===M.source?R.reject(new Fe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(U)},error:function(U){return R.reject(U)}}),V=new YF(x,F,{includeMetadataChanges:!0,so:!0});return jF(y,V)},[4,Oy(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,o])]}})})}),o.promise}var hz=function(i,t,e,s,o,c,f,y){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y},JM=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),Q3=new Map,K3=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},Z3=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(qs.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),fz=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var s=this;this.changeListener=e,t.enqueueRetryable(function(){return e(s.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),pz=function(){function i(t){var e=this;this.currentUser=qs.UNAUTHENTICATED,this.oc=new es,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var s=function(o){Ne("FirebaseCredentialsProvider","Auth detected"),e.auth=o,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(o){return s(o)}),setTimeout(function(){if(!e.auth){var o=t.getImmediate({optional:!0});o?s(o):(Ne("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(o){return t.cc!==e?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(St("string"==typeof o.accessToken),new K3(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var s=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,G.mG)(s,void 0,void 0,function(){return(0,G.Jh)(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,e(this.currentUser)];case 2:return o.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new qs(t)},i}(),gz=function(){function i(t,e,s){this.hc=t,this.lc=e,this.fc=s,this.type="FirstParty",this.user=qs.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),mz=function(){function i(t,e,s){this.hc=t,this.lc=e,this.fc=s}return i.prototype.getToken=function(){return Promise.resolve(new gz(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(qs.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function iP(i,t,e){if(!e)throw new Fe(we.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function rP(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fe(we.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function J3(i,t,e,s){if(!0===t&&!0===s)throw new Fe(we.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function X3(i){if(!ht.isDocumentKey(i))throw new Fe(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function eG(i){if(ht.isDocumentKey(i))throw new Fe(we.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function XM(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(s&&s.length>1)return s[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":lt()}function pn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Fe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=XM(i);throw new Fe(we.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function tG(i,t){if(t<=0)throw new Fe(we.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var nG=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Fe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,J3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),AC=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nG({}),this._settingsFrozen=!1,t instanceof JM?(this._databaseId=t,this._credentials=new Z3):(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Fe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new JM(s.options.projectId)}(t),this._credentials=new pz(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nG(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new Z3;switch(e.type){case"gapi":var s=e.client;return St(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new mz(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fe(we.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=Q3.get(this))&&(Ne("ComponentProvider","Removing Datastore"),Q3.delete(this),e.terminate()),Promise.resolve();var e},i}(),ci=function(){function i(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new ch(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),$s=function(){function i(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),ch=function(i){function t(e,s,o){var c=this;return(c=i.call(this,e,s,cy(o))||this)._path=o,c.type="collection",c}return(0,G.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new ht(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}($s);function iG(i,t){for(var e,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(i=(0,yn.m9)(i),iP("collection","path",t),i instanceof AC)return eG(e=fn.fromString.apply(fn,(0,G.ev)([t],s))),new ch(i,null,e);if(!(i instanceof ci||i instanceof ch))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eG(e=fn.fromString.apply(fn,(0,G.ev)([i.path],s)).child(fn.fromString(t))),new ch(i.firestore,null,e)}function eT(i,t){for(var e,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(i=(0,yn.m9)(i),1===arguments.length&&(t=LV.u()),iP("doc","path",t),i instanceof AC)return X3(e=fn.fromString.apply(fn,(0,G.ev)([t],s))),new ci(i,null,new ht(e));if(!(i instanceof ci||i instanceof ch))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return X3(e=i._path.child(fn.fromString.apply(fn,(0,G.ev)([t],s)))),new ci(i.firestore,i instanceof ch?i.converter:null,new ht(e))}function rG(i,t){return i=(0,yn.m9)(i),t=(0,yn.m9)(t),(i instanceof ci||i instanceof ch)&&(t instanceof ci||t instanceof ch)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function sG(i,t){return i=(0,yn.m9)(i),t=(0,yn.m9)(t),i instanceof $s&&t instanceof $s&&i.firestore===t.firestore&&fC(i._query,t._query)&&i.converter===t.converter}var _z=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new LF(this,"async_queue_retry"),this.Ic=function(){var s=qM();s&&Ne("AsyncQueue","Visibility state changed to "+s.visibilityState),t.Zi.Gi()};var e=qM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=qM();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new es;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,G.mG)(this,void 0,void 0,function(){var t,e=this;return(0,G.Jh)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hp(t=s.sent()))throw t;return Ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),s.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,s=this.dc.then(function(){return e.gc=!0,t().catch(function(o){throw e.yc=o,e.gc=!1,Li("INTERNAL UNHANDLED ERROR: ",(f=(c=o).message||"",c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f)),o;var c,f}).then(function(o){return e.gc=!1,o})});return this.dc=s,s},i.prototype.enqueueAfterDelay=function(t,e,s){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var c=k4.createAndSchedule(this,t,e,s,function(f){return o.vc(f)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&lt()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,G.mG)(this,void 0,void 0,function(){var t;return(0,G.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,s=this.mc;e<s.length;e++)if(s[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(f,y){return f.targetTimeMs-y.targetTimeMs});for(var s=0,o=e.mc;s<o.length;s++){var c=o[s];if(c.skipDelay(),"all"!==t&&c.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function ky(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var s=t,o=0,c=["next","error","complete"];o<c.length;o++){var f=c[o];if(f in s&&"function"==typeof s[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new es,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,s){this._progressObserver={next:t,error:e,complete:s}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ai=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this).type="firestore",o._queue=new _z,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return(0,G.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||oG(this),this._firestoreClient.terminate()},t}(AC);function hr(i){return i._firestoreClient||oG(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function oG(i){var t,c,y,e=i._freezeSettings(),s=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new hz(i._databaseId,c,i._persistenceKey,(y=e).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));i._firestoreClient=new dz(i._credentials,i._queue,s)}function aG(i,t,e){var s=this,o=new es;return i.asyncQueue.enqueue(function(){return(0,G.mG)(s,void 0,void 0,function(){var c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,H3(i,e)];case 1:return f.sent(),[4,z3(i,t)];case 2:return f.sent(),o.resolve(),[3,4];case 3:if(!("FirebaseError"===(y=c=f.sent()).name?y.code===we.FAILED_PRECONDITION||y.code===we.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c),[3,4];case 4:return[2]}var y})})}).then(function(){return o.promise})}function lG(i){if(i._initialized||i._terminated)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hu=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var s=0;s<t.length;++s)if(0===t[s].length)throw new Fe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ol(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),qp=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(ys.fromBase64String(t))}catch(e){throw new Fe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(ys.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),$p=function(i){this._methodName=i},tT=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)},i}(),bz=/^__.*__$/,wz=function(){function i(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new mC(t,this.data,e,this.fieldTransforms)},i}(),uG=function(){function i(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}return i.prototype.toMutation=function(t,e){return new nh(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function cG(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}var dG=function(){function i(t,e,s,o,c,f){this.settings=t,this.databaseId=e,this.R=s,this.ignoreUndefinedProperties=o,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.Fc=function(t){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.xc({path:s,kc:!1});return o.$c(t),o},i.prototype.Oc=function(t){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.xc({path:s,kc:!1});return o.Cc(),o},i.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},i.prototype.Lc=function(t){return iT(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(cG(this.Nc)&&bz.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),Cz=function(){function i(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=s||SC(t)}return i.prototype.Uc=function(t,e,s,o){return void 0===o&&(o=!1),new dG({Nc:t,methodName:e,qc:s,path:ol.emptyPath(),kc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function Wp(i){var t=i._freezeSettings(),e=SC(i._databaseId);return new Cz(i._databaseId,!!t.ignoreUndefinedProperties,e)}function nT(i,t,e,s,o,c){void 0===c&&(c={});var f=i.Uc(c.merge||c.mergeFields?2:0,t,e,o);lP("Data must be an object, but it was:",f,s);var y,C,x=pG(s,f);if(c.merge)y=new oy(f.fieldMask),C=f.fieldTransforms;else if(c.mergeFields){for(var M=[],R=0,F=c.mergeFields;R<F.length;R++){var V=uP(t,F[R],e);if(!f.contains(V))throw new Fe(we.INVALID_ARGUMENT,"Field '"+V+"' is specified in your field mask but missing from your input data.");mG(M,V)||M.push(V)}y=new oy(M),C=f.fieldTransforms.filter(function(U){return y.covers(U.field)})}else y=null,C=f.fieldTransforms;return new wz(new fo(x),y,C)}var sP=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($p);function hG(i,t,e){return new dG({Nc:3,qc:t.settings.qc,methodName:i._methodName,kc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ez=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new gC(e.path,new hy)},t.prototype.isEqual=function(e){return e instanceof t},t}($p),Sz=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Kc=s,o}return(0,G.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=hG(this,e,!0),o=this.Kc.map(function(f){return Qp(f,s)}),c=new Gp(o);return new gC(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}($p),xz=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Kc=s,o}return(0,G.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=hG(this,e,!0),o=this.Kc.map(function(f){return Qp(f,s)}),c=new Up(o);return new gC(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}($p),Dz=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Qc=s,o}return(0,G.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=new fy(e.R,s2(e.R,this.Qc));return new gC(e.path,s)},t.prototype.isEqual=function(e){return this===e},t}($p);function oP(i,t,e,s){var o=i.Uc(1,t,e);lP("Data must be an object, but it was:",o,s);var c=[],f=fo.empty();Lp(s,function(C,x){var M=cP(t,C,e);x=(0,yn.m9)(x);var R=o.Oc(M);if(x instanceof sP)c.push(M);else{var F=Qp(x,R);null!=F&&(c.push(M),f.set(M,F))}});var y=new oy(c);return new uG(f,y,o.fieldTransforms)}function aP(i,t,e,s,o,c){var f=i.Uc(1,t,e),y=[uP(t,s,e)],C=[o];if(c.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var x=0;x<c.length;x+=2)y.push(uP(t,c[x])),C.push(c[x+1]);for(var M=[],R=fo.empty(),F=y.length-1;F>=0;--F)if(!mG(M,y[F])){var V=y[F],U=C[F];U=(0,yn.m9)(U);var Q=f.Oc(V);if(U instanceof sP)M.push(V);else{var le=Qp(U,Q);null!=le&&(M.push(V),R.set(V,le))}}var ce=new oy(M);return new uG(R,ce,f.fieldTransforms)}function fG(i,t,e,s){return void 0===s&&(s=!1),Qp(e,i.Uc(s?4:3,t))}function Qp(i,t){if(gG(i=(0,yn.m9)(i)))return lP("Unsupported field value:",t,i),pG(i,t);if(i instanceof $p)return function(e,s){if(!cG(s.Nc))throw s.Lc(e._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(e._methodName+"() is not currently supported inside arrays");var o=e._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,s){for(var o=[],c=0,f=0,y=e;f<y.length;f++){var C=Qp(y[f],s.Mc(c));null==C&&(C={nullValue:"NULL_VALUE"}),o.push(C),c++}return{arrayValue:{values:o}}}(i,t)}return function(e,s){if(null===(e=(0,yn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return s2(s.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var o=Hs.fromDate(e);return{timestampValue:yC(s.R,o)}}if(e instanceof Hs)return o=new Hs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:yC(s.R,o)};if(e instanceof tT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qp)return{bytesValue:x2(s.R,e._byteString)};if(e instanceof ci){var c=e.firestore._databaseId;if(!c.isEqual(o=s.databaseId))throw s.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:CF(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Lc("Unsupported field value: "+XM(e))}(i,t)}function pG(i,t){var e={};return GV(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lp(i,function(s,o){var c=Qp(o,t.Fc(s));null!=c&&(e[s]=c)}),{mapValue:{fields:e}}}function gG(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hs||i instanceof tT||i instanceof qp||i instanceof ci||i instanceof $p)}function lP(i,t,e){if(!gG(e)||"object"!=typeof(o=e)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){var s=XM(e);throw t.Lc("an object"===s?i+" a custom object":i+" "+s)}var o}function uP(i,t,e){if((t=(0,yn.m9)(t))instanceof hu)return t._internalPath;if("string"==typeof t)return cP(i,t);throw iT("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var Az=new RegExp("[~\\*/\\[\\]]");function cP(i,t,e){if(t.search(Az)>=0)throw iT("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(hu.bind.apply(hu,(0,G.ev)([void 0],t.split(".")))))._internalPath}catch(s){throw iT("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function iT(i,t,e,s,o){var c=s&&!s.isEmpty(),f=void 0!==o,y="Function "+t+"() called with invalid data";e&&(y+=" (via `toFirestore()`)");var C="";return(c||f)&&(C+=" (found",c&&(C+=" in field "+s),f&&(C+=" in document "+o),C+=")"),new Fe(we.INVALID_ARGUMENT,(y+=". ")+i+C)}function mG(i,t){return i.some(function(e){return e.isEqual(t)})}var MC=function(){function i(t,e,s,o,c){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new ci(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new Mz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(rT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),Mz=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(MC);function rT(i,t){return"string"==typeof t?cP(i,t):t instanceof hu?t._internalPath:t._delegate._internalPath}var Kp=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),Dc=function(i){function t(e,s,o,c,f,y){var C=this;return(C=i.call(this,e,s,o,c,y)||this)._firestore=e,C._firestoreImpl=e,C.metadata=f,C}return(0,G.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var s=new TC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,s){if(void 0===s&&(s={}),this._document){var o=this._document.data.field(rT("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,s.serverTimestamps)}},t}(MC),TC=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(Dc),dh=function(){function i(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Kp(o.hasPendingWrites,o.fromCache),this.query=s}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var s=this;this._snapshot.docs.forEach(function(o){t.call(e,new TC(s._firestore,s._userDataWriter,o.key,o,new Kp(s._snapshot.mutatedKeys.has(o.key),s._snapshot.fromCache),s.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){var c=0;return s._snapshot.docChanges.map(function(y){return{type:"added",doc:new TC(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Kp(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}})}var f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(y){return o||3!==y.type}).map(function(y){var C=new TC(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Kp(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),x=-1,M=-1;return 0!==y.type&&(x=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),1!==y.type&&(M=(f=f.add(y.doc)).indexOf(y.doc.key)),{type:Tz(y.type),doc:C,oldIndex:x,newIndex:M}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function Tz(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function _G(i,t){return i instanceof Dc&&t instanceof Dc?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof dh&&t instanceof dh&&i._firestore===t._firestore&&sG(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function yG(i){if(RM(i)&&0===i.explicitOrderBy.length)throw new Fe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IC=function(){};function hh(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var s=0,o=t;s<o.length;s++){var c=o[s];i=c._apply(i)}return i}var Iz=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).jc=e,c.Wc=s,c.Gc=o,c.type="where",c}return(0,G.ZT)(t,i),t.prototype._apply=function(e){var c,y,s=Wp(e.firestore),o=function(c,f,y,C,x,M,R){var F;if(x.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+M+"' queries on FieldPath.documentId().");if("in"===M||"not-in"===M){SG(R,M);for(var V=[],U=0,Q=R;U<Q.length;U++)V.push(EG(C,c,Q[U]));F={arrayValue:{values:V}}}else F=EG(C,c,R)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||SG(R,M),F=fG(y,"where",R,"in"===M||"not-in"===M);var ce=po.create(x,M,F);return function(Ae,Ie){if(Ie.g()){var qe=pF(Ae);if(null!==qe&&!qe.isEqual(Ie.field))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+qe.toString()+"' and '"+Ie.field.toString()+"'");var Ke=fF(Ae);null!==Ke&&xG(0,Ie.field,Ke)}var Nt=function(on,yo){for(var bs=0,ga=on.filters;bs<ga.length;bs++){var VC=ga[bs];if(yo.indexOf(VC.op)>=0)return VC.op}return null}(Ae,function(on){switch(on){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ie.op));if(null!==Nt)throw new Fe(we.INVALID_ARGUMENT,Nt===Ie.op?"Invalid query. You cannot use more than one '"+Ie.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ie.op.toString()+"' filters with '"+Nt.toString()+"' filters.")}(c,ce),ce}(e._query,0,s,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new $s(e.firestore,e.converter,(y=(c=e._query).filters.concat([o]),new Cc(c.path,c.collectionGroup,c.explicitOrderBy.slice(),y,c.limit,c.limitType,c.startAt,c.endAt)))},t}(IC),Rz=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).jc=e,o.zc=s,o.type="orderBy",o}return(0,G.ZT)(t,i),t.prototype._apply=function(e){var o,f,s=function(o,c,f){if(null!==o.startAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var y=new uy(c,f);return function(C,x){if(null===fF(C)){var M=pF(C);null!==M&&xG(0,M,x.field)}}(o,y),y}(e._query,this.jc,this.zc);return new $s(e.firestore,e.converter,(f=(o=e._query).explicitOrderBy.concat([s]),new Cc(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)))},t}(IC),vG=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).type=e,c.Hc=s,c.Jc=o,c}return(0,G.ZT)(t,i),t.prototype._apply=function(e){return new $s(e.firestore,e.converter,XV(e._query,this.Hc,this.Jc))},t}(IC),bG=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).type=e,c.Yc=s,c.Xc=o,c}return(0,G.ZT)(t,i),t.prototype._apply=function(e){var o,c,s=CG(e,this.type,this.Yc,this.Xc);return new $s(e.firestore,e.converter,(c=s,new Cc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)))},t}(IC),wG=function(i){function t(e,s,o){var c=this;return(c=i.call(this)||this).type=e,c.Yc=s,c.Xc=o,c}return(0,G.ZT)(t,i),t.prototype._apply=function(e){var o,c,s=CG(e,this.type,this.Yc,this.Xc);return new $s(e.firestore,e.converter,(c=s,new Cc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)))},t}(IC);function CG(i,t,e,s){if(e[0]=(0,yn.m9)(e[0]),e[0]instanceof MC)return function(c,f,y,C,x){if(!C)throw new Fe(we.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+y+"().");for(var M=[],R=0,F=dy(c);R<F.length;R++){var V=F[R];if(V.field.isKeyField())M.push(xM(f,C.key));else{var U=C.data.field(V.field);if(lF(U))throw new Fe(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+V.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){var Q=V.field.canonicalString();throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Q+"' (used as the orderBy) does not exist.")}M.push(U)}}return new hC(M,x)}(i._query,i.firestore._databaseId,t,e[0]._document,s);var o=Wp(i.firestore);return function(c,f,y,C,x,M){var R=c.explicitOrderBy;if(x.length>R.length)throw new Fe(we.INVALID_ARGUMENT,"Too many arguments provided to "+C+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var F=[],V=0;V<x.length;V++){var U=x[V];if(R[V].field.isKeyField()){if("string"!=typeof U)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+C+"(), but got a "+typeof U);if(!gF(c)&&-1!==U.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+C+"() must be a plain document ID, but '"+U+"' contains a slash.");var Q=c.path.child(fn.fromString(U));if(!ht.isDocumentKey(Q))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+C+"() must result in a valid document path, but '"+Q+"' is not because it contains an odd number of segments.");var le=new ht(Q);F.push(xM(f,le))}else{var ce=fG(y,C,U);F.push(ce)}}return new hC(F,M)}(i._query,i.firestore._databaseId,o,t,e,s)}function EG(i,t,e){if("string"==typeof(e=(0,yn.m9)(e))){if(""===e)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gF(t)&&-1!==e.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var s=t.path.child(fn.fromString(e));if(!ht.isDocumentKey(s))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return xM(i,new ht(s))}if(e instanceof ci)return xM(i,e._key);throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+XM(e)+".")}function SG(i,t){if(!Array.isArray(i)||0===i.length)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new Fe(we.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function xG(i,t,e){if(!e.isEqual(t))throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var dP=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Vp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ay(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw lt()}},i.prototype.convertObject=function(t,e){var s=this,o={};return Lp(t.fields,function(c,f){o[c]=s.convertValue(f,e)}),o},i.prototype.convertGeoPoint=function(t){return new tT(Bi(t.latitude),Bi(t.longitude))},i.prototype.convertArray=function(t,e){var s=this;return(t.values||[]).map(function(o){return s.convertValue(o,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var s=jV(t);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(lC(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=th(t);return new Hs(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var s=fn.fromString(t);St(B2(s));var o=new JM(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return o.isEqual(e)||Li("Document "+c+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),c},i}();function sT(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var Oz=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,G.ZT)(t,i),t.prototype.convertBytes=function(e){return new qp(e)},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,s)},t}(dP),kz=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wp(t)}return i.prototype.set=function(t,e,s){this._verifyNotCommitted();var o=fh(t,this._firestore),c=sT(o.converter,e,s),f=nT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,Zr.none())),this},i.prototype.update=function(t,e,s){for(var o=[],c=3;c<arguments.length;c++)o[c-3]=arguments[c];this._verifyNotCommitted();var f,y=fh(t,this._firestore);return f="string"==typeof(e=(0,yn.m9)(e))||e instanceof hu?aP(this._dataReader,"WriteBatch.update",y._key,e,s,o):oP(this._dataReader,"WriteBatch.update",y._key,e),this._mutations.push(f.toMutation(y._key,Zr.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=fh(t,this._firestore);return this._mutations=this._mutations.concat(new _C(e._key,Zr.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function fh(i,t){if((i=(0,yn.m9)(i)).firestore!==t)throw new Fe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var Zp=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,G.ZT)(t,i),t.prototype.convertBytes=function(e){return new qp(e)},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,s)},t}(dP);function DG(i,t,e){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];i=pn(i,ci);var c=pn(i.firestore,Ai),f=Wp(c);return RC(c,[("string"==typeof(t=(0,yn.m9)(t))||t instanceof hu?aP(f,"updateDoc",i._key,t,e,s):oP(f,"updateDoc",i._key,t)).toMutation(i._key,Zr.exists(!0))])}function AG(i){for(var t,e,s,o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];i=(0,yn.m9)(i);var f={includeMetadataChanges:!1},y=0;"object"!=typeof o[y]||ky(o[y])||(f=o[y],y++);var C,x,M,R={includeMetadataChanges:f.includeMetadataChanges};if(ky(o[y])){var F=o[y];o[y]=null===(t=F.next)||void 0===t?void 0:t.bind(F),o[y+1]=null===(e=F.error)||void 0===e?void 0:e.bind(F),o[y+2]=null===(s=F.complete)||void 0===s?void 0:s.bind(F)}if(i instanceof ci)x=pn(i.firestore,Ai),M=cy(i._key.path),C={next:function(Q){o[y]&&o[y](hP(x,i,Q))},error:o[y+1],complete:o[y+2]};else{var V=pn(i,$s);x=pn(V.firestore,Ai),M=V._query;var U=new Zp(x);C={next:function(Q){o[y]&&o[y](new dh(x,U,V,Q))},error:o[y+1],complete:o[y+2]},yG(i._query)}return function(Q,le,ce,Ae){var Ie=this,qe=new KM(Ae),Ke=new YF(le,qe,ce);return Q.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(Ie,void 0,void 0,function(){var Nt;return(0,G.Jh)(this,function(on){switch(on.label){case 0:return Nt=jF,[4,Oy(Q)];case 1:return[2,Nt.apply(void 0,[on.sent(),Ke])]}})})}),function(){qe.Wo(),Q.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(Ie,void 0,void 0,function(){var Nt;return(0,G.Jh)(this,function(on){switch(on.label){case 0:return Nt=HF,[4,Oy(Q)];case 1:return[2,Nt.apply(void 0,[on.sent(),Ke])]}})})})}}(hr(x),M,R,C)}function RC(i,t){return function(e,s){var o=this,c=new es;return e.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(o,void 0,void 0,function(){var f;return(0,G.Jh)(this,function(y){switch(y.label){case 0:return f=Y4,[4,nP(e)];case 1:return[2,f.apply(void 0,[y.sent(),s,c])]}})})}),c.promise}(hr(i),t)}function hP(i,t,e){var s=e.docs.get(t._key),o=new Zp(i);return new Dc(i,o,t._key,s,new Kp(e.hasPendingWrites,e.fromCache),t.converter)}var Fz=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this)._firestore=e,o}return(0,G.ZT)(t,i),t.prototype.get=function(e){var s=this,o=fh(e,this._firestore),c=new Zp(this._firestore);return i.prototype.get.call(this,e).then(function(f){return new Dc(s._firestore,c,o._key,f._document,new Kp(!1,!1),o.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wp(t)}return i.prototype.get=function(t){var e=this,s=fh(t,this._firestore),o=new Oz(this._firestore);return this._transaction.lookup([s._key]).then(function(c){if(!c||1!==c.length)return lt();var f=c[0];if(f.isFoundDocument())return new MC(e._firestore,o,f.key,f,s.converter);if(f.isNoDocument())return new MC(e._firestore,o,s._key,null,s.converter);throw lt()})},i.prototype.set=function(t,e,s){var o=fh(t,this._firestore),c=sT(o.converter,e,s),f=nT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,s);return this._transaction.set(o._key,f),this},i.prototype.update=function(t,e,s){for(var o=[],c=3;c<arguments.length;c++)o[c-3]=arguments[c];var f,y=fh(t,this._firestore);return f="string"==typeof(e=(0,yn.m9)(e))||e instanceof hu?aP(this._dataReader,"Transaction.update",y._key,e,s,o):oP(this._dataReader,"Transaction.update",y._key,e),this._transaction.update(y._key,f),this},i.prototype.delete=function(t){var e=fh(t,this._firestore);return this._transaction.delete(e._key),this},i}());function MG(){if("undefined"==typeof Uint8Array)throw new Fe(we.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function TG(){if("undefined"==typeof atob)throw new Fe(we.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var IG=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return TG(),new i(qp.fromBase64String(t))},i.fromUint8Array=function(t){return MG(),new i(qp.fromUint8Array(t))},i.prototype.toBase64=function(){return TG(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return MG(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),Pz=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(s,o){lG(s=pn(s,Ai));var c=hr(s),f=s._freezeSettings(),y=new XF;return aG(c,y,new U3(y,f.cacheSizeBytes,null==o?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){lG(e=pn(e,Ai));var s=hr(e),o=e._freezeSettings(),c=new XF;return aG(s,c,new az(c,o.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var s=this;if(e._initialized&&!e._terminated)throw new Fe(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new es;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,G.mG)(s,void 0,void 0,function(){var c;return(0,G.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(y){return(0,G.mG)(this,void 0,void 0,function(){return(0,G.Jh)(this,function(x){switch(x.label){case 0:return yy.yt()?[4,yy.delete(y+"main")]:[2,Promise.resolve()];case 1:return x.sent(),[2]}})})}(RF(e._databaseId,e._persistenceKey))];case 1:return f.sent(),o.resolve(),[3,3];case 2:return c=f.sent(),o.reject(c),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},i}(),RG=function(){function i(t,e,s){var o=this;this._delegate=e,this.Zc=s,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof JM||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||aC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,s){void 0===s&&(s={}),function(o,c,f,y){void 0===y&&(y={});var C=(o=pn(o,AC))._getSettings();if("firestore.googleapis.com"!==C.host&&C.host!==c&&aC("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},C),{host:c+":"+f,ssl:!1})),y.mockUserToken){var x=(0,yn.Sg)(y.mockUserToken),M=y.mockUserToken.sub||y.mockUserToken.user_id;if(!M)throw new Fe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o._credentials=new fz(new K3(x,new qs(M)))}}(this._delegate,t,e,s)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,G.mG)(e,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,Y3(t)];case 1:return s=c.sent(),[4,q3(t)];case 2:return o=c.sent(),[2,(s.setNetworkEnabled(!0),f=o,y=je(f),y.Or.delete(0),xC(y))]}var f,y})})})}(hr(pn(this._delegate,Ai)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,G.mG)(e,void 0,void 0,function(){var s,o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return[4,Y3(t)];case 1:return s=c.sent(),[4,q3(t)];case 2:return o=c.sent(),[2,(s.setNetworkEnabled(!1),function(f){return(0,G.mG)(this,void 0,void 0,function(){var y;return(0,G.Jh)(this,function(C){switch(C.label){case 0:return(y=je(f)).Or.add(0),[4,Ay(y)];case 1:return C.sent(),y.Br.set("Offline"),[2]}})})}(o))]}})})})}(hr(pn(this._delegate,Ai)))},i.prototype.enablePersistence=function(t){var e=!1,s=!1;return t&&J3("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",s=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,s=new es;return t.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(e,void 0,void 0,function(){var o;return(0,G.Jh)(this,function(c){switch(c.label){case 0:return o=Q4,[4,nP(t)];case 1:return[2,o.apply(void 0,[c.sent(),s])]}})})}),s.promise}(hr(pn(this._delegate,Ai)))},i.prototype.onSnapshotsInSync=function(t){return s=t,function(o,c){var f=this,y=new KM(c);return o.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(f,void 0,void 0,function(){var C;return(0,G.Jh)(this,function(x){switch(x.label){case 0:return C=function(M,R){je(M).Gr.add(R),R.next()},[4,Oy(o)];case 1:return[2,C.apply(void 0,[x.sent(),y])]}})})}),function(){y.Wo(),o.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(f,void 0,void 0,function(){var C;return(0,G.Jh)(this,function(x){switch(x.label){case 0:return C=function(M,R){je(M).Gr.delete(R)},[4,Oy(o)];case 1:return[2,C.apply(void 0,[x.sent(),y])]}})})})}}(hr(pn(this._delegate,Ai)),ky(s)?s:{next:s});var s},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new lT(this,iG(this._delegate,t))}catch(e){throw vs(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new Jp(this,eT(this._delegate,t))}catch(e){throw vs(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new FC(this,function(e,s){if(e=pn(e,AC),iP("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new $s(e,null,(o=s,new Cc(fn.emptyPath(),o)));var o}(this._delegate,t))}catch(e){throw vs(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var s,e=this;return function(c,f){var y=this,C=new es;return c.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(y,void 0,void 0,function(){var x;return(0,G.Jh)(this,function(M){switch(M.label){case 0:return[4,(R=c,ZM(R).then(function(F){return F.datastore}))];case 1:return x=M.sent(),new cz(c.asyncQueue,x,f,C).run(),[2]}var R})})}),C.promise}(hr(s=this._delegate),function(c){return function(s){return t(new OG(e,s))}(new Fz(s,c))})},i.prototype.batch=function(){var t=this;return hr(this._delegate),new kG(new kz(this._delegate,function(e){return RC(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new Fe(we.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new Fe(we.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),oT=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,G.ZT)(t,i),t.prototype.convertBytes=function(e){return new IG(new qp(e))},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return Jp.eu(s,this.firestore,null)},t}(dP),OG=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new oT(t)}return i.prototype.get=function(t){var e=this,s=Xp(t);return this._delegate.get(s).then(function(o){return new OC(e._firestore,new Dc(e._firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,s.converter))})},i.prototype.set=function(t,e,s){var o=Xp(t);return s?(rP("Transaction.set",s),this._delegate.set(o,e,s)):this._delegate.set(o,e),this},i.prototype.update=function(t,e,s){for(var o,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var y=Xp(t);return 2===arguments.length?this._delegate.update(y,e):(o=this._delegate).update.apply(o,(0,G.ev)([y,e,s],c)),this},i.prototype.delete=function(t){var e=Xp(t);return this._delegate.delete(e),this},i}(),kG=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,s){var o=Xp(t);return s?(rP("WriteBatch.set",s),this._delegate.set(o,e,s)):this._delegate.set(o,e),this},i.prototype.update=function(t,e,s){for(var o,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var y=Xp(t);return 2===arguments.length?this._delegate.update(y,e):(o=this._delegate).update.apply(o,(0,G.ev)([y,e,s],c)),this},i.prototype.delete=function(t){var e=Xp(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),aT=function(){function i(t,e,s){this._firestore=t,this._userDataWriter=e,this._delegate=s}return i.prototype.fromFirestore=function(t,e){var s=new TC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kC(this._firestore,s),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var s=i.su,o=s.get(t);o||(o=new WeakMap,s.set(t,o));var c=o.get(e);return c||(c=new i(t,new oT(t),e),o.set(e,c)),c},i}();aT.su=new WeakMap;var Jp=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oT(t)}return i.iu=function(t,e,s){if(t.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new ci(e._delegate,s,new ht(t)))},i.eu=function(t,e,s){return new i(e,new ci(e._delegate,s,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new lT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new lT(this.firestore,iG(this._delegate,t))}catch(e){throw vs(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,yn.m9)(t))instanceof ci&&rG(this._delegate,t)},i.prototype.set=function(t,e){e=rP("DocumentReference.set",e);try{return function(s,o,c){s=pn(s,ci);var f=pn(s.firestore,Ai),y=sT(s.converter,o,c);return RC(f,[nT(Wp(f),"setDoc",s._key,y,null!==s.converter,c).toMutation(s._key,Zr.none())])}(this._delegate,t,e)}catch(s){throw vs(s,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];try{return 1===arguments.length?DG(this._delegate,t):DG.apply(void 0,(0,G.ev)([this._delegate,t,e],s))}catch(c){throw vs(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return RC(pn((t=this._delegate).firestore,Ai),[new _C(t._key,Zr.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var o=FG(e),c=PG(e,function(f){return new OC(t.firestore,new Dc(t.firestore._delegate,t._userDataWriter,f._key,f._document,f.metadata,t._delegate.converter))});return AG(this._delegate,o,c)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(s){s=pn(s,ci);var o=pn(s.firestore,Ai),c=hr(o),f=new Zp(o);return function(y,C){var x=this,M=new es;return y.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(x,void 0,void 0,function(){var R;return(0,G.Jh)(this,function(F){switch(F.label){case 0:return R=function(V,U,Q){return(0,G.mG)(this,void 0,void 0,function(){var le,ce;return(0,G.Jh)(this,function(Ae){switch(Ae.label){case 0:return Ae.trys.push([0,2,,3]),[4,(Ie=V,qe=U,Ke=je(Ie),Ke.persistence.runTransaction("read document","readonly",function(Nt){return Ke.Mn.mn(Nt,qe)}))];case 1:return(ce=Ae.sent()).isFoundDocument()?Q.resolve(ce):ce.isNoDocument()?Q.resolve(null):Q.reject(new Fe(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return le=Ae.sent(),ce=Iy(le,"Failed to get document '"+U+" from cache"),Q.reject(ce),[3,3];case 3:return[2]}var Ie,qe,Ke})})},[4,tP(y)];case 1:return[2,R.apply(void 0,[F.sent(),C,M])]}})})}),M.promise}(c,s._key).then(function(y){return new Dc(o,f,s._key,y,new Kp(null!==y&&y.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(s){s=pn(s,ci);var o=pn(s.firestore,Ai);return $3(hr(o),s._key,{source:"server"}).then(function(c){return hP(o,s,c)})}(this._delegate):function(s){s=pn(s,ci);var o=pn(s.firestore,Ai);return $3(hr(o),s._key).then(function(c){return hP(o,s,c)})}(this._delegate)).then(function(s){return new OC(e.firestore,new Dc(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?aT.nu(this.firestore,t):null))},i}();function vs(i,t,e){return i.message=i.message.replace(t,e),i}function FG(i){for(var t=0,e=i;t<e.length;t++){var s=e[t];if("object"==typeof s&&!ky(s))return s}return{}}function PG(i,t){var e,s,o;return{next:function(c){o.next&&o.next(t(c))},error:null===(e=(o=ky(i[0])?i[0]:ky(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}var OC=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Jp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return _G(this._delegate,t._delegate)},i}(),kC=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,G.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(OC),FC=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oT(t)}return i.prototype.where=function(t,e,s){try{return new i(this.firestore,hh(this._delegate,(f=s,y=e,C=rT("where",o=t),new Iz(C,y,f))))}catch(o){throw vs(o,/(orderBy|where)\(\)/,"Query.$1()")}var o,f,y,C},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,hh(this._delegate,function(s,o){void 0===o&&(o="asc");var c=o,f=rT("orderBy",s);return new Rz(f,c)}(t,e)))}catch(s){throw vs(s,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,hh(this._delegate,(tG("limit",e=t),new vG("limit",e,"F"))))}catch(e){throw vs(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,hh(this._delegate,(tG("limitToLast",e=t),new vG("limitToLast",e,"L"))))}catch(e){throw vs(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,hh(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new bG("startAt",s,!0)}.apply(void 0,t)))}catch(s){throw vs(s,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,hh(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new bG("startAfter",s,!1)}.apply(void 0,t)))}catch(s){throw vs(s,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,hh(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new wG("endBefore",s,!0)}.apply(void 0,t)))}catch(s){throw vs(s,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,hh(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new wG("endAt",s,!1)}.apply(void 0,t)))}catch(s){throw vs(s,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return sG(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(s){s=pn(s,$s);var o=pn(s.firestore,Ai),c=hr(o),f=new Zp(o);return function(y,C){var x=this,M=new es;return y.asyncQueue.enqueueAndForget(function(){return(0,G.mG)(x,void 0,void 0,function(){var R;return(0,G.Jh)(this,function(F){switch(F.label){case 0:return R=function(V,U,Q){return(0,G.mG)(this,void 0,void 0,function(){var le,ce,Ae,Ie,qe;return(0,G.Jh)(this,function(Ke){switch(Ke.label){case 0:return Ke.trys.push([0,2,,3]),[4,YM(V,U,!0)];case 1:return qe=Ke.sent(),le=new F3(U,qe.Bn),ce=le._o(qe.documents),Ae=le.applyChanges(ce,!1),Q.resolve(Ae.snapshot),[3,3];case 2:return Ie=Ke.sent(),qe=Iy(Ie,"Failed to execute query '"+U+" against cache"),Q.reject(qe),[3,3];case 3:return[2]}})})},[4,tP(y)];case 1:return[2,R.apply(void 0,[F.sent(),C,M])]}})})}),M.promise}(c,s._query).then(function(y){return new dh(o,f,s,y)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(s){s=pn(s,$s);var o=pn(s.firestore,Ai),c=hr(o),f=new Zp(o);return W3(c,s._query,{source:"server"}).then(function(y){return new dh(o,f,s,y)})}(this._delegate):function(s){s=pn(s,$s);var o=pn(s.firestore,Ai),c=hr(o),f=new Zp(o);return yG(s._query),W3(c,s._query).then(function(y){return new dh(o,f,s,y)})}(this._delegate)).then(function(s){return new fP(e.firestore,new dh(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var o=FG(e),c=PG(e,function(f){return new fP(t.firestore,new dh(t.firestore._delegate,t._userDataWriter,t._delegate,f._snapshot))});return AG(this._delegate,o,c)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?aT.nu(this.firestore,t):null))},i}(),Lz=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new kC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),fP=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new FC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new kC(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(s){return new Lz(e._firestore,s)})},i.prototype.forEach=function(t,e){var s=this;this._delegate.forEach(function(o){t.call(e,new kC(s._firestore,o))})},i.prototype.isEqual=function(t){return _G(this._delegate,t._delegate)},i}(),lT=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this).firestore=e,o._delegate=s,o}return(0,G.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Jp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Jp(this.firestore,void 0===e?eT(this._delegate):eT(this._delegate,e))}catch(s){throw vs(s,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var o,c,f,y,C,s=this;return(o=this._delegate,c=e,f=pn(o.firestore,Ai),y=eT(o),C=sT(o.converter,c),RC(f,[nT(Wp(o.firestore),"addDoc",y._key,C,null!==o.converter,{}).toMutation(y._key,Zr.exists(!1))]).then(function(){return y})).then(function(o){return new Jp(s.firestore,o)})},t.prototype.isEqual=function(e){return rG(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?aT.nu(this.firestore,e):null))},t}(FC);function Xp(i){return pn(i,ci)}var Bz=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(hu.bind.apply(hu,(0,G.ev)([void 0],t)))}return i.documentId=function(){return new i(ol.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,yn.m9)(t))instanceof hu&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),Vz=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new Ez("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new sP("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new Sz("arrayUnion",o)}.apply(void 0,t);return s._methodName="FieldValue.arrayUnion",new i(s)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new xz("arrayRemove",o)}.apply(void 0,t);return s._methodName="FieldValue.arrayRemove",new i(s)},i.increment=function(t){var e=new Dz("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),Gz=j(6034),Uz={Firestore:RG,GeoPoint:tT,Timestamp:Hs,Blob:IG,Transaction:OG,WriteBatch:kG,DocumentReference:Jp,DocumentSnapshot:OC,Query:FC,QueryDocumentSnapshot:kC,QuerySnapshot:fP,CollectionReference:lT,FieldPath:Bz,FieldValue:Vz,setLogLevel:function(i){sl.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new Gz.wA("firestore",function(s){return t=s.getProvider("app").getImmediate(),e=s.getProvider("auth-internal"),new RG(t,new Ai(t,e),new Pz);var t,e},"PUBLIC").setServiceProps(Object.assign({},Uz))),i.registerVersion("@firebase/firestore","2.3.10")}(Qj.Z),j(9673);const Fy=new u.OlP("angularfire2.auth.use-emulator");function jG(i,t){return function(i,t=Ku.z){return new Fn.y(e=>{let s;return null!=t?t.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},e)}):s=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(i,t)}function gP(i,t){return jG(i,t).pipe((0,et.U)(e=>({payload:e,type:"query"})))}function uT(i,t){return gP(i,t).pipe(li(void 0),Jv(),(0,et.U)(([e,s])=>{const o=s.payload.docChanges(),c=o.map(f=>({type:f.type,payload:f}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,y)=>{const C=o.find(M=>M.doc.ref.isEqual(f.ref)),x=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(f.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(f.metadata)||!C&&x&&JSON.stringify(x.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),c}))}function HG(i,t,e){return uT(i,e).pipe(nu((s,o)=>function(i,t,e){return t.forEach(s=>{e.indexOf(s.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return mP(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return mP(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mP(i,t.oldIndex,1)}return i}(i,s))}),i}(s,o.map(c=>c.payload),t),[]),Qu(),(0,et.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function mP(i,t,e,...s){const o=i.slice();return o.splice(t,e,...s),o}function zG(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class YG{constructor(t,e,s){this.ref=t,this.query=e,this.afs=s}stateChanges(t){let e=uT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,et.U)(s=>s.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(li(void 0),Jv(),rn(([s,o])=>o.length>0||!s),(0,et.U)(([s,o])=>o),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(nu((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=zG(t);return HG(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return gP(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.payload.docs.map(s=>t.idField?Object.assign(Object.assign({},s.data()),{[t.idField]:s.id}):s.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ti.D)(this.query.get(t)).pipe((0,Pl.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new qG(this.ref.doc(t),this.afs)}}class qG{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const s=this.ref.collection(t),{ref:o,query:c}=QG(s,e);return new YG(o,c,this.afs)}snapshotChanges(){return function(i,t){return jG(i,t).pipe(li(void 0),Jv(),(0,et.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,et.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ti.D)(this.ref.get(t)).pipe((0,Pl.QV)(this.afs.schedulers.insideAngular))}}class Qz{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?uT(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.filter(s=>t.indexOf(s.type)>-1)),rn(e=>e.length>0),this.afs.keepUnstableUntilFirst):uT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(nu((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=zG(t);return HG(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return gP(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(s=>s.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ti.D)(this.query.get(t)).pipe((0,Pl.QV)(this.afs.schedulers.insideAngular))}}const _P=new u.OlP("angularfire2.enableFirestorePersistence"),yP=new u.OlP("angularfire2.firestore.persistenceSettings"),$G=new u.OlP("angularfire2.firestore.settings"),WG=new u.OlP("angularfire2.firestore.use-emulator");function QG(i,t=(e=>e)){return{query:t(i),ref:i}}let vP=(()=>{class i{constructor(e,s,o,c,f,y,C,x,M){this.schedulers=new xn.HU(y),this.keepUnstableUntilFirst=(0,xn.ss)(this.schedulers);const R=(0,xn.on)(e,y,s);!gB.Z.auth&&M&&(0,xn.yq)();const F=x;[this.firestore,this.persistenceEnabled$]=(0,xn.sI)(`${R.name}.firestore`,"AngularFirestore",R,()=>{const V=y.runOutsideAngular(()=>R.firestore());if(c&&V.settings(c),F&&V.useEmulator(...F),o&&!Js(f)){const U=()=>{try{return(0,ti.D)(V.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Q){return"undefined"!=typeof console&&console.warn(Q),(0,Ye.of)(!1)}};return[V,y.runOutsideAngular(U)]}return[V,(0,Ye.of)(!1)]},[c,F,o])}collection(e,s){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:f}=QG(o,s),y=this.schedulers.ngZone.run(()=>c);return new YG(y,f,this)}collectionGroup(e,s){const o=s||(f=>f),c=this.firestore.collectionGroup(e);return new Qz(o(c),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>s);return new qG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xn.Dh),u.LFG(xn.xv,8),u.LFG(_P,8),u.LFG($G,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yP,8),u.LFG(WG,8),u.LFG(Fy,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(xn.Dh),u.LFG(xn.xv,8),u.LFG(_P,8),u.LFG($G,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(yP,8),u.LFG(WG,8),u.LFG(Fy,8))},token:i,providedIn:"any"}),i})(),Kz=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:_P,useValue:!0},{provide:yP,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[vP]}),i})();const KG=new Set;let Py,ZG=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jz}matchMedia(e){return this._platform.WEBKIT&&function(i){if(!KG.has(i))try{Py||(Py=document.createElement("style"),Py.setAttribute("type","text/css"),document.head.appendChild(Py)),Py.sheet&&(Py.sheet.insertRule(`@media ${i} {.fx-query-test{ }}`,0),KG.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut))},token:i,providedIn:"root"}),i})();function Jz(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let JG=(()=>{class i{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new ze.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return XG(Go(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let c=bD(XG(Go(e)).map(f=>this._registerQuery(f).observable));return c=Zv(c.pipe($i(1)),c.pipe(eS(1),_f(0))),c.pipe((0,et.U)(f=>{const y={matches:!1,breakpoints:{}};return f.forEach(({matches:C,query:x})=>{y.matches=y.matches||C,y.breakpoints[x]=C}),y}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),c={observable:new Fn.y(f=>{const y=C=>this._zone.run(()=>f.next(C));return s.addListener(y),()=>{s.removeListener(y)}}).pipe(li(s),(0,et.U)(({matches:f})=>({query:e,matches:f})),yt(this._destroySubject)),mql:s};return this._queries.set(e,c),c}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(ZG),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(ZG),u.LFG(u.R0b))},token:i,providedIn:"root"}),i})();function XG(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function eY(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"button",2),u.NdJ("click",function(){return u.CHM(e),u.oxw().action()}),u._uU(2),u.qZA(),u.qZA()}if(2&i){const e=u.oxw();u.xp6(2),u.Oqu(e.data.action)}}function tY(i,t){}const eU=new u.OlP("MatSnackBarData");class cT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const nY=Math.pow(2,31)-1;class bP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ze.xQ,this._afterOpened=new ze.xQ,this._onAction=new ze.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,nY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let iY=(()=>{class i{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(bP),u.Y36(eU))},i.\u0275cmp=u.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,s){1&e&&(u.TgZ(0,"span"),u._uU(1),u.qZA(),u.YNc(2,eY,3,1,"div",0)),2&e&&(u.xp6(1),u.Oqu(s.data.message),u.xp6(1),u.Q6J("ngIf",s.hasAction))},directives:[Ft,Ip],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),i})();const rY={snackBarState:jl("state",[us("void, hidden",zn({transform:"scale(0.8)",opacity:0})),us("visible",zn({transform:"scale(1)",opacity:1})),Wr("* => visible",$r("150ms cubic-bezier(0, 0, 0.2, 1)")),Wr("* => void, * => hidden",$r("75ms cubic-bezier(0.4, 0.0, 1, 1)",zn({opacity:0})))])};let sY=(()=>{class i extends N{constructor(e,s,o,c,f){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=o,this._platform=c,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ze.xQ,this._onExit=new ze.xQ,this._onEnter=new ze.xQ,this._animationState="void",this.attachDomPortal=y=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(y)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:s,toState:o}=e;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe($i(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>e.classList.add(o)):e.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Ut),u.Y36(cT))},i.\u0275cmp=u.Xpm({type:i,selectors:[["snack-bar-container"]],viewQuery:function(e,s){if(1&e&&u.Gf(Re,7),2&e){let o;u.iGM(o=u.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,s){1&e&&u.WFA("@state.done",function(c){return s.onAnimationEnd(c)}),2&e&&u.d8E("@state",s._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(u.TgZ(0,"div",0),u.YNc(1,tY,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&e&&(u.xp6(2),u.uIk("aria-live",s._live)("role",s._role))},directives:[Re],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[rY.snackBarState]}}),i})(),wP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[uk,tt,ji,dk,Qt],Qt]}),i})();const tU=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new cT}});let aY=(()=>{class i{constructor(e,s,o,c,f,y){this._overlay=e,this._live=s,this._injector=o,this._breakpointObserver=c,this._parentSnackBar=f,this._defaultConfig=y,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=iY,this.snackBarContainerComponent=sY,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",o){const c=Object.assign(Object.assign({},this._defaultConfig),o);return c.data={message:e,action:s},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const c=u.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:cT,useValue:s}]}),f=new D(this.snackBarContainerComponent,s.viewContainerRef,c),y=e.attach(f);return y.instance.snackBarConfig=s,y.instance}_attach(e,s){const o=Object.assign(Object.assign(Object.assign({},new cT),this._defaultConfig),s),c=this._createOverlay(o),f=this._attachSnackBarContainer(c,o),y=new bP(f,c);if(e instanceof u.Rgc){const C=new T(e,null,{$implicit:o.data,snackBarRef:y});y.instance=f.attachTemplatePortal(C)}else{const C=this._createInjector(o,y),x=new D(e,void 0,C),M=f.attachComponentPortal(x);y.instance=M.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(yt(c.detachments())).subscribe(C=>{const x=c.overlayElement.classList;C.matches?x.add(this.handsetCssClass):x.remove(this.handsetCssClass)}),o.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(y,o),this._openedSnackBarRef=y,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new QA;s.direction=e.direction;let o=this._overlay.position().global();const c="rtl"===e.direction,f="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,y=!f&&"center"!==e.horizontalPosition;return f?o.left("0"):y?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(e,s){return u.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:bP,useValue:s},{provide:eU,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Jd),u.LFG(Cm),u.LFG(u.zs3),u.LFG(JG),u.LFG(i,12),u.LFG(tU))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Jd),u.LFG(Cm),u.LFG(u.gxx),u.LFG(JG),u.LFG(i,12),u.LFG(tU))},token:i,providedIn:wP}),i})(),PC=(()=>{class i{constructor(e){this.snackbar=e}showSnackBar(e,s,o){this.snackbar.open(e,s,{duration:o,verticalPosition:"top"})}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(aY))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dT=(()=>{class i{constructor(e,s,o,c){this.router=e,this.angularFirestore=s,this.uiService=o,this.http=c,this.baseUrl="https://us-central1-testapp-c07dd.cloudfunctions.net",this.userLoggedIn=!1}signupUser(e){return this.angularFirestore.doc("/users/"+e.phone.substring(1)).set({displayName:e.displayName,phone:e.phone}).then(s=>{this.uiService.showSnackBar("You will get an OTP",null,300),this.saveIntoLocal("phone",e.phone)}).catch(s=>{this.uiService.showSnackBar("Sign up failed, try again later",null,300)})}sendMesg(e){return this.angularFirestore.collection("messages").add(e).then(s=>{this.uiService.showSnackBar("Message has been sent",null,300),this.saveIntoLocal("mesgId",s.id)}).catch(s=>{this.uiService.showSnackBar("Sign up failed, try again later",null,300)})}getMessageLogs(e){return this.angularFirestore.collection("message-log",s=>s.where("msgStatus.SmsSid","==",e)).valueChanges()}getUserByPhone(e){const s=e.substring(1);return this.angularFirestore.doc("users/"+s).snapshotChanges()}sendText(e){return this.post("/textSend",{phone:e.phone,messageText:e.messageText})}otpSend(e){return this.post("/otpSend",{phone:e})}otpVerificationCheck(e){const s=this.readFromLocal("phone");return this.post("/otpVerificationCheck",{phone:s,otp:e})}post(e,s,o){return this.http.post(this.baseUrl+e,s,o)}saveIntoLocal(e,s){sessionStorage.setItem(e,s)}readFromLocal(e){return sessionStorage.getItem(e)}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xi),u.LFG(vP),u.LFG(PC),u.LFG(qd))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lY=["*",[["mat-card-footer"]]],uY=["*","mat-card-footer"];let pY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),hT=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(ni,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,s){2&e&&u.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:uY,decls:2,vars:0,template:function(e,s){1&e&&(u.F$t(lY),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),nU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt],Qt]}),i})();const gY=["underline"],mY=["connectionContainer"],_Y=["inputContainer"],yY=["label"];function vY(i,t){1&i&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15),u._UZ(3,"div",16),u._UZ(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15),u._UZ(7,"div",16),u._UZ(8,"div",17),u.qZA(),u.BQk())}function bY(i,t){1&i&&(u.TgZ(0,"div",19),u.Hsn(1,1),u.qZA())}function wY(i,t){if(1&i&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&i){const e=u.oxw(2);u.xp6(3),u.Oqu(e._control.placeholder)}}function CY(i,t){1&i&&u.Hsn(0,3,["*ngSwitchCase","true"])}function EY(i,t){1&i&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function SY(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(e),u.oxw().updateOutlineGap()}),u.YNc(2,wY,4,1,"ng-container",12),u.YNc(3,CY,1,0,"ng-content",12),u.YNc(4,EY,2,0,"span",22),u.qZA()}if(2&i){const e=u.oxw();u.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),u.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),u.uIk("for",e._control.id)("aria-owns",e._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function xY(i,t){1&i&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function DY(i,t){if(1&i&&(u.TgZ(0,"div",25,26),u._UZ(2,"span",27),u.qZA()),2&i){const e=u.oxw();u.xp6(2),u.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function AY(i,t){if(1&i&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&i){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState)}}function MY(i,t){if(1&i&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&i){const e=u.oxw(2);u.Q6J("id",e._hintLabelId),u.xp6(1),u.Oqu(e.hintLabel)}}function TY(i,t){if(1&i&&(u.TgZ(0,"div",28),u.YNc(1,MY,2,2,"div",29),u.Hsn(2,6),u._UZ(3,"div",30),u.Hsn(4,7),u.qZA()),2&i){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",e.hintLabel)}}const IY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],RY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],iU=new u.OlP("MatError"),kY={transitionMessages:jl("transitionMessages",[us("enter",zn({opacity:1,transform:"translateY(0%)"})),Wr("void => enter",[zn({opacity:0,transform:"translateY(-5px)"}),$r("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i}),i})();const rU=new u.OlP("MatHint");let Ny=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["mat-label"]]}),i})(),PY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=u.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const sU=new u.OlP("MatPrefix"),oU=new u.OlP("MatSuffix");let aU=0;const LY=sc(class{constructor(i){this._elementRef=i}},"primary"),BY=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),CP=new u.OlP("MatFormField");let pT=(()=>{class i extends LY{constructor(e,s,o,c,f,y,C,x){super(e),this._changeDetectorRef=s,this._dir=c,this._defaults=f,this._platform=y,this._ngZone=C,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ze.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aU++,this._labelId="mat-form-field-label-"+aU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==x,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=at(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(li(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(yt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(li(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(li(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ks(this._label.nativeElement,"transitionend").pipe($i(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,o=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const c=this._connectionContainerRef.nativeElement,f=c.querySelectorAll(".mat-form-field-outline-start"),y=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const C=c.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(C),M=e.children,R=this._getStartEnd(M[0].getBoundingClientRect());let F=0;for(let V=0;V<M.length;V++)F+=M[V].offsetWidth;s=Math.abs(R-x)-5,o=F>0?.75*F+10:0}for(let C=0;C<f.length;C++)f[C].style.width=`${s}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(gi,8),u.Y36(BY,8),u.Y36(Ut),u.Y36(u.R0b),u.Y36(ni,8))},i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,fT,5),u.Suo(o,fT,7),u.Suo(o,Ny,5),u.Suo(o,Ny,7),u.Suo(o,PY,5),u.Suo(o,iU,5),u.Suo(o,rU,5),u.Suo(o,sU,5),u.Suo(o,oU,5)),2&e){let c;u.iGM(c=u.CRH())&&(s._controlNonStatic=c.first),u.iGM(c=u.CRH())&&(s._controlStatic=c.first),u.iGM(c=u.CRH())&&(s._labelChildNonStatic=c.first),u.iGM(c=u.CRH())&&(s._labelChildStatic=c.first),u.iGM(c=u.CRH())&&(s._placeholderChild=c.first),u.iGM(c=u.CRH())&&(s._errorChildren=c),u.iGM(c=u.CRH())&&(s._hintChildren=c),u.iGM(c=u.CRH())&&(s._prefixChildren=c),u.iGM(c=u.CRH())&&(s._suffixChildren=c)}},viewQuery:function(e,s){if(1&e&&(u.Gf(gY,5),u.Gf(mY,7),u.Gf(_Y,5),u.Gf(yY,5)),2&e){let o;u.iGM(o=u.CRH())&&(s.underlineRef=o.first),u.iGM(o=u.CRH())&&(s._connectionContainerRef=o.first),u.iGM(o=u.CRH())&&(s._inputContainerRef=o.first),u.iGM(o=u.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&u.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:CP,useExisting:i}]),u.qOj],ngContentSelectors:RY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(u.F$t(IY),u.TgZ(0,"div",0),u.TgZ(1,"div",1,2),u.NdJ("click",function(c){return s._control.onContainerClick&&s._control.onContainerClick(c)}),u.YNc(3,vY,9,0,"ng-container",3),u.YNc(4,bY,2,0,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,SY,5,16,"label",8),u.qZA(),u.qZA(),u.YNc(10,xY,2,0,"div",9),u.qZA(),u.YNc(11,DY,3,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,AY,2,1,"div",12),u.YNc(14,TY,5,2,"div",13),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngIf","outline"==s.appearance),u.xp6(1),u.Q6J("ngIf",s._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",s._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",s._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=s.appearance),u.xp6(1),u.Q6J("ngSwitch",s._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[Ft,er,xt,bd],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kY.transitionMessages]},changeDetection:0}),i})(),NC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,Qt,Gl],Qt]}),i})();const VY=["trigger"],GY=["panel"];function UY(i,t){if(1&i&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&i){const e=u.oxw();u.xp6(1),u.Oqu(e.placeholder)}}function jY(i,t){if(1&i&&(u.TgZ(0,"span",12),u._uU(1),u.qZA()),2&i){const e=u.oxw(2);u.xp6(1),u.Oqu(e.triggerValue)}}function HY(i,t){1&i&&u.Hsn(0,0,["*ngSwitchCase","true"])}function zY(i,t){if(1&i&&(u.TgZ(0,"span",9),u.YNc(1,jY,2,1,"span",10),u.YNc(2,HY,1,0,"ng-content",11),u.qZA()),2&i){const e=u.oxw();u.Q6J("ngSwitch",!!e.customTrigger),u.xp6(2),u.Q6J("ngSwitchCase",!0)}}function YY(i,t){if(1&i){const e=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",14,15),u.NdJ("@transformPanel.done",function(o){return u.CHM(e),u.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return u.CHM(e),u.oxw()._handleKeydown(o)}),u.Hsn(3,1),u.qZA(),u.qZA()}if(2&i){const e=u.oxw();u.Q6J("@transformPanelWrap",void 0),u.xp6(1),u.Gre("mat-select-panel ",e._getPanelTheme(),""),u.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),u.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),u.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const qY=[[["mat-select-trigger"]],"*"],$Y=["mat-select-trigger","*"],uU={transformPanelWrap:jl("transformPanelWrap",[Wr("* => void",kI("@transformPanel",[RI()],{optional:!0}))]),transformPanel:jl("transformPanel",[us("void",zn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),us("showing",zn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),us("showing-multiple",zn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Wr("void => *",$r("120ms cubic-bezier(0, 0, 0.2, 1)")),Wr("* => void",$r("100ms 25ms linear",zn({opacity:0})))])};let cU=0;const hU=new u.OlP("mat-select-scroll-strategy"),ZY=new u.OlP("MAT_SELECT_CONFIG"),JY={provide:hU,deps:[Jd],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class XY{constructor(t,e){this.source=t,this.value=e}}const eq=Xa(pw(Wl(gw(class{constructor(i,t,e,s,o){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=s,this.ngControl=o}})))),fU=new u.OlP("MatSelectTrigger");let tq=(()=>{class i extends eq{constructor(e,s,o,c,f,y,C,x,M,R,F,V,U,Q){var le,ce,Ae;super(f,c,C,x,R),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=o,this._dir=y,this._parentFormField=M,this._liveAnnouncer=U,this._defaultOptions=Q,this._panelOpen=!1,this._compareWith=(Ie,qe)=>Ie===qe,this._uid="mat-select-"+cU++,this._triggerAriaLabelledBy=null,this._destroy=new ze.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cU++,this._panelDoneAnimatingStream=new ze.xQ,this._overlayPanelClass=(null===(le=this._defaultOptions)||void 0===le?void 0:le.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Ae=null===(ce=this._defaultOptions)||void 0===ce?void 0:ce.disableOptionCentering)&&void 0!==Ae&&Ae,this.ariaLabel="",this.optionSelectionChanges=lp(()=>{const Ie=this.options;return Ie?Ie.changes.pipe(li(Ie),Qn(()=>(0,fi.T)(...Ie.map(qe=>qe.onSelectionChange)))):this._ngZone.onStable.pipe($i(1),Qn(()=>this.optionSelectionChanges))}),this.openedChange=new u.vpe,this._openedStream=this.openedChange.pipe(rn(Ie=>Ie),(0,et.U)(()=>{})),this._closedStream=this.openedChange.pipe(rn(Ie=>!Ie),(0,et.U)(()=>{})),this.selectionChange=new u.vpe,this.valueChange=new u.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Q?void 0:Q.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Q.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(F)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=at(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=at(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=at(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Wn(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ll(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Qu(),yt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(yt(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(li(null),yt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,o=40===s||38===s||37===s||39===s,c=13===s||32===s,f=this._keyManager;if(!f.isTyping()&&c&&!Ka(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const y=this.selected;f.onKeydown(e);const C=this.selected;C&&y!==C&&this._liveAnnouncer.announce(C.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,o=e.keyCode,c=40===o||38===o,f=s.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(f||13!==o&&32!==o||!s.activeItem||Ka(e))if(!f&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const y=this.options.some(C=>!C.disabled&&!C.selected);this.options.forEach(C=>{C.disabled||(y?C.select():C.deselect())})}else{const y=s.activeItemIndex;s.onKeydown(e),this._multiple&&c&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==y&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe($i(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const s=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch(c){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new Cd(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(yt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(yt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,fi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(yt(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,fi.T)(...this.options.map(s=>s._stateChanges)).pipe(yt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,s){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,o)=>this.sortComparator?this.sortComparator(s,o,e):e.indexOf(s)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let o=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(io),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Zm),u.Y36(u.SBq),u.Y36(gi,8),u.Y36(ep,8),u.Y36(ua,8),u.Y36(CP,8),u.Y36(la,10),u.$8M("tabindex"),u.Y36(hU),u.Y36(Cm),u.Y36(ZY,8))},i.\u0275dir=u.lG2({type:i,viewQuery:function(e,s){if(1&e&&(u.Gf(VY,5),u.Gf(GY,5),u.Gf(tB,5)),2&e){let o;u.iGM(o=u.CRH())&&(s.trigger=o.first),u.iGM(o=u.CRH())&&(s.panel=o.first),u.iGM(o=u.CRH())&&(s._overlayDir=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[u.qOj,u.TTD]}),i})(),EP=(()=>{class i extends tq{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,s,o){const c=this._getItemHeight();return Math.min(Math.max(0,c*e-s+c/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(yt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe($i(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const s=Cx(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===s?0:function(i,t,e,s){return i<e?i:i+t>e+256?Math.max(0,i-256+t):e}((e+s)*o,o,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new XY(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),o=this._isRtl(),c=this.multiple?56:32;let f;if(this.multiple)f=40;else if(this.disableOptionCentering)f=16;else{let x=this._selectionModel.selected[0]||this.options.first;f=x&&x.group?32:16}o||(f*=-1);const y=0-(e.left+f-(o?c:0)),C=e.right+f-s.width+(o?0:c);y>0?f+=y+8:C>0&&(f-=C+8),this._overlayDir.offsetX=Math.round(f),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,s,o){const c=this._getItemHeight(),f=(c-this._triggerRect.height)/2,y=Math.floor(256/c);let C;return this.disableOptionCentering?0:(C=0===this._scrollTop?e*c:this._scrollTop===o?(e-(this._getItemCount()-y))*c+(c-(this._getItemCount()*c-256)%c):s-c/2,Math.round(-1*C-f))}_checkOverlayWithinViewport(e){const s=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,f=o.height-this._triggerRect.bottom-8,y=Math.abs(this._offsetY),x=Math.min(this._getItemCount()*s,256)-y-this._triggerRect.height;x>f?this._adjustPanelUp(x,f):y>c?this._adjustPanelDown(y,c,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,s){const o=Math.round(e-s);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,s,o){const c=Math.round(e-s);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),s=this._getItemCount(),o=Math.min(s*e,256),f=s*e-o;let y;y=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),y+=Cx(y,this.options,this.optionGroups);const C=o/2;this._scrollTop=this._calculateOverlayScroll(y,C,f),this._offsetY=this._calculateOverlayOffsetY(y,C,f),this._checkOverlayWithinViewport(f)}_getOriginBasedOnOption(){const e=this._getItemHeight(),s=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(i)))(s||i)}}(),i.\u0275cmp=u.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(e,s,o){if(1&e&&(u.Suo(o,fU,5),u.Suo(o,e_,5),u.Suo(o,Xm,5)),2&e){let c;u.iGM(c=u.CRH())&&(s.customTrigger=c.first),u.iGM(c=u.CRH())&&(s.options=c),u.iGM(c=u.CRH())&&(s.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,s){1&e&&u.NdJ("keydown",function(c){return s._handleKeydown(c)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(u.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),u.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[u._Bn([{provide:fT,useExisting:i},{provide:bw,useExisting:i}]),u.qOj],ngContentSelectors:$Y,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(u.F$t(qY),u.TgZ(0,"div",0,1),u.NdJ("click",function(){return s.toggle()}),u.TgZ(3,"div",2),u.YNc(4,UY,2,1,"span",3),u.YNc(5,zY,3,2,"span",4),u.qZA(),u.TgZ(6,"div",5),u._UZ(7,"div",6),u.qZA(),u.qZA(),u.YNc(8,YY,4,14,"ng-template",7),u.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const o=u.MAs(1);u.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),u.xp6(3),u.Q6J("ngSwitch",s.empty),u.uIk("id",s._valueId),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(3),u.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[Dj,er,xt,tB,Pt,Cs],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[uU.transformPanelWrap,uU.transformPanel]},changeDetection:0}),i})(),nq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[JY],imports:[[ji,uk,ww,Qt],_d,NC,ww,Qt]}),i})();const pU=fd({passive:!0});let gU=(()=>{class i{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ro.E;const s=ir(e),o=this._monitoredElements.get(s);if(o)return o.subject;const c=new ze.xQ,f="cdk-text-field-autofilled",y=C=>{"cdk-text-field-autofill-start"!==C.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===C.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>c.next({target:C.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>c.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",y,pU),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:c,unlisten:()=>{s.removeEventListener("animationstart",y,pU)}}),c}stopMonitoring(e){const s=ir(e),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(Ut),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(Ut),u.LFG(u.R0b))},token:i,providedIn:"root"}),i})(),mU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[hd]]}),i})();const rq=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),sq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let oq=0;const aq=gw(class{constructor(i,t,e,s){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=s}});let mT=(()=>{class i extends aq{constructor(e,s,o,c,f,y,C,x,M,R){super(y,c,f,o),this._elementRef=e,this._platform=s,this._autofillMonitor=x,this._formField=R,this._uid="mat-input-"+oq++,this.focused=!1,this.stateChanges=new ze.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>Gv().has(U));const F=this._elementRef.nativeElement,V=F.nodeName.toLowerCase();this._inputValueAccessor=C||F,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",U=>{const Q=U.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=at(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=at(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Gv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=at(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const o=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=o,o?c.setAttribute("placeholder",o):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){sq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(Ut),u.Y36(la,10),u.Y36(ep,8),u.Y36(ua,8),u.Y36(Zm),u.Y36(rq,10),u.Y36(gU),u.Y36(u.R0b),u.Y36(CP,8))},i.\u0275dir=u.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&u.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(u.Ikx("disabled",s.disabled)("required",s.required),u.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),u.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[u._Bn([{provide:fT,useExisting:i}]),u.qOj,u.TTD]}),i})(),_U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[Zm],imports:[[mU,NC,Qt],mU,NC]}),i})();function lq(i,t){if(1&i&&(u.O4$(),u._UZ(0,"circle",3)),2&i){const e=u.oxw();u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),u.uIk("r",e._getCircleRadius())}}function uq(i,t){if(1&i&&(u.O4$(),u._UZ(0,"circle",3)),2&i){const e=u.oxw();u.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),u.uIk("r",e._getCircleRadius())}}const fq=sc(class{constructor(i){this._elementRef=i}},"primary"),vU=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class _o extends fq{constructor(t,e,s,o,c){super(t),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const f=_o._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(s.head)||f.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!c&&!c._forceAnimations,c&&(c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Wn(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Wn(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Wn(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=jv(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,s=_o._diameters;let o=s.get(t);if(!o||!o.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),t.appendChild(c),o||(o=new Set,s.set(t,o)),o.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}_o.\u0275fac=function(t){return new(t||_o)(u.Y36(u.SBq),u.Y36(Ut),u.Y36(J,8),u.Y36(ni,8),u.Y36(vU))},_o.\u0275cmp=u.Xpm({type:_o,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(u.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),u.Udp("width",e.diameter,"px")("height",e.diameter,"px"),u.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(u.O4$(),u.TgZ(0,"svg",0),u.YNc(1,lq,1,9,"circle",1),u.YNc(2,uq,1,7,"circle",2),u.qZA()),2&t&&(u.Udp("width",e.diameter,"px")("height",e.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===e.mode),u.uIk("viewBox",e._getViewBox()),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},directives:[er,xt],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),_o._diameters=new WeakMap;let bU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Qt,ji],Qt]}),i})();function mq(i,t){if(1&i&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&i){const e=t.$implicit;u.Q6J("value",e.dial_code),u.xp6(1),u.hij(" ",e.name+" "+e.dial_code," ")}}function _q(i,t){if(1&i&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&i){const e=t.$implicit;u.xp6(1),u.lnq(" To : ",e.msgStatus.To," Message Id : ",e.msgStatus.MessageSid," Status : ",e.msgStatus.MessageStatus," ")}}let yq=(()=>{class i{constructor(e,s,o,c){this.authService=e,this.router=s,this.uiService=o,this.afs=c,this.isdCodelist=hk,this.isProgressVisible=!1,this.firebaseErrorMessage=""}ngOnInit(){this.messageForm=new cc({message:new fs("",aa.required),isdCodes:new fs("",[aa.required]),phone:new fs("",[aa.required])})}send(){if(this.messageForm.invalid)return;const e=this.messageForm.value.isdCodes+this.messageForm.value.phone;if(!new RegExp(/^\+[1-9]\d{10,14}$/).test(e))return void this.uiService.showSnackBar("Invalid phone number",null,300);const o={messageText:this.messageForm.value.message,phone:e};this.isProgressVisible=!0,this.authService.sendText(o).subscribe(c=>{this.isProgressVisible=!1,this.itemRef=this.afs.collection("message-log",f=>f.where("msgStatus.SmsSid","==",c.result.sid)),this.items=this.itemRef.valueChanges()},c=>{this.isProgressVisible=!1,this.uiService.showSnackBar("Message failed",null,300)})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(dT),u.Y36(xi),u.Y36(PC),u.Y36(vP))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-home"]],decls:24,vars:7,consts:[[1,"form-card"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","isdCodes"],[3,"value",4,"ngFor","ngForOf"],["formControlName","phone","type","number","matInput","","placeholder","Phone"],["appearance","outline",1,"message-text"],["autocomplete","off","formControlName","message","type","text","matInput","","placeholder","Enter Message"],["mat-raised-button","","color","primary"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,s){1&e&&(u.TgZ(0,"mat-card",0),u.TgZ(1,"form",1),u.NdJ("ngSubmit",function(){return s.send()}),u.TgZ(2,"p"),u.TgZ(3,"mat-form-field",2),u.TgZ(4,"mat-select",3),u.YNc(5,mq,2,2,"mat-option",4),u.qZA(),u.qZA(),u.TgZ(6,"mat-form-field",2),u.TgZ(7,"mat-label"),u._uU(8,"Phone number"),u.qZA(),u._UZ(9,"input",5),u.qZA(),u.qZA(),u.TgZ(10,"p"),u.TgZ(11,"mat-form-field",6),u.TgZ(12,"mat-label"),u._uU(13,"Message"),u.qZA(),u._UZ(14,"input",7),u.qZA(),u.qZA(),u.TgZ(15,"button",8),u._uU(16,"Send"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",9),u._UZ(18,"mat-progress-spinner",10),u.qZA(),u.TgZ(19,"mat-card"),u.TgZ(20,"mat-card-subtitle"),u._uU(21,"Delivery Staus"),u.qZA(),u.YNc(22,_q,2,3,"p",11),u.ALo(23,"async"),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",s.messageForm),u.xp6(4),u.Q6J("ngForOf",s.isdCodelist),u.xp6(12),u.Udp("display",s.isProgressVisible?"inline":"none"),u.xp6(5),u.Q6J("ngForOf",u.lcZ(23,5,s.items)))},directives:[hT,tp,Wf,ua,pT,EP,tl,kd,Xe,Ny,ac,tu,mT,Ip,_o,pY,e_],pipes:[jy],styles:["section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#3f51b5;font-size:30px;margin:30px 0}section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{color:#3f51b5;font-weight:bold;font-size:20px;padding-bottom:20px}mat-tab-group[_ngcontent-%COMP%]{text-align:center}mat-tab-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:20px}.message-text[_ngcontent-%COMP%]{width:400px}"]}),i})();function vq(i,t){if(1&i&&(u.TgZ(0,"mat-option",11),u._uU(1),u.qZA()),2&i){const e=t.$implicit;u.Q6J("value",e.dial_code),u.xp6(1),u.hij(" ",e.name+" "+e.dial_code," ")}}function bq(i,t){if(1&i&&(u.TgZ(0,"div",12),u.TgZ(1,"span"),u._uU(2),u.qZA(),u.qZA()),2&i){const e=u.oxw();u.xp6(2),u.Oqu(e.firebaseErrorMessage)}}let wq=(()=>{class i{constructor(e,s,o){this.authService=e,this.router=s,this.uiService=o,this.isdCodelist=hk,this.isProgressVisible=!1,this.firebaseErrorMessage=""}ngOnInit(){this.loginForm=new cc({isdCodes:new fs("",[aa.required]),phone:new fs("",[aa.required])})}login(){if(this.loginForm.invalid)return;const e=this.loginForm.value.isdCodes+this.loginForm.value.phone;new RegExp(/^\+[1-9]\d{10,14}$/).test(e)?(this.isProgressVisible=!0,this.authService.getUserByPhone(e).subscribe(o=>{this.authService.otpSend(e).subscribe(c=>{this.uiService.showSnackBar("Otp has been sent",null,300),this.router.navigate(["/otp"])})},o=>{this.isProgressVisible=!1,this.uiService.showSnackBar("User does not exists, please sign up",null,300)})):this.uiService.showSnackBar("Invalid phone number",null,300)}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(dT),u.Y36(xi),u.Y36(PC))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"form-card"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","isdCodes"],[3,"value",4,"ngFor","ngForOf"],["formControlName","phone","type","text","matInput","","placeholder","Phone"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],["href","/home"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"],[3,"value"],[1,"error-style"]],template:function(e,s){1&e&&(u._UZ(0,"br"),u._UZ(1,"br"),u.TgZ(2,"mat-card",0),u.TgZ(3,"form",1),u.NdJ("ngSubmit",function(){return s.login()}),u.TgZ(4,"p"),u.TgZ(5,"mat-form-field",2),u.TgZ(6,"mat-select",3),u.YNc(7,vq,2,2,"mat-option",4),u.qZA(),u.qZA(),u.TgZ(8,"mat-form-field",2),u.TgZ(9,"mat-label"),u._uU(10,"Phone number"),u.qZA(),u._UZ(11,"input",5),u.qZA(),u.qZA(),u.YNc(12,bq,3,1,"div",6),u.TgZ(13,"button",7),u._uU(14,"Loing"),u.qZA(),u.TgZ(15,"a",8),u._uU(16,"Skip"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",9),u._UZ(18,"mat-progress-spinner",10),u.qZA()),2&e&&(u.xp6(3),u.Q6J("formGroup",s.loginForm),u.xp6(4),u.Q6J("ngForOf",s.isdCodelist),u.xp6(5),u.Q6J("ngIf",""!=s.firebaseErrorMessage),u.xp6(5),u.Udp("display",s.isProgressVisible?"inline":"none"))},directives:[hT,tp,Wf,ua,pT,EP,tl,kd,Xe,Ny,ac,mT,Ft,Ip,_o,e_],styles:["a[_ngcontent-%COMP%]{margin-left:20px}"]}),i})();function wU(i,t,e,s,o,c,f){try{var y=i[c](f),C=y.value}catch(x){return void e(x)}y.done?t(C):Promise.resolve(C).then(s,o)}function Eq(i,t){if(1&i&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&i){const e=t.$implicit;u.Q6J("value",e.dial_code),u.xp6(1),u.hij(" ",e.name+" "+e.dial_code," ")}}function Sq(i,t){if(1&i&&(u.TgZ(0,"div",13),u.TgZ(1,"span"),u._uU(2),u.qZA(),u.qZA()),2&i){const e=u.oxw();u.xp6(2),u.Oqu(e.firebaseErrorMessage)}}const xq=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-welcome"]],decls:2,vars:0,template:function(e,s){1&e&&(u.TgZ(0,"h2"),u._uU(1,"Sign up to send an SMS"),u.qZA())},styles:[""]}),i})()},{path:"home",component:yq},{path:"login",component:wq},{path:"signup",component:(()=>{class i{constructor(e,s,o){this.authService=e,this.router=s,this.uiService=o,this.isdCodelist=hk,this.isProgressVisible=!1,this.firebaseErrorMessage=""}ngOnInit(){this.signupForm=new cc({displayName:new fs("",aa.required),isdCodes:new fs("",[aa.required]),phone:new fs("",[aa.required])})}signup(){var e=this;return function(i){return function(){var t=this,e=arguments;return new Promise(function(s,o){var c=i.apply(t,e);function f(C){wU(c,s,o,f,y,"next",C)}function y(C){wU(c,s,o,f,y,"throw",C)}f(void 0)})}}(function*(){if(e.signupForm.invalid)return;const s=e.signupForm.value.isdCodes+e.signupForm.value.phone;if(!new RegExp(/^\+[1-9]\d{10,14}$/).test(s))return void e.uiService.showSnackBar("Invalid phone number",null,300);const c={displayName:e.signupForm.value.displayName,phone:s};console.log(c),e.isProgressVisible=!0,e.authService.signupUser(c).then(f=>{null==f?e.router.navigate(["/otp"]):0==f.isValid&&(e.firebaseErrorMessage=f.message),e.isProgressVisible=!1}).catch(()=>{e.isProgressVisible=!1})})()}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(dT),u.Y36(xi),u.Y36(PC))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-signup"]],decls:24,vars:5,consts:[[1,"form-card"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","displayName","type","text","matInput","","placeholder","Display Name"],["formControlName","isdCodes"],[3,"value",4,"ngFor","ngForOf"],["formControlName","phone","type","number","matInput","","placeholder","Phone"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],["href","/home"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"],[3,"value"],[1,"error-style"]],template:function(e,s){1&e&&(u._UZ(0,"br"),u._UZ(1,"br"),u.TgZ(2,"mat-card",0),u.TgZ(3,"form",1),u.NdJ("ngSubmit",function(){return s.signup()}),u.TgZ(4,"p"),u.TgZ(5,"mat-form-field",2),u.TgZ(6,"mat-label"),u._uU(7,"Name"),u.qZA(),u._UZ(8,"input",3),u.qZA(),u.qZA(),u.TgZ(9,"p"),u.TgZ(10,"mat-form-field",2),u.TgZ(11,"mat-select",4),u.YNc(12,Eq,2,2,"mat-option",5),u.qZA(),u.qZA(),u.TgZ(13,"mat-form-field",2),u.TgZ(14,"mat-label"),u._uU(15,"Phone number"),u.qZA(),u._UZ(16,"input",6),u.qZA(),u.qZA(),u.YNc(17,Sq,3,1,"div",7),u.TgZ(18,"button",8),u._uU(19,"Sign up"),u.qZA(),u.TgZ(20,"a",9),u._uU(21,"Skip"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"div",10),u._UZ(23,"mat-progress-spinner",11),u.qZA()),2&e&&(u.xp6(3),u.Q6J("formGroup",s.signupForm),u.xp6(9),u.Q6J("ngForOf",s.isdCodelist),u.xp6(5),u.Q6J("ngIf",""!=s.firebaseErrorMessage),u.xp6(5),u.Udp("display",s.isProgressVisible?"inline":"none"))},directives:[hT,tp,Wf,ua,pT,Ny,ac,mT,tl,kd,EP,Xe,tu,Ft,Ip,_o,e_],styles:["a[_ngcontent-%COMP%]{margin-left:20px}"]}),i})()},{path:"otp",component:(()=>{class i{constructor(e,s,o){this.authService=e,this.router=s,this.uiService=o,this.isProgressVisible=!1}ngOnInit(){this.otpForm=new cc({otpValue:new fs("",aa.required)})}validateOTP(){this.isProgressVisible=!0,this.authService.otpVerificationCheck(this.otpForm.value.otpValue).subscribe(e=>{this.isProgressVisible=!1,this.router.navigate(["/home"])},e=>{this.isProgressVisible=!1,this.uiService.showSnackBar("OTP Validation failed",null,300)})}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(dT),u.Y36(xi),u.Y36(PC))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-otp"]],decls:13,vars:3,consts:[[1,"form-card"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","otpValue","type","text","matInput","","placeholder","OTP"],["mat-raised-button","","color","primary"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"]],template:function(e,s){1&e&&(u._UZ(0,"br"),u._UZ(1,"br"),u.TgZ(2,"mat-card",0),u.TgZ(3,"form",1),u.NdJ("ngSubmit",function(){return s.validateOTP()}),u.TgZ(4,"p"),u.TgZ(5,"mat-form-field",2),u.TgZ(6,"mat-label"),u._uU(7,"Enter the OTP"),u.qZA(),u._UZ(8,"input",3),u.qZA(),u.qZA(),u.TgZ(9,"button",4),u._uU(10,"Submit"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",5),u._UZ(12,"mat-progress-spinner",6),u.qZA()),2&e&&(u.xp6(3),u.Q6J("formGroup",s.otpForm),u.xp6(8),u.Udp("display",s.isProgressVisible?"inline":"none"))},directives:[hT,tp,Wf,ua,pT,Ny,ac,mT,tl,kd,Ip,_o],styles:[""]}),i})()}];let Dq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,xA.forRoot(xq)],xA]}),i})(),NU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,Qt,tt,Uf,Gl,ON],Qt]}),i})(),BU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,Qt],Qt]}),i})(),c$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[ji,NU,Ix,dB,rk,dk,vD,cB,BU,bU,NC,nU,_U,wP],NU,Ix,dB,rk,dk,vD,cB,BU,bU,NC,nU,_U,wP]}),i})();class h${constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new f$(t,this.observables,this.project))}}class f$ extends IO{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(e0(this,e[c],void 0,c))}notifyNext(t,e,s){this.values[s]=e;const o=this.toRespond;if(o.length>0){const c=o.indexOf(s);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class g${constructor(t){this.predicate=t}call(t,e){return e.subscribe(new m$(t,this.predicate))}}class m$ extends pi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function VU(i){return null==i}function GU(i){return"function"==typeof i.set}function UU(i,t){return GU(t)?t:i.ref(t)}function jU(i,t){if(function(i){return"string"==typeof i}(i))return t.stringCase();if(GU(i))return t.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function BC(i,t,e="on",s=Ku.z){return new Fn.y(o=>{let c=null;return c=i[e](t,(f,y)=>{s.schedule(()=>{o.next({snapshot:f,prevKey:y})}),"once"===e&&s.schedule(()=>o.complete())},f=>{s.schedule(()=>o.error(f))}),"on"===e?{unsubscribe(){null!=c&&i.off(t,c)}}:{unsubscribe(){}}}).pipe((0,et.U)(o=>{const{snapshot:c,prevKey:f}=o;let y=null;return c.exists()&&(y=c.key),{type:t,payload:c,prevKey:f,key:y}}),(0,q_.B)())}function HU(i,t){const e=i.length;for(let s=0;s<e;s++)if(i[s].payload.key===t)return s;return-1}function w$(i,t){const{payload:e,prevKey:s,key:o}=t,c=HU(i,o),f=function(i,t){if(VU(t))return 0;{const e=HU(i,t);return-1===e?i.length:e+1}}(i,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(C=>{const x={payload:C,type:"value",prevKey:y,key:C.key};return y=C.key,i=[...i,x],!1})}return i;case"child_added":if(c>-1){const y=i[c-1];(y&&y.key||null)!==s&&(i=i.filter(C=>C.payload.key!==e.key)).splice(f,0,t)}else{if(null==s)return[t,...i];(i=i.slice()).splice(f,0,t)}return i;case"child_removed":return i.filter(y=>y.payload.key!==e.key);case"child_changed":return i.map(y=>y.payload.key===o?t:y);case"child_moved":if(c>-1){const y=i.splice(c,1)[0];return(i=i.slice()).splice(f,0,y),i}return i;default:return i}}function zU(i){return(VU(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function YU(i,t,e){return function(i,t,e){return BC(i,"value","once",e).pipe(Qn(s=>{const o=[(0,Ye.of)(s)];return t.forEach(c=>o.push(BC(i,c,"on",e))),(0,fi.T)(...o).pipe(nu(w$,[]))}),Qu())}(i,t=zU(t),e)}function qU(i,t,e){const s=(t=zU(t)).map(o=>BC(i,o,"on",e));return(0,fi.T)(...s)}function $U(i,t){return function(s,o){return jU(s,{stringCase:()=>i.child(s)[t](o),firebaseCase:()=>s[t](o),snapshotCase:()=>s.ref[t](o)})}}function x$(i){return function(e){return e?jU(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function WU(i,t){return function(){return BC(i,"value","on",t)}}j(9192);const QU=new u.OlP("angularfire2.realtimeDatabaseURL"),KU=new u.OlP("angularfire2.database.use-emulator");let M$=(()=>{class i{constructor(e,s,o,c,f,y,C){this.schedulers=new xn.HU(f),this.keepUnstableUntilFirst=(0,xn.ss)(this.schedulers);const x=y,M=(0,xn.on)(e,f,s);!gB.Z.auth&&C&&(0,xn.yq)(),this.database=(0,xn.sI)(`${M.name}.database.${o}`,"AngularFireDatabase",M,()=>{const R=f.runOutsideAngular(()=>M.database(o||void 0));return x&&R.useEmulator(...x),R},[x])}list(e,s){const o=this.schedulers.ngZone.runOutsideAngular(()=>UU(this.database,e));let c=o;return s&&(c=s(o)),function(i,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:$U(s,"update"),set:$U(s,"set"),push:o=>s.push(o),remove:x$(s),snapshotChanges:o=>YU(i,o,e).pipe(t.keepUnstableUntilFirst),stateChanges:o=>qU(i,o,e).pipe(t.keepUnstableUntilFirst),auditTrail:o=>function(i,t,e){return function(i,t,e){return function(i,t){return BC(i,"value","on",t).pipe((0,et.U)(e=>{let s;return e.payload.forEach(o=>(s=o.key,!1)),{data:e,lastKeyToLoad:s}}))}(i,e).pipe(function(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new h$(i,e))}}(t),(0,et.U)(([o,c])=>{const f=o.lastKeyToLoad,y=c.map(C=>C.key);return{actions:c,lastKeyToLoad:f,loadedKeys:y}}),function(i){return t=>t.lift(new g$(i))}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,et.U)(o=>o.actions))}(i,qU(i,t).pipe(nu((o,c)=>[...o,c],[])),e)}(i,o,e).pipe(t.keepUnstableUntilFirst),valueChanges:(o,c)=>YU(i,o,e).pipe((0,et.U)(y=>y.map(C=>c&&c.idField?Object.assign(Object.assign({},C.payload.val()),{[c.idField]:C.key}):C.payload.val())),t.keepUnstableUntilFirst)}}(c,this)}object(e){return function(i,t){return{query:i,snapshotChanges:()=>WU(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>WU(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst,(0,et.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>UU(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(u.LFG(xn.Dh),u.LFG(xn.xv,8),u.LFG(QU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(KU,8),u.LFG(Fy,8))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(xn.Dh),u.LFG(xn.xv,8),u.LFG(QU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(KU,8),u.LFG(Fy,8))},token:i,providedIn:"any"}),i})(),T$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[M$]}),i})(),I$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i,bootstrap:[Wj]}),i.\u0275inj=u.cJS({providers:[],imports:[[Dh,_R,Dq,c$,TP,xn.hO.initializeApp(fk_firebase),Kz,T$,EO,uD,nq,ek]]}),i})();(0,u.G48)(),Oo().bootstrapModule(I$).catch(i=>console.error(i))},4762:(Ze,De,j)=>{"use strict";j.d(De,{ZT:()=>he,pi:()=>k,mG:()=>ne,Jh:()=>Z,XA:()=>Y,CR:()=>ee,ev:()=>Se});var u=function(fe,me){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,de){ye.__proto__=de}||function(ye,de){for(var Me in de)Object.prototype.hasOwnProperty.call(de,Me)&&(ye[Me]=de[Me])})(fe,me)};function he(fe,me){if("function"!=typeof me&&null!==me)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function ye(){this.constructor=fe}u(fe,me),fe.prototype=null===me?Object.create(me):(ye.prototype=me.prototype,new ye)}var k=function(){return(k=Object.assign||function(me){for(var ye,de=1,Me=arguments.length;de<Me;de++)for(var pe in ye=arguments[de])Object.prototype.hasOwnProperty.call(ye,pe)&&(me[pe]=ye[pe]);return me}).apply(this,arguments)};function ne(fe,me,ye,de){return new(ye||(ye=Promise))(function(pe,ut){function dt(it){try{rt(de.next(it))}catch(He){ut(He)}}function gn(it){try{rt(de.throw(it))}catch(He){ut(He)}}function rt(it){it.done?pe(it.value):function(pe){return pe instanceof ye?pe:new ye(function(ut){ut(pe)})}(it.value).then(dt,gn)}rt((de=de.apply(fe,me||[])).next())})}function Z(fe,me){var de,Me,pe,ut,ye={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return ut={next:dt(0),throw:dt(1),return:dt(2)},"function"==typeof Symbol&&(ut[Symbol.iterator]=function(){return this}),ut;function dt(rt){return function(it){return function(rt){if(de)throw new TypeError("Generator is already executing.");for(;ye;)try{if(de=1,Me&&(pe=2&rt[0]?Me.return:rt[0]?Me.throw||((pe=Me.return)&&pe.call(Me),0):Me.next)&&!(pe=pe.call(Me,rt[1])).done)return pe;switch(Me=0,pe&&(rt=[2&rt[0],pe.value]),rt[0]){case 0:case 1:pe=rt;break;case 4:return ye.label++,{value:rt[1],done:!1};case 5:ye.label++,Me=rt[1],rt=[0];continue;case 7:rt=ye.ops.pop(),ye.trys.pop();continue;default:if(!(pe=(pe=ye.trys).length>0&&pe[pe.length-1])&&(6===rt[0]||2===rt[0])){ye=0;continue}if(3===rt[0]&&(!pe||rt[1]>pe[0]&&rt[1]<pe[3])){ye.label=rt[1];break}if(6===rt[0]&&ye.label<pe[1]){ye.label=pe[1],pe=rt;break}if(pe&&ye.label<pe[2]){ye.label=pe[2],ye.ops.push(rt);break}pe[2]&&ye.ops.pop(),ye.trys.pop();continue}rt=me.call(fe,ye)}catch(it){rt=[6,it],Me=0}finally{de=pe=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([rt,it])}}}function Y(fe){var me="function"==typeof Symbol&&Symbol.iterator,ye=me&&fe[me],de=0;if(ye)return ye.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&de>=fe.length&&(fe=void 0),{value:fe&&fe[de++],done:!fe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(fe,me){var ye="function"==typeof Symbol&&fe[Symbol.iterator];if(!ye)return fe;var Me,ut,de=ye.call(fe),pe=[];try{for(;(void 0===me||me-- >0)&&!(Me=de.next()).done;)pe.push(Me.value)}catch(dt){ut={error:dt}}finally{try{Me&&!Me.done&&(ye=de.return)&&ye.call(de)}finally{if(ut)throw ut.error}}return pe}function Se(fe,me,ye){if(ye||2===arguments.length)for(var pe,de=0,Me=me.length;de<Me;de++)(pe||!(de in me))&&(pe||(pe=Array.prototype.slice.call(me,0,de)),pe[de]=me[de]);return fe.concat(pe||Array.prototype.slice.call(me))}}},Ze=>{Ze(Ze.s=5993)}]);